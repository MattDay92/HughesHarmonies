(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Gh={exports:{}},Ea={},Kh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function fw(){if(Zm)return Ae;Zm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function V(F,Q,fe){this.props=F,this.context=Q,this.refs=M,this.updater=fe||k}V.prototype.isReactComponent={},V.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function W(){}W.prototype=V.prototype;function G(F,Q,fe){this.props=F,this.context=Q,this.refs=M,this.updater=fe||k}var Z=G.prototype=new W;Z.constructor=G,C(Z,V.prototype),Z.isPureReactComponent=!0;var re=Array.isArray,ve=Object.prototype.hasOwnProperty,me={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(F,Q,fe){var Se,Re={},Pe=null,Oe=null;if(Q!=null)for(Se in Q.ref!==void 0&&(Oe=Q.ref),Q.key!==void 0&&(Pe=""+Q.key),Q)ve.call(Q,Se)&&!D.hasOwnProperty(Se)&&(Re[Se]=Q[Se]);var Me=arguments.length-2;if(Me===1)Re.children=fe;else if(1<Me){for(var ze=Array(Me),_t=0;_t<Me;_t++)ze[_t]=arguments[_t+2];Re.children=ze}if(F&&F.defaultProps)for(Se in Me=F.defaultProps,Me)Re[Se]===void 0&&(Re[Se]=Me[Se]);return{$$typeof:r,type:F,key:Pe,ref:Oe,props:Re,_owner:me.current}}function x(F,Q){return{$$typeof:r,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function b(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function O(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(fe){return Q[fe]})}var j=/\/+/g;function P(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):Q.toString(36)}function rt(F,Q,fe,Se,Re){var Pe=typeof F;(Pe==="undefined"||Pe==="boolean")&&(F=null);var Oe=!1;if(F===null)Oe=!0;else switch(Pe){case"string":case"number":Oe=!0;break;case"object":switch(F.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=F,Re=Re(Oe),F=Se===""?"."+P(Oe,0):Se,re(Re)?(fe="",F!=null&&(fe=F.replace(j,"$&/")+"/"),rt(Re,Q,fe,"",function(_t){return _t})):Re!=null&&(b(Re)&&(Re=x(Re,fe+(!Re.key||Oe&&Oe.key===Re.key?"":(""+Re.key).replace(j,"$&/")+"/")+F)),Q.push(Re)),1;if(Oe=0,Se=Se===""?".":Se+":",re(F))for(var Me=0;Me<F.length;Me++){Pe=F[Me];var ze=Se+P(Pe,Me);Oe+=rt(Pe,Q,fe,ze,Re)}else if(ze=S(F),typeof ze=="function")for(F=ze.call(F),Me=0;!(Pe=F.next()).done;)Pe=Pe.value,ze=Se+P(Pe,Me++),Oe+=rt(Pe,Q,fe,ze,Re);else if(Pe==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Dt(F,Q,fe){if(F==null)return F;var Se=[],Re=0;return rt(F,Se,"","",function(Pe){return Q.call(fe,Pe,Re++)}),Se}function bt(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(fe){(F._status===0||F._status===-1)&&(F._status=1,F._result=fe)},function(fe){(F._status===0||F._status===-1)&&(F._status=2,F._result=fe)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var Ue={current:null},ie={transition:null},ge={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ie,ReactCurrentOwner:me};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Dt,forEach:function(F,Q,fe){Dt(F,function(){Q.apply(this,arguments)},fe)},count:function(F){var Q=0;return Dt(F,function(){Q++}),Q},toArray:function(F){return Dt(F,function(Q){return Q})||[]},only:function(F){if(!b(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ae.Component=V,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=G,Ae.StrictMode=s,Ae.Suspense=p,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ae.act=oe,Ae.cloneElement=function(F,Q,fe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Se=C({},F.props),Re=F.key,Pe=F.ref,Oe=F._owner;if(Q!=null){if(Q.ref!==void 0&&(Pe=Q.ref,Oe=me.current),Q.key!==void 0&&(Re=""+Q.key),F.type&&F.type.defaultProps)var Me=F.type.defaultProps;for(ze in Q)ve.call(Q,ze)&&!D.hasOwnProperty(ze)&&(Se[ze]=Q[ze]===void 0&&Me!==void 0?Me[ze]:Q[ze])}var ze=arguments.length-2;if(ze===1)Se.children=fe;else if(1<ze){Me=Array(ze);for(var _t=0;_t<ze;_t++)Me[_t]=arguments[_t+2];Se.children=Me}return{$$typeof:r,type:F.type,key:Re,ref:Pe,props:Se,_owner:Oe}},Ae.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},Ae.createElement=R,Ae.createFactory=function(F){var Q=R.bind(null,F);return Q.type=F,Q},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(F){return{$$typeof:f,render:F}},Ae.isValidElement=b,Ae.lazy=function(F){return{$$typeof:w,_payload:{_status:-1,_result:F},_init:bt}},Ae.memo=function(F,Q){return{$$typeof:y,type:F,compare:Q===void 0?null:Q}},Ae.startTransition=function(F){var Q=ie.transition;ie.transition={};try{F()}finally{ie.transition=Q}},Ae.unstable_act=oe,Ae.useCallback=function(F,Q){return Ue.current.useCallback(F,Q)},Ae.useContext=function(F){return Ue.current.useContext(F)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(F){return Ue.current.useDeferredValue(F)},Ae.useEffect=function(F,Q){return Ue.current.useEffect(F,Q)},Ae.useId=function(){return Ue.current.useId()},Ae.useImperativeHandle=function(F,Q,fe){return Ue.current.useImperativeHandle(F,Q,fe)},Ae.useInsertionEffect=function(F,Q){return Ue.current.useInsertionEffect(F,Q)},Ae.useLayoutEffect=function(F,Q){return Ue.current.useLayoutEffect(F,Q)},Ae.useMemo=function(F,Q){return Ue.current.useMemo(F,Q)},Ae.useReducer=function(F,Q,fe){return Ue.current.useReducer(F,Q,fe)},Ae.useRef=function(F){return Ue.current.useRef(F)},Ae.useState=function(F){return Ue.current.useState(F)},Ae.useSyncExternalStore=function(F,Q,fe){return Ue.current.useSyncExternalStore(F,Q,fe)},Ae.useTransition=function(){return Ue.current.useTransition()},Ae.version="18.3.1",Ae}var eg;function Bd(){return eg||(eg=1,Kh.exports=fw()),Kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function pw(){if(tg)return Ea;tg=1;var r=Bd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var w,T={},S=null,k=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(k=p.ref);for(w in p)s.call(p,w)&&!l.hasOwnProperty(w)&&(T[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:f,key:S,ref:k,props:T,_owner:o.current}}return Ea.Fragment=t,Ea.jsx=h,Ea.jsxs=h,Ea}var ng;function mw(){return ng||(ng=1,Gh.exports=pw()),Gh.exports}var E=mw(),H=Bd(),gu={},Qh={exports:{}},Zt={},Xh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function gw(){return rg||(rg=1,function(r){function e(ie,ge){var oe=ie.length;ie.push(ge);e:for(;0<oe;){var F=oe-1>>>1,Q=ie[F];if(0<o(Q,ge))ie[F]=ge,ie[oe]=Q,oe=F;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ge=ie[0],oe=ie.pop();if(oe!==ge){ie[0]=oe;e:for(var F=0,Q=ie.length,fe=Q>>>1;F<fe;){var Se=2*(F+1)-1,Re=ie[Se],Pe=Se+1,Oe=ie[Pe];if(0>o(Re,oe))Pe<Q&&0>o(Oe,Re)?(ie[F]=Oe,ie[Pe]=oe,F=Pe):(ie[F]=Re,ie[Se]=oe,F=Se);else if(Pe<Q&&0>o(Oe,oe))ie[F]=Oe,ie[Pe]=oe,F=Pe;else break e}}return ge}function o(ie,ge){var oe=ie.sortIndex-ge.sortIndex;return oe!==0?oe:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],y=[],w=1,T=null,S=3,k=!1,C=!1,M=!1,V=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(ie){for(var ge=t(y);ge!==null;){if(ge.callback===null)s(y);else if(ge.startTime<=ie)s(y),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(y)}}function re(ie){if(M=!1,Z(ie),!C)if(t(p)!==null)C=!0,bt(ve);else{var ge=t(y);ge!==null&&Ue(re,ge.startTime-ie)}}function ve(ie,ge){C=!1,M&&(M=!1,W(R),R=-1),k=!0;var oe=S;try{for(Z(ge),T=t(p);T!==null&&(!(T.expirationTime>ge)||ie&&!O());){var F=T.callback;if(typeof F=="function"){T.callback=null,S=T.priorityLevel;var Q=F(T.expirationTime<=ge);ge=r.unstable_now(),typeof Q=="function"?T.callback=Q:T===t(p)&&s(p),Z(ge)}else s(p);T=t(p)}if(T!==null)var fe=!0;else{var Se=t(y);Se!==null&&Ue(re,Se.startTime-ge),fe=!1}return fe}finally{T=null,S=oe,k=!1}}var me=!1,D=null,R=-1,x=5,b=-1;function O(){return!(r.unstable_now()-b<x)}function j(){if(D!==null){var ie=r.unstable_now();b=ie;var ge=!0;try{ge=D(!0,ie)}finally{ge?P():(me=!1,D=null)}}else me=!1}var P;if(typeof G=="function")P=function(){G(j)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Dt=rt.port2;rt.port1.onmessage=j,P=function(){Dt.postMessage(null)}}else P=function(){V(j,0)};function bt(ie){D=ie,me||(me=!0,P())}function Ue(ie,ge){R=V(function(){ie(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){C||k||(C=!0,bt(ve))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var oe=S;S=ge;try{return ie()}finally{S=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var oe=S;S=ie;try{return ge()}finally{S=oe}},r.unstable_scheduleCallback=function(ie,ge,oe){var F=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,ie){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,ie={id:w++,callback:ge,priorityLevel:ie,startTime:oe,expirationTime:Q,sortIndex:-1},oe>F?(ie.sortIndex=oe,e(y,ie),t(p)===null&&ie===t(y)&&(M?(W(R),R=-1):M=!0,Ue(re,oe-F))):(ie.sortIndex=Q,e(p,ie),C||k||(C=!0,bt(ve))),ie},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(ie){var ge=S;return function(){var oe=S;S=ge;try{return ie.apply(this,arguments)}finally{S=oe}}}}(Yh)),Yh}var ig;function yw(){return ig||(ig=1,Xh.exports=gw()),Xh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function _w(){if(sg)return Zt;sg=1;var r=Bd(),e=yw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(n){return p.call(T,n)?!0:p.call(w,n)?!1:y.test(n)?T[n]=!0:(w[n]=!0,!1)}function k(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,i,a,c){if(i===null||typeof i>"u"||k(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function M(n,i,a,c,d,g,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=v}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){V[n]=new M(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];V[i]=new M(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){V[n]=new M(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){V[n]=new M(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){V[n]=new M(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){V[n]=new M(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){V[n]=new M(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){V[n]=new M(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){V[n]=new M(n,5,!1,n.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function G(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(W,G);V[i]=new M(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(W,G);V[i]=new M(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(W,G);V[i]=new M(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){V[n]=new M(n,1,!1,n.toLowerCase(),null,!1,!1)}),V.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){V[n]=new M(n,1,!1,n.toLowerCase(),null,!0,!0)});function Z(n,i,a,c){var d=V.hasOwnProperty(i)?V[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,a,d,c)&&(a=null),c||d===null?S(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var re=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),me=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,F;function Q(n){if(F===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+n}var fe=!1;function Se(n,i){if(!n||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var c=$}Reflect.construct(n,[],i)}else{try{i.call()}catch($){c=$}n.call(i.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),g=c.stack.split(`
`),v=d.length-1,A=g.length-1;1<=v&&0<=A&&d[v]!==g[A];)A--;for(;1<=v&&0<=A;v--,A--)if(d[v]!==g[A]){if(v!==1||A!==1)do if(v--,A--,0>A||d[v]!==g[A]){var N=`
`+d[v].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),N}while(1<=v&&0<=A);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Q(n):""}function Re(n){switch(n.tag){case 5:return Q(n.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return n=Se(n.type,!1),n;case 11:return n=Se(n.type.render,!1),n;case 1:return n=Se(n.type,!0),n;default:return""}}function Pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case me:return"Portal";case x:return"Profiler";case R:return"StrictMode";case P:return"Suspense";case rt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Consumer";case b:return(n._context.displayName||"Context")+".Provider";case j:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Dt:return i=n.displayName||null,i!==null?i:Pe(n.type)||"Memo";case bt:i=n._payload,n=n._init;try{return Pe(n(i))}catch{}}return null}function Oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(i);case 8:return i===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ze(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _t(n){var i=ze(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,g.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function cr(n){n._valueTracker||(n._valueTracker=_t(n))}function ds(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=ze(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Or(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Si(n,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function fs(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Co(n,i){i=i.checked,i!=null&&Z(n,"checked",i,!1)}function xo(n,i){Co(n,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ps(n,i.type,a):i.hasOwnProperty("defaultValue")&&ps(n,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function tl(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ps(n,i,a){(i!=="number"||Or(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var hr=Array.isArray;function dr(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function ko(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ms(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(hr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Me(a)}}function gs(n,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Po(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ht(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ht(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var fr,No=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=fr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Mr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ai=["Webkit","ms","Moz","O"];Object.keys(Ri).forEach(function(n){Ai.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Ri[i]=Ri[n]})});function Do(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ri.hasOwnProperty(n)&&Ri[n]?(""+i).trim():i+"px"}function bo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Do(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Vo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lo(n,i){if(i){if(Vo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Oo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ci=null;function ys(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _s=null,gn=null,Wn=null;function vs(n){if(n=oa(n)){if(typeof _s!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Nl(i),_s(n.stateNode,n.type,i))}}function Gn(n){gn?Wn?Wn.push(n):Wn=[n]:gn=n}function Mo(){if(gn){var n=gn,i=Wn;if(Wn=gn=null,vs(n),i)for(n=0;n<i.length;n++)vs(i[n])}}function xi(n,i){return n(i)}function Fo(){}var pr=!1;function jo(n,i,a){if(pr)return n(i,a);pr=!0;try{return xi(n,i,a)}finally{pr=!1,(gn!==null||Wn!==null)&&(Fo(),Mo())}}function it(n,i){var a=n.stateNode;if(a===null)return null;var c=Nl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ws=!1;if(f)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){ws=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{ws=!1}function ki(n,i,a,c,d,g,v,A,N){var $=Array.prototype.slice.call(arguments,3);try{i.apply(a,$)}catch(J){this.onError(J)}}var Pi=!1,Es=null,kn=!1,Uo=null,Ec={onError:function(n){Pi=!0,Es=n}};function Ts(n,i,a,c,d,g,v,A,N){Pi=!1,Es=null,ki.apply(Ec,arguments)}function nl(n,i,a,c,d,g,v,A,N){if(Ts.apply(this,arguments),Pi){if(Pi){var $=Es;Pi=!1,Es=null}else throw Error(t(198));kn||(kn=!0,Uo=$)}}function Pn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ni(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Nn(n){if(Pn(n)!==n)throw Error(t(188))}function rl(n){var i=n.alternate;if(!i){if(i=Pn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Nn(d),n;if(g===c)return Nn(d),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var v=!1,A=d.child;A;){if(A===a){v=!0,a=d,c=g;break}if(A===c){v=!0,c=d,a=g;break}A=A.sibling}if(!v){for(A=g.child;A;){if(A===a){v=!0,a=g,c=d;break}if(A===c){v=!0,c=g,a=d;break}A=A.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Bo(n){return n=rl(n),n!==null?Is(n):null}function Is(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Is(n);if(i!==null)return i;n=n.sibling}return null}var Ss=e.unstable_scheduleCallback,zo=e.unstable_cancelCallback,il=e.unstable_shouldYield,Tc=e.unstable_requestPaint,$e=e.unstable_now,sl=e.unstable_getCurrentPriorityLevel,Di=e.unstable_ImmediatePriority,Fr=e.unstable_UserBlockingPriority,yn=e.unstable_NormalPriority,$o=e.unstable_LowPriority,ol=e.unstable_IdlePriority,bi=null,sn=null;function al(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(bi,n,void 0,(n.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:ul,qo=Math.log,ll=Math.LN2;function ul(n){return n>>>=0,n===0?32:31-(qo(n)/ll|0)|0}var Rs=64,As=4194304;function jr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,v=a&268435455;if(v!==0){var A=v&~d;A!==0?c=jr(A):(g&=v,g!==0&&(c=jr(g)))}else v=a&~d,v!==0?c=jr(v):g!==0&&(c=jr(g));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,g=i&-i,d>=g||d===16&&(g&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Bt(i),d=1<<a,c|=n[a],i&=~d;return c}function Ic(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var v=31-Bt(g),A=1<<v,N=d[v];N===-1?(!(A&a)||A&c)&&(d[v]=Ic(A,i)):N<=i&&(n.expiredLanes|=A),g&=~A}}function on(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Li(){var n=Rs;return Rs<<=1,!(Rs&4194240)&&(Rs=64),n}function Ur(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Br(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Bt(i),n[i]=a}function Be(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Bt(a),g=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function zr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Bt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var xe=0;function $r(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var cl,Cs,hl,dl,fl,Ho=!1,Kn=[],Rt=null,Dn=null,bn=null,qr=new Map,_n=new Map,Qn=[],Sc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pl(n,i){switch(n){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":qr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(i.pointerId)}}function Wt(n,i,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=oa(i),i!==null&&Cs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Rc(n,i,a,c,d){switch(i){case"focusin":return Rt=Wt(Rt,n,i,a,c,d),!0;case"dragenter":return Dn=Wt(Dn,n,i,a,c,d),!0;case"mouseover":return bn=Wt(bn,n,i,a,c,d),!0;case"pointerover":var g=d.pointerId;return qr.set(g,Wt(qr.get(g)||null,n,i,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,_n.set(g,Wt(_n.get(g)||null,n,i,a,c,d)),!0}return!1}function ml(n){var i=Ui(n.target);if(i!==null){var a=Pn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ni(a),i!==null){n.blockedOn=i,fl(n.priority,function(){hl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=xs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ci=c,a.target.dispatchEvent(c),Ci=null}else return i=oa(a),i!==null&&Cs(i),n.blockedOn=a,!1;i.shift()}return!0}function Oi(n,i,a){gr(n)&&a.delete(i)}function gl(){Ho=!1,Rt!==null&&gr(Rt)&&(Rt=null),Dn!==null&&gr(Dn)&&(Dn=null),bn!==null&&gr(bn)&&(bn=null),qr.forEach(Oi),_n.forEach(Oi)}function Vn(n,i){n.blockedOn===i&&(n.blockedOn=null,Ho||(Ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gl)))}function Ln(n){function i(d){return Vn(d,n)}if(0<Kn.length){Vn(Kn[0],n);for(var a=1;a<Kn.length;a++){var c=Kn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Rt!==null&&Vn(Rt,n),Dn!==null&&Vn(Dn,n),bn!==null&&Vn(bn,n),qr.forEach(i),_n.forEach(i),a=0;a<Qn.length;a++)c=Qn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)ml(a),a.blockedOn===null&&Qn.shift()}var yr=re.ReactCurrentBatchConfig,Hr=!0;function Qe(n,i,a,c){var d=xe,g=yr.transition;yr.transition=null;try{xe=1,Wo(n,i,a,c)}finally{xe=d,yr.transition=g}}function Ac(n,i,a,c){var d=xe,g=yr.transition;yr.transition=null;try{xe=4,Wo(n,i,a,c)}finally{xe=d,yr.transition=g}}function Wo(n,i,a,c){if(Hr){var d=xs(n,i,a,c);if(d===null)Mc(n,i,c,Mi,a),pl(n,c);else if(Rc(d,n,i,a,c))c.stopPropagation();else if(pl(n,c),i&4&&-1<Sc.indexOf(n)){for(;d!==null;){var g=oa(d);if(g!==null&&cl(g),g=xs(n,i,a,c),g===null&&Mc(n,i,c,Mi,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Mc(n,i,c,null,a)}}var Mi=null;function xs(n,i,a,c){if(Mi=null,n=ys(c),n=Ui(n),n!==null)if(i=Pn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ni(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Mi=n,null}function Go(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sl()){case Di:return 1;case Fr:return 4;case yn:case $o:return 16;case ol:return 536870912;default:return 16}default:return 16}}var an=null,ks=null,Gt=null;function Ko(){if(Gt)return Gt;var n,i=ks,a=i.length,c,d="value"in an?an.value:an.textContent,g=d.length;for(n=0;n<a&&i[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===d[g-c];c++);return Gt=d.slice(n,1<c?1-c:void 0)}function Ps(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Xn(){return!0}function Qo(){return!1}function At(n){function i(a,c,d,g,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xn:Qo,this.isPropagationStopped=Qo,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=At(On),Yn=oe({},On,{view:0,detail:0}),Cc=At(Yn),Ds,_r,Wr,Fi=oe({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wr&&(Wr&&n.type==="mousemove"?(Ds=n.screenX-Wr.screenX,_r=n.screenY-Wr.screenY):_r=Ds=0,Wr=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:_r}}),bs=At(Fi),Xo=oe({},Fi,{dataTransfer:0}),yl=At(Xo),Vs=oe({},Yn,{relatedTarget:0}),Ls=At(Vs),_l=oe({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),vr=At(_l),vl=oe({},On,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wl=At(vl),El=oe({},On,{data:0}),Yo=At(El),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Il(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Tl[n])?!!i[n]:!1}function Jn(){return Il}var u=oe({},Yn,{key:function(n){if(n.key){var i=Os[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ps(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jn,charCode:function(n){return n.type==="keypress"?Ps(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ps(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=At(u),_=oe({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=At(_),U=oe({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jn}),q=At(U),ne=oe({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=At(ne),ft=oe({},Fi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=At(ft),vt=[9,13,27,32],at=f&&"CompositionEvent"in window,vn=null;f&&"documentMode"in document&&(vn=document.documentMode);var ln=f&&"TextEvent"in window&&!vn,ji=f&&(!at||vn&&8<vn&&11>=vn),Ms=" ",Gf=!1;function Kf(n,i){switch(n){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fs=!1;function h0(n,i){switch(n){case"compositionend":return Qf(i);case"keypress":return i.which!==32?null:(Gf=!0,Ms);case"textInput":return n=i.data,n===Ms&&Gf?null:n;default:return null}}function d0(n,i){if(Fs)return n==="compositionend"||!at&&Kf(n,i)?(n=Ko(),Gt=ks=an=null,Fs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ji&&i.locale!=="ko"?null:i.data;default:return null}}var f0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!f0[n.type]:i==="textarea"}function Yf(n,i,a,c){Gn(c),i=xl(i,"onChange"),0<i.length&&(a=new Ns("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Jo=null,Zo=null;function p0(n){mp(n,0)}function Sl(n){var i=$s(n);if(ds(i))return n}function m0(n,i){if(n==="change")return i}var Jf=!1;if(f){var xc;if(f){var kc="oninput"in document;if(!kc){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),kc=typeof Zf.oninput=="function"}xc=kc}else xc=!1;Jf=xc&&(!document.documentMode||9<document.documentMode)}function ep(){Jo&&(Jo.detachEvent("onpropertychange",tp),Zo=Jo=null)}function tp(n){if(n.propertyName==="value"&&Sl(Zo)){var i=[];Yf(i,Zo,n,ys(n)),jo(p0,i)}}function g0(n,i,a){n==="focusin"?(ep(),Jo=i,Zo=a,Jo.attachEvent("onpropertychange",tp)):n==="focusout"&&ep()}function y0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sl(Zo)}function _0(n,i){if(n==="click")return Sl(i)}function v0(n,i){if(n==="input"||n==="change")return Sl(i)}function w0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Mn=typeof Object.is=="function"?Object.is:w0;function ea(n,i){if(Mn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(i,d)||!Mn(n[d],i[d]))return!1}return!0}function np(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rp(n,i){var a=np(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=np(a)}}function ip(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ip(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function sp(){for(var n=window,i=Or();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Or(n.document)}return i}function Pc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function E0(n){var i=sp(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&ip(a.ownerDocument.documentElement,a)){if(c!==null&&Pc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=rp(a,g);var v=rp(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var T0=f&&"documentMode"in document&&11>=document.documentMode,js=null,Nc=null,ta=null,Dc=!1;function op(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dc||js==null||js!==Or(c)||(c=js,"selectionStart"in c&&Pc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ta&&ea(ta,c)||(ta=c,c=xl(Nc,"onSelect"),0<c.length&&(i=new Ns("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=js)))}function Rl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Us={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},bc={},ap={};f&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Al(n){if(bc[n])return bc[n];if(!Us[n])return n;var i=Us[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in ap)return bc[n]=i[a];return n}var lp=Al("animationend"),up=Al("animationiteration"),cp=Al("animationstart"),hp=Al("transitionend"),dp=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(n,i){dp.set(n,i),l(i,[n])}for(var Vc=0;Vc<fp.length;Vc++){var Lc=fp[Vc],I0=Lc.toLowerCase(),S0=Lc[0].toUpperCase()+Lc.slice(1);Gr(I0,"on"+S0)}Gr(lp,"onAnimationEnd"),Gr(up,"onAnimationIteration"),Gr(cp,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(hp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function pp(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,nl(c,i,void 0,n),n.currentTarget=null}function mp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var v=c.length-1;0<=v;v--){var A=c[v],N=A.instance,$=A.currentTarget;if(A=A.listener,N!==g&&d.isPropagationStopped())break e;pp(d,A,$),g=N}else for(v=0;v<c.length;v++){if(A=c[v],N=A.instance,$=A.currentTarget,A=A.listener,N!==g&&d.isPropagationStopped())break e;pp(d,A,$),g=N}}}if(kn)throw n=Uo,kn=!1,Uo=null,n}function He(n,i){var a=i[$c];a===void 0&&(a=i[$c]=new Set);var c=n+"__bubble";a.has(c)||(gp(i,n,2,!1),a.add(c))}function Oc(n,i,a){var c=0;i&&(c|=4),gp(a,n,c,i)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function ra(n){if(!n[Cl]){n[Cl]=!0,s.forEach(function(a){a!=="selectionchange"&&(R0.has(a)||Oc(a,!1,n),Oc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Cl]||(i[Cl]=!0,Oc("selectionchange",!1,i))}}function gp(n,i,a,c){switch(Go(i)){case 1:var d=Qe;break;case 4:d=Ac;break;default:d=Wo}a=d.bind(null,i,a,n),d=void 0,!ws||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Mc(n,i,a,c,d){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;v=v.return}for(;A!==null;){if(v=Ui(A),v===null)return;if(N=v.tag,N===5||N===6){c=g=v;continue e}A=A.parentNode}}c=c.return}jo(function(){var $=g,J=ys(a),ee=[];e:{var Y=dp.get(n);if(Y!==void 0){var se=Ns,ue=n;switch(n){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=Ls;break;case"focusout":ue="blur",se=Ls;break;case"beforeblur":case"afterblur":se=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=q;break;case lp:case up:case cp:se=vr;break;case hp:se=je;break;case"scroll":se=Cc;break;case"wheel":se=Ne;break;case"copy":case"cut":case"paste":se=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=I}var he=(i&4)!==0,st=!he&&n==="scroll",B=he?Y!==null?Y+"Capture":null:Y;he=[];for(var L=$,z;L!==null;){z=L;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,B!==null&&(te=it(L,B),te!=null&&he.push(ia(L,te,z)))),st)break;L=L.return}0<he.length&&(Y=new se(Y,ue,null,a,J),ee.push({event:Y,listeners:he}))}}if(!(i&7)){e:{if(Y=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",Y&&a!==Ci&&(ue=a.relatedTarget||a.fromElement)&&(Ui(ue)||ue[wr]))break e;if((se||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=$,ue=ue?Ui(ue):null,ue!==null&&(st=Pn(ue),ue!==st||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=$),se!==ue)){if(he=bs,te="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(he=I,te="onPointerLeave",B="onPointerEnter",L="pointer"),st=se==null?Y:$s(se),z=ue==null?Y:$s(ue),Y=new he(te,L+"leave",se,a,J),Y.target=st,Y.relatedTarget=z,te=null,Ui(J)===$&&(he=new he(B,L+"enter",ue,a,J),he.target=z,he.relatedTarget=st,te=he),st=te,se&&ue)t:{for(he=se,B=ue,L=0,z=he;z;z=Bs(z))L++;for(z=0,te=B;te;te=Bs(te))z++;for(;0<L-z;)he=Bs(he),L--;for(;0<z-L;)B=Bs(B),z--;for(;L--;){if(he===B||B!==null&&he===B.alternate)break t;he=Bs(he),B=Bs(B)}he=null}else he=null;se!==null&&yp(ee,Y,se,he,!1),ue!==null&&st!==null&&yp(ee,st,ue,he,!0)}}e:{if(Y=$?$s($):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var de=m0;else if(Xf(Y))if(Jf)de=v0;else{de=y0;var ye=g0}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=_0);if(de&&(de=de(n,$))){Yf(ee,de,a,J);break e}ye&&ye(n,Y,$),n==="focusout"&&(ye=Y._wrapperState)&&ye.controlled&&Y.type==="number"&&ps(Y,"number",Y.value)}switch(ye=$?$s($):window,n){case"focusin":(Xf(ye)||ye.contentEditable==="true")&&(js=ye,Nc=$,ta=null);break;case"focusout":ta=Nc=js=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,op(ee,a,J);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":op(ee,a,J)}var _e;if(at)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Fs?Kf(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(ji&&a.locale!=="ko"&&(Fs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Fs&&(_e=Ko()):(an=J,ks="value"in an?an.value:an.textContent,Fs=!0)),ye=xl($,we),0<ye.length&&(we=new Yo(we,n,null,a,J),ee.push({event:we,listeners:ye}),_e?we.data=_e:(_e=Qf(a),_e!==null&&(we.data=_e)))),(_e=ln?h0(n,a):d0(n,a))&&($=xl($,"onBeforeInput"),0<$.length&&(J=new Yo("onBeforeInput","beforeinput",null,a,J),ee.push({event:J,listeners:$}),J.data=_e))}mp(ee,i)})}function ia(n,i,a){return{instance:n,listener:i,currentTarget:a}}function xl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=it(n,a),g!=null&&c.unshift(ia(n,g,d)),g=it(n,i),g!=null&&c.push(ia(n,g,d))),n=n.return}return c}function Bs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function yp(n,i,a,c,d){for(var g=i._reactName,v=[];a!==null&&a!==c;){var A=a,N=A.alternate,$=A.stateNode;if(N!==null&&N===c)break;A.tag===5&&$!==null&&(A=$,d?(N=it(a,g),N!=null&&v.unshift(ia(a,N,A))):d||(N=it(a,g),N!=null&&v.push(ia(a,N,A)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var A0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function _p(n){return(typeof n=="string"?n:""+n).replace(A0,`
`).replace(C0,"")}function kl(n,i,a){if(i=_p(i),_p(n)!==i&&a)throw Error(t(425))}function Pl(){}var Fc=null,jc=null;function Uc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bc=typeof setTimeout=="function"?setTimeout:void 0,x0=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(n){return vp.resolve(null).then(n).catch(P0)}:Bc;function P0(n){setTimeout(function(){throw n})}function zc(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Ln(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Ln(i)}function Kr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function wp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Zn="__reactFiber$"+zs,sa="__reactProps$"+zs,wr="__reactContainer$"+zs,$c="__reactEvents$"+zs,N0="__reactListeners$"+zs,D0="__reactHandles$"+zs;function Ui(n){var i=n[Zn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[wr]||a[Zn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=wp(n);n!==null;){if(a=n[Zn])return a;n=wp(n)}return i}n=a,a=n.parentNode}return null}function oa(n){return n=n[Zn]||n[wr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $s(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Nl(n){return n[sa]||null}var qc=[],qs=-1;function Qr(n){return{current:n}}function We(n){0>qs||(n.current=qc[qs],qc[qs]=null,qs--)}function qe(n,i){qs++,qc[qs]=n.current,n.current=i}var Xr={},Vt=Qr(Xr),Kt=Qr(!1),Bi=Xr;function Hs(n,i){var a=n.type.contextTypes;if(!a)return Xr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=i[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(n){return n=n.childContextTypes,n!=null}function Dl(){We(Kt),We(Vt)}function Ep(n,i,a){if(Vt.current!==Xr)throw Error(t(168));qe(Vt,i),qe(Kt,a)}function Tp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Oe(n)||"Unknown",d));return oe({},a,c)}function bl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xr,Bi=Vt.current,qe(Vt,n),qe(Kt,Kt.current),!0}function Ip(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Tp(n,i,Bi),c.__reactInternalMemoizedMergedChildContext=n,We(Kt),We(Vt),qe(Vt,n)):We(Kt),qe(Kt,a)}var Er=null,Vl=!1,Hc=!1;function Sp(n){Er===null?Er=[n]:Er.push(n)}function b0(n){Vl=!0,Sp(n)}function Yr(){if(!Hc&&Er!==null){Hc=!0;var n=0,i=xe;try{var a=Er;for(xe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Er=null,Vl=!1}catch(d){throw Er!==null&&(Er=Er.slice(n+1)),Ss(Di,Yr),d}finally{xe=i,Hc=!1}}return null}var Ws=[],Gs=0,Ll=null,Ol=0,wn=[],En=0,zi=null,Tr=1,Ir="";function $i(n,i){Ws[Gs++]=Ol,Ws[Gs++]=Ll,Ll=n,Ol=i}function Rp(n,i,a){wn[En++]=Tr,wn[En++]=Ir,wn[En++]=zi,zi=n;var c=Tr;n=Ir;var d=32-Bt(c)-1;c&=~(1<<d),a+=1;var g=32-Bt(i)+d;if(30<g){var v=d-d%5;g=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Tr=1<<32-Bt(i)+d|a<<d|c,Ir=g+n}else Tr=1<<g|a<<d|c,Ir=n}function Wc(n){n.return!==null&&($i(n,1),Rp(n,1,0))}function Gc(n){for(;n===Ll;)Ll=Ws[--Gs],Ws[Gs]=null,Ol=Ws[--Gs],Ws[Gs]=null;for(;n===zi;)zi=wn[--En],wn[En]=null,Ir=wn[--En],wn[En]=null,Tr=wn[--En],wn[En]=null}var un=null,cn=null,Xe=!1,Fn=null;function Ap(n,i){var a=Rn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Cp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,un=n,cn=Kr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,un=n,cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=zi!==null?{id:Tr,overflow:Ir}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Rn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,un=n,cn=null,!0):!1;default:return!1}}function Kc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Qc(n){if(Xe){var i=cn;if(i){var a=i;if(!Cp(n,i)){if(Kc(n))throw Error(t(418));i=Kr(a.nextSibling);var c=un;i&&Cp(n,i)?Ap(c,a):(n.flags=n.flags&-4097|2,Xe=!1,un=n)}}else{if(Kc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Xe=!1,un=n}}}function xp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;un=n}function Ml(n){if(n!==un)return!1;if(!Xe)return xp(n),Xe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Uc(n.type,n.memoizedProps)),i&&(i=cn)){if(Kc(n))throw kp(),Error(t(418));for(;i;)Ap(n,i),i=Kr(i.nextSibling)}if(xp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){cn=Kr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}cn=null}}else cn=un?Kr(n.stateNode.nextSibling):null;return!0}function kp(){for(var n=cn;n;)n=Kr(n.nextSibling)}function Ks(){cn=un=null,Xe=!1}function Xc(n){Fn===null?Fn=[n]:Fn.push(n)}var V0=re.ReactCurrentBatchConfig;function aa(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(v){var A=d.refs;v===null?delete A[g]:A[g]=v},i._stringRef=g,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Fl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Pp(n){var i=n._init;return i(n._payload)}function Np(n){function i(B,L){if(n){var z=B.deletions;z===null?(B.deletions=[L],B.flags|=16):z.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function c(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function d(B,L){return B=si(B,L),B.index=0,B.sibling=null,B}function g(B,L,z){return B.index=z,n?(z=B.alternate,z!==null?(z=z.index,z<L?(B.flags|=2,L):z):(B.flags|=2,L)):(B.flags|=1048576,L)}function v(B){return n&&B.alternate===null&&(B.flags|=2),B}function A(B,L,z,te){return L===null||L.tag!==6?(L=Bh(z,B.mode,te),L.return=B,L):(L=d(L,z),L.return=B,L)}function N(B,L,z,te){var de=z.type;return de===D?J(B,L,z.props.children,te,z.key):L!==null&&(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===bt&&Pp(de)===L.type)?(te=d(L,z.props),te.ref=aa(B,L,z),te.return=B,te):(te=lu(z.type,z.key,z.props,null,B.mode,te),te.ref=aa(B,L,z),te.return=B,te)}function $(B,L,z,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=zh(z,B.mode,te),L.return=B,L):(L=d(L,z.children||[]),L.return=B,L)}function J(B,L,z,te,de){return L===null||L.tag!==7?(L=Yi(z,B.mode,te,de),L.return=B,L):(L=d(L,z),L.return=B,L)}function ee(B,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Bh(""+L,B.mode,z),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ve:return z=lu(L.type,L.key,L.props,null,B.mode,z),z.ref=aa(B,null,L),z.return=B,z;case me:return L=zh(L,B.mode,z),L.return=B,L;case bt:var te=L._init;return ee(B,te(L._payload),z)}if(hr(L)||ge(L))return L=Yi(L,B.mode,z,null),L.return=B,L;Fl(B,L)}return null}function Y(B,L,z,te){var de=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return de!==null?null:A(B,L,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ve:return z.key===de?N(B,L,z,te):null;case me:return z.key===de?$(B,L,z,te):null;case bt:return de=z._init,Y(B,L,de(z._payload),te)}if(hr(z)||ge(z))return de!==null?null:J(B,L,z,te,null);Fl(B,z)}return null}function se(B,L,z,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return B=B.get(z)||null,A(L,B,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ve:return B=B.get(te.key===null?z:te.key)||null,N(L,B,te,de);case me:return B=B.get(te.key===null?z:te.key)||null,$(L,B,te,de);case bt:var ye=te._init;return se(B,L,z,ye(te._payload),de)}if(hr(te)||ge(te))return B=B.get(z)||null,J(L,B,te,de,null);Fl(L,te)}return null}function ue(B,L,z,te){for(var de=null,ye=null,_e=L,we=L=0,Tt=null;_e!==null&&we<z.length;we++){_e.index>we?(Tt=_e,_e=null):Tt=_e.sibling;var Le=Y(B,_e,z[we],te);if(Le===null){_e===null&&(_e=Tt);break}n&&_e&&Le.alternate===null&&i(B,_e),L=g(Le,L,we),ye===null?de=Le:ye.sibling=Le,ye=Le,_e=Tt}if(we===z.length)return a(B,_e),Xe&&$i(B,we),de;if(_e===null){for(;we<z.length;we++)_e=ee(B,z[we],te),_e!==null&&(L=g(_e,L,we),ye===null?de=_e:ye.sibling=_e,ye=_e);return Xe&&$i(B,we),de}for(_e=c(B,_e);we<z.length;we++)Tt=se(_e,B,we,z[we],te),Tt!==null&&(n&&Tt.alternate!==null&&_e.delete(Tt.key===null?we:Tt.key),L=g(Tt,L,we),ye===null?de=Tt:ye.sibling=Tt,ye=Tt);return n&&_e.forEach(function(oi){return i(B,oi)}),Xe&&$i(B,we),de}function he(B,L,z,te){var de=ge(z);if(typeof de!="function")throw Error(t(150));if(z=de.call(z),z==null)throw Error(t(151));for(var ye=de=null,_e=L,we=L=0,Tt=null,Le=z.next();_e!==null&&!Le.done;we++,Le=z.next()){_e.index>we?(Tt=_e,_e=null):Tt=_e.sibling;var oi=Y(B,_e,Le.value,te);if(oi===null){_e===null&&(_e=Tt);break}n&&_e&&oi.alternate===null&&i(B,_e),L=g(oi,L,we),ye===null?de=oi:ye.sibling=oi,ye=oi,_e=Tt}if(Le.done)return a(B,_e),Xe&&$i(B,we),de;if(_e===null){for(;!Le.done;we++,Le=z.next())Le=ee(B,Le.value,te),Le!==null&&(L=g(Le,L,we),ye===null?de=Le:ye.sibling=Le,ye=Le);return Xe&&$i(B,we),de}for(_e=c(B,_e);!Le.done;we++,Le=z.next())Le=se(_e,B,we,Le.value,te),Le!==null&&(n&&Le.alternate!==null&&_e.delete(Le.key===null?we:Le.key),L=g(Le,L,we),ye===null?de=Le:ye.sibling=Le,ye=Le);return n&&_e.forEach(function(dw){return i(B,dw)}),Xe&&$i(B,we),de}function st(B,L,z,te){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ve:e:{for(var de=z.key,ye=L;ye!==null;){if(ye.key===de){if(de=z.type,de===D){if(ye.tag===7){a(B,ye.sibling),L=d(ye,z.props.children),L.return=B,B=L;break e}}else if(ye.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===bt&&Pp(de)===ye.type){a(B,ye.sibling),L=d(ye,z.props),L.ref=aa(B,ye,z),L.return=B,B=L;break e}a(B,ye);break}else i(B,ye);ye=ye.sibling}z.type===D?(L=Yi(z.props.children,B.mode,te,z.key),L.return=B,B=L):(te=lu(z.type,z.key,z.props,null,B.mode,te),te.ref=aa(B,L,z),te.return=B,B=te)}return v(B);case me:e:{for(ye=z.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){a(B,L.sibling),L=d(L,z.children||[]),L.return=B,B=L;break e}else{a(B,L);break}else i(B,L);L=L.sibling}L=zh(z,B.mode,te),L.return=B,B=L}return v(B);case bt:return ye=z._init,st(B,L,ye(z._payload),te)}if(hr(z))return ue(B,L,z,te);if(ge(z))return he(B,L,z,te);Fl(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(a(B,L.sibling),L=d(L,z),L.return=B,B=L):(a(B,L),L=Bh(z,B.mode,te),L.return=B,B=L),v(B)):a(B,L)}return st}var Qs=Np(!0),Dp=Np(!1),jl=Qr(null),Ul=null,Xs=null,Yc=null;function Jc(){Yc=Xs=Ul=null}function Zc(n){var i=jl.current;We(jl),n._currentValue=i}function eh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Ys(n,i){Ul=n,Yc=Xs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Xt=!0),n.firstContext=null)}function Tn(n){var i=n._currentValue;if(Yc!==n)if(n={context:n,memoizedValue:i,next:null},Xs===null){if(Ul===null)throw Error(t(308));Xs=n,Ul.dependencies={lanes:0,firstContext:n}}else Xs=Xs.next=n;return i}var qi=null;function th(n){qi===null?qi=[n]:qi.push(n)}function bp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,th(i)):(a.next=d.next,d.next=a),i.interleaved=a,Sr(n,c)}function Sr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Jr=!1;function nh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Rr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Zr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Ve&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Sr(n,a)}return d=c.interleaved,d===null?(i.next=i,th(c)):(i.next=d.next,d.next=i),c.interleaved=i,Sr(n,a)}function Bl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,zr(n,a)}}function Lp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function zl(n,i,a,c){var d=n.updateQueue;Jr=!1;var g=d.firstBaseUpdate,v=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var N=A,$=N.next;N.next=null,v===null?g=$:v.next=$,v=N;var J=n.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==v&&(A===null?J.firstBaseUpdate=$:A.next=$,J.lastBaseUpdate=N))}if(g!==null){var ee=d.baseState;v=0,J=$=N=null,A=g;do{var Y=A.lane,se=A.eventTime;if((c&Y)===Y){J!==null&&(J=J.next={eventTime:se,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ue=n,he=A;switch(Y=i,se=a,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){ee=ue.call(se,ee,Y);break e}ee=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,Y=typeof ue=="function"?ue.call(se,ee,Y):ue,Y==null)break e;ee=oe({},ee,Y);break e;case 2:Jr=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[A]:Y.push(A))}else se={eventTime:se,lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?($=J=se,N=ee):J=J.next=se,v|=Y;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(J===null&&(N=ee),d.baseState=N,d.firstBaseUpdate=$,d.lastBaseUpdate=J,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else g===null&&(d.shared.lanes=0);Gi|=v,n.lanes=v,n.memoizedState=ee}}function Op(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var la={},er=Qr(la),ua=Qr(la),ca=Qr(la);function Hi(n){if(n===la)throw Error(t(174));return n}function rh(n,i){switch(qe(ca,i),qe(ua,n),qe(er,la),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:dt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=dt(i,n)}We(er),qe(er,i)}function Js(){We(er),We(ua),We(ca)}function Mp(n){Hi(ca.current);var i=Hi(er.current),a=dt(i,n.type);i!==a&&(qe(ua,n),qe(er,a))}function ih(n){ua.current===n&&(We(er),We(ua))}var Ye=Qr(0);function $l(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var sh=[];function oh(){for(var n=0;n<sh.length;n++)sh[n]._workInProgressVersionPrimary=null;sh.length=0}var ql=re.ReactCurrentDispatcher,ah=re.ReactCurrentBatchConfig,Wi=0,Je=null,pt=null,wt=null,Hl=!1,ha=!1,da=0,L0=0;function Lt(){throw Error(t(321))}function lh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Mn(n[a],i[a]))return!1;return!0}function uh(n,i,a,c,d,g){if(Wi=g,Je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ql.current=n===null||n.memoizedState===null?j0:U0,n=a(c,d),ha){g=0;do{if(ha=!1,da=0,25<=g)throw Error(t(301));g+=1,wt=pt=null,i.updateQueue=null,ql.current=B0,n=a(c,d)}while(ha)}if(ql.current=Kl,i=pt!==null&&pt.next!==null,Wi=0,wt=pt=Je=null,Hl=!1,i)throw Error(t(300));return n}function ch(){var n=da!==0;return da=0,n}function tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Je.memoizedState=wt=n:wt=wt.next=n,wt}function In(){if(pt===null){var n=Je.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var i=wt===null?Je.memoizedState:wt.next;if(i!==null)wt=i,pt=n;else{if(n===null)throw Error(t(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Je.memoizedState=wt=n:wt=wt.next=n}return wt}function fa(n,i){return typeof i=="function"?i(n):i}function hh(n){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=pt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var v=d.next;d.next=g.next,g.next=v}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var A=v=null,N=null,$=g;do{var J=$.lane;if((Wi&J)===J)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var ee={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(A=N=ee,v=c):N=N.next=ee,Je.lanes|=J,Gi|=J}$=$.next}while($!==null&&$!==g);N===null?v=c:N.next=A,Mn(c,i.memoizedState)||(Xt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=N,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,Je.lanes|=g,Gi|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function dh(n){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do g=n(g,v.action),v=v.next;while(v!==d);Mn(g,i.memoizedState)||(Xt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function Fp(){}function jp(n,i){var a=Je,c=In(),d=i(),g=!Mn(c.memoizedState,d);if(g&&(c.memoizedState=d,Xt=!0),c=c.queue,fh(zp.bind(null,a,c,n),[n]),c.getSnapshot!==i||g||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,pa(9,Bp.bind(null,a,c,d,i),void 0,null),Et===null)throw Error(t(349));Wi&30||Up(a,i,d)}return d}function Up(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Je.updateQueue,i===null?(i={lastEffect:null,stores:null},Je.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Bp(n,i,a,c){i.value=a,i.getSnapshot=c,$p(i)&&qp(n)}function zp(n,i,a){return a(function(){$p(i)&&qp(n)})}function $p(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Mn(n,a)}catch{return!0}}function qp(n){var i=Sr(n,1);i!==null&&zn(i,n,1,-1)}function Hp(n){var i=tr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},i.queue=n,n=n.dispatch=F0.bind(null,Je,n),[i.memoizedState,n]}function pa(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Je.updateQueue,i===null?(i={lastEffect:null,stores:null},Je.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Wp(){return In().memoizedState}function Wl(n,i,a,c){var d=tr();Je.flags|=n,d.memoizedState=pa(1|i,a,void 0,c===void 0?null:c)}function Gl(n,i,a,c){var d=In();c=c===void 0?null:c;var g=void 0;if(pt!==null){var v=pt.memoizedState;if(g=v.destroy,c!==null&&lh(c,v.deps)){d.memoizedState=pa(i,a,g,c);return}}Je.flags|=n,d.memoizedState=pa(1|i,a,g,c)}function Gp(n,i){return Wl(8390656,8,n,i)}function fh(n,i){return Gl(2048,8,n,i)}function Kp(n,i){return Gl(4,2,n,i)}function Qp(n,i){return Gl(4,4,n,i)}function Xp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Yp(n,i,a){return a=a!=null?a.concat([n]):null,Gl(4,4,Xp.bind(null,i,n),a)}function ph(){}function Jp(n,i){var a=In();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&lh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Zp(n,i){var a=In();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&lh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function em(n,i,a){return Wi&21?(Mn(a,i)||(a=Li(),Je.lanes|=a,Gi|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Xt=!0),n.memoizedState=a)}function O0(n,i){var a=xe;xe=a!==0&&4>a?a:4,n(!0);var c=ah.transition;ah.transition={};try{n(!1),i()}finally{xe=a,ah.transition=c}}function tm(){return In().memoizedState}function M0(n,i,a){var c=ri(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},nm(n))rm(i,a);else if(a=bp(n,i,a,c),a!==null){var d=qt();zn(a,n,c,d),im(a,i,c)}}function F0(n,i,a){var c=ri(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(nm(n))rm(i,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var v=i.lastRenderedState,A=g(v,a);if(d.hasEagerState=!0,d.eagerState=A,Mn(A,v)){var N=i.interleaved;N===null?(d.next=d,th(i)):(d.next=N.next,N.next=d),i.interleaved=d;return}}catch{}finally{}a=bp(n,i,d,c),a!==null&&(d=qt(),zn(a,n,c,d),im(a,i,c))}}function nm(n){var i=n.alternate;return n===Je||i!==null&&i===Je}function rm(n,i){ha=Hl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function im(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,zr(n,a)}}var Kl={readContext:Tn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},j0={readContext:Tn,useCallback:function(n,i){return tr().memoizedState=[n,i===void 0?null:i],n},useContext:Tn,useEffect:Gp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Wl(4194308,4,Xp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Wl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Wl(4,2,n,i)},useMemo:function(n,i){var a=tr();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=tr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=M0.bind(null,Je,n),[c.memoizedState,n]},useRef:function(n){var i=tr();return n={current:n},i.memoizedState=n},useState:Hp,useDebugValue:ph,useDeferredValue:function(n){return tr().memoizedState=n},useTransition:function(){var n=Hp(!1),i=n[0];return n=O0.bind(null,n[1]),tr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Je,d=tr();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Et===null)throw Error(t(349));Wi&30||Up(c,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,Gp(zp.bind(null,c,g,n),[n]),c.flags|=2048,pa(9,Bp.bind(null,c,g,a,i),void 0,null),a},useId:function(){var n=tr(),i=Et.identifierPrefix;if(Xe){var a=Ir,c=Tr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=da++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=L0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},U0={readContext:Tn,useCallback:Jp,useContext:Tn,useEffect:fh,useImperativeHandle:Yp,useInsertionEffect:Kp,useLayoutEffect:Qp,useMemo:Zp,useReducer:hh,useRef:Wp,useState:function(){return hh(fa)},useDebugValue:ph,useDeferredValue:function(n){var i=In();return em(i,pt.memoizedState,n)},useTransition:function(){var n=hh(fa)[0],i=In().memoizedState;return[n,i]},useMutableSource:Fp,useSyncExternalStore:jp,useId:tm,unstable_isNewReconciler:!1},B0={readContext:Tn,useCallback:Jp,useContext:Tn,useEffect:fh,useImperativeHandle:Yp,useInsertionEffect:Kp,useLayoutEffect:Qp,useMemo:Zp,useReducer:dh,useRef:Wp,useState:function(){return dh(fa)},useDebugValue:ph,useDeferredValue:function(n){var i=In();return pt===null?i.memoizedState=n:em(i,pt.memoizedState,n)},useTransition:function(){var n=dh(fa)[0],i=In().memoizedState;return[n,i]},useMutableSource:Fp,useSyncExternalStore:jp,useId:tm,unstable_isNewReconciler:!1};function jn(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function mh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ql={isMounted:function(n){return(n=n._reactInternals)?Pn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=qt(),d=ri(n),g=Rr(c,d);g.payload=i,a!=null&&(g.callback=a),i=Zr(n,g,d),i!==null&&(zn(i,n,d,c),Bl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=qt(),d=ri(n),g=Rr(c,d);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Zr(n,g,d),i!==null&&(zn(i,n,d,c),Bl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=qt(),c=ri(n),d=Rr(a,c);d.tag=2,i!=null&&(d.callback=i),i=Zr(n,d,c),i!==null&&(zn(i,n,c,a),Bl(i,n,c))}};function sm(n,i,a,c,d,g,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,v):i.prototype&&i.prototype.isPureReactComponent?!ea(a,c)||!ea(d,g):!0}function om(n,i,a){var c=!1,d=Xr,g=i.contextType;return typeof g=="object"&&g!==null?g=Tn(g):(d=Qt(i)?Bi:Vt.current,c=i.contextTypes,g=(c=c!=null)?Hs(n,d):Xr),i=new i(a,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ql,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),i}function am(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Ql.enqueueReplaceState(i,i.state,null)}function gh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},nh(n);var g=i.contextType;typeof g=="object"&&g!==null?d.context=Tn(g):(g=Qt(i)?Bi:Vt.current,d.context=Hs(n,g)),d.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(mh(n,i,g,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Ql.enqueueReplaceState(d,d.state,null),zl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Zs(n,i){try{var a="",c=i;do a+=Re(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:d,digest:null}}function yh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function _h(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var z0=typeof WeakMap=="function"?WeakMap:Map;function lm(n,i,a){a=Rr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){nu||(nu=!0,bh=c),_h(n,i)},a}function um(n,i,a){a=Rr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){_h(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){_h(n,i),typeof c!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function cm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new z0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=nw.bind(null,n,i,a),i.then(n,n))}function hm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function dm(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Rr(-1,1),i.tag=2,Zr(a,i,1))),a.lanes|=1),n)}var $0=re.ReactCurrentOwner,Xt=!1;function $t(n,i,a,c){i.child=n===null?Dp(i,null,a,c):Qs(i,n.child,a,c)}function fm(n,i,a,c,d){a=a.render;var g=i.ref;return Ys(i,d),c=uh(n,i,a,c,g,d),a=ch(),n!==null&&!Xt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Ar(n,i,d)):(Xe&&a&&Wc(i),i.flags|=1,$t(n,i,c,d),i.child)}function pm(n,i,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!Uh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,mm(n,i,g,c,d)):(n=lu(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!(n.lanes&d)){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:ea,a(v,c)&&n.ref===i.ref)return Ar(n,i,d)}return i.flags|=1,n=si(g,c),n.ref=i.ref,n.return=i,i.child=n}function mm(n,i,a,c,d){if(n!==null){var g=n.memoizedProps;if(ea(g,c)&&n.ref===i.ref)if(Xt=!1,i.pendingProps=c=g,(n.lanes&d)!==0)n.flags&131072&&(Xt=!0);else return i.lanes=n.lanes,Ar(n,i,d)}return vh(n,i,a,c,d)}function gm(n,i,a){var c=i.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(to,hn),hn|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,qe(to,hn),hn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,qe(to,hn),hn|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,qe(to,hn),hn|=c;return $t(n,i,d,a),i.child}function ym(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function vh(n,i,a,c,d){var g=Qt(a)?Bi:Vt.current;return g=Hs(i,g),Ys(i,d),a=uh(n,i,a,c,g,d),c=ch(),n!==null&&!Xt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Ar(n,i,d)):(Xe&&c&&Wc(i),i.flags|=1,$t(n,i,a,d),i.child)}function _m(n,i,a,c,d){if(Qt(a)){var g=!0;bl(i)}else g=!1;if(Ys(i,d),i.stateNode===null)Yl(n,i),om(i,a,c),gh(i,a,c,d),c=!0;else if(n===null){var v=i.stateNode,A=i.memoizedProps;v.props=A;var N=v.context,$=a.contextType;typeof $=="object"&&$!==null?$=Tn($):($=Qt(a)?Bi:Vt.current,$=Hs(i,$));var J=a.getDerivedStateFromProps,ee=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function";ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==c||N!==$)&&am(i,v,c,$),Jr=!1;var Y=i.memoizedState;v.state=Y,zl(i,c,v,d),N=i.memoizedState,A!==c||Y!==N||Kt.current||Jr?(typeof J=="function"&&(mh(i,a,J,c),N=i.memoizedState),(A=Jr||sm(i,a,A,c,Y,N,$))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),v.props=c,v.state=N,v.context=$,c=A):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Vp(n,i),A=i.memoizedProps,$=i.type===i.elementType?A:jn(i.type,A),v.props=$,ee=i.pendingProps,Y=v.context,N=a.contextType,typeof N=="object"&&N!==null?N=Tn(N):(N=Qt(a)?Bi:Vt.current,N=Hs(i,N));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==ee||Y!==N)&&am(i,v,c,N),Jr=!1,Y=i.memoizedState,v.state=Y,zl(i,c,v,d);var ue=i.memoizedState;A!==ee||Y!==ue||Kt.current||Jr?(typeof se=="function"&&(mh(i,a,se,c),ue=i.memoizedState),($=Jr||sm(i,a,$,c,Y,ue,N)||!1)?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ue,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ue,N)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),v.props=c,v.state=ue,v.context=N,c=$):(typeof v.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),c=!1)}return wh(n,i,a,c,g,d)}function wh(n,i,a,c,d,g){ym(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return d&&Ip(i,a,!1),Ar(n,i,g);c=i.stateNode,$0.current=i;var A=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=Qs(i,n.child,null,g),i.child=Qs(i,null,A,g)):$t(n,i,A,g),i.memoizedState=c.state,d&&Ip(i,a,!0),i.child}function vm(n){var i=n.stateNode;i.pendingContext?Ep(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Ep(n,i.context,!1),rh(n,i.containerInfo)}function wm(n,i,a,c,d){return Ks(),Xc(d),i.flags|=256,$t(n,i,a,c),i.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function Th(n){return{baseLanes:n,cachePool:null,transitions:null}}function Em(n,i,a){var c=i.pendingProps,d=Ye.current,g=!1,v=(i.flags&128)!==0,A;if((A=v)||(A=n!==null&&n.memoizedState===null?!1:(d&2)!==0),A?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Ye,d&1),n===null)return Qc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,n=c.fallback,g?(c=i.mode,g=i.child,v={mode:"hidden",children:v},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=v):g=uu(v,c,0,null),n=Yi(n,c,a,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=Th(a),i.memoizedState=Eh,n):Ih(i,v));if(d=n.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return q0(n,i,v,c,A,d,a);if(g){g=c.fallback,v=i.mode,d=n.child,A=d.sibling;var N={mode:"hidden",children:c.children};return!(v&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=si(d,N),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?g=si(A,g):(g=Yi(g,v,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,v=n.child.memoizedState,v=v===null?Th(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=n.childLanes&~a,i.memoizedState=Eh,c}return g=n.child,n=g.sibling,c=si(g,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Ih(n,i){return i=uu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Xl(n,i,a,c){return c!==null&&Xc(c),Qs(i,n.child,null,a),n=Ih(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function q0(n,i,a,c,d,g,v){if(a)return i.flags&256?(i.flags&=-257,c=yh(Error(t(422))),Xl(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=c.fallback,d=i.mode,c=uu({mode:"visible",children:c.children},d,0,null),g=Yi(g,d,v,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,i.mode&1&&Qs(i,n.child,null,v),i.child.memoizedState=Th(v),i.memoizedState=Eh,g);if(!(i.mode&1))return Xl(n,i,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(t(419)),c=yh(g,c,void 0),Xl(n,i,v,c)}if(A=(v&n.childLanes)!==0,Xt||A){if(c=Et,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|v)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Sr(n,d),zn(c,n,d,-1))}return jh(),c=yh(Error(t(421))),Xl(n,i,v,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=rw.bind(null,n),d._reactRetry=i,null):(n=g.treeContext,cn=Kr(d.nextSibling),un=i,Xe=!0,Fn=null,n!==null&&(wn[En++]=Tr,wn[En++]=Ir,wn[En++]=zi,Tr=n.id,Ir=n.overflow,zi=i),i=Ih(i,c.children),i.flags|=4096,i)}function Tm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),eh(n.return,i,a)}function Sh(n,i,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Im(n,i,a){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if($t(n,i,c.children,a),c=Ye.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tm(n,a,i);else if(n.tag===19)Tm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Ye,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&$l(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Sh(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&$l(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Sh(i,!0,a,null,g);break;case"together":Sh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yl(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ar(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Gi|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=si(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=si(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function H0(n,i,a){switch(i.tag){case 3:vm(i),Ks();break;case 5:Mp(i);break;case 1:Qt(i.type)&&bl(i);break;case 4:rh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;qe(jl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ye,Ye.current&1),i.flags|=128,null):a&i.child.childLanes?Em(n,i,a):(qe(Ye,Ye.current&1),n=Ar(n,i,a),n!==null?n.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return Im(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ye,Ye.current),c)break;return null;case 22:case 23:return i.lanes=0,gm(n,i,a)}return Ar(n,i,a)}var Sm,Rh,Rm,Am;Sm=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Rh=function(){},Rm=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Hi(er.current);var g=null;switch(a){case"input":d=Si(n,d),c=Si(n,c),g=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),g=[];break;case"textarea":d=ko(n,d),c=ko(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Pl)}Lo(a,c);var v;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var A=d[$];for(v in A)A.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in c){var N=c[$];if(A=d!=null?d[$]:void 0,c.hasOwnProperty($)&&N!==A&&(N!=null||A!=null))if($==="style")if(A){for(v in A)!A.hasOwnProperty(v)||N&&N.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in N)N.hasOwnProperty(v)&&A[v]!==N[v]&&(a||(a={}),a[v]=N[v])}else a||(g||(g=[]),g.push($,a)),a=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(g=g||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(N!=null&&$==="onScroll"&&He("scroll",n),g||A===N||(g=[])):(g=g||[]).push($,N))}a&&(g=g||[]).push("style",a);var $=g;(i.updateQueue=$)&&(i.flags|=4)}},Am=function(n,i,a,c){a!==c&&(i.flags|=4)};function ma(n,i){if(!Xe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function W0(n,i,a){var c=i.pendingProps;switch(Gc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Qt(i.type)&&Dl(),Ot(i),null;case 3:return c=i.stateNode,Js(),We(Kt),We(Vt),oh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Ml(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Fn!==null&&(Oh(Fn),Fn=null))),Rh(n,i),Ot(i),null;case 5:ih(i);var d=Hi(ca.current);if(a=i.type,n!==null&&i.stateNode!=null)Rm(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ot(i),null}if(n=Hi(er.current),Ml(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[Zn]=i,c[sa]=g,n=(i.mode&1)!==0,a){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<na.length;d++)He(na[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":fs(c,g),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},He("invalid",c);break;case"textarea":ms(c,g),He("invalid",c)}Lo(a,g),d=null;for(var v in g)if(g.hasOwnProperty(v)){var A=g[v];v==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&kl(c.textContent,A,n),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&kl(c.textContent,A,n),d=["children",""+A]):o.hasOwnProperty(v)&&A!=null&&v==="onScroll"&&He("scroll",c)}switch(a){case"input":cr(c),tl(c,g,!0);break;case"textarea":cr(c),Po(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Pl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ht(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Zn]=i,n[sa]=c,Sm(n,i,!1,!1),i.stateNode=n;e:{switch(v=Oo(a,c),a){case"dialog":He("cancel",n),He("close",n),d=c;break;case"iframe":case"object":case"embed":He("load",n),d=c;break;case"video":case"audio":for(d=0;d<na.length;d++)He(na[d],n);d=c;break;case"source":He("error",n),d=c;break;case"img":case"image":case"link":He("error",n),He("load",n),d=c;break;case"details":He("toggle",n),d=c;break;case"input":fs(n,c),d=Si(n,c),He("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),He("invalid",n);break;case"textarea":ms(n,c),d=ko(n,c),He("invalid",n);break;default:d=c}Lo(a,d),A=d;for(g in A)if(A.hasOwnProperty(g)){var N=A[g];g==="style"?bo(n,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&No(n,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Mr(n,N):typeof N=="number"&&Mr(n,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&He("scroll",n):N!=null&&Z(n,g,N,v))}switch(a){case"input":cr(n),tl(n,c,!1);break;case"textarea":cr(n),Po(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Me(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?dr(n,!!c.multiple,g,!1):c.defaultValue!=null&&dr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Pl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ot(i),null;case 6:if(n&&i.stateNode!=null)Am(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Hi(ca.current),Hi(er.current),Ml(i)){if(c=i.stateNode,a=i.memoizedProps,c[Zn]=i,(g=c.nodeValue!==a)&&(n=un,n!==null))switch(n.tag){case 3:kl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&kl(c.nodeValue,a,(n.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Zn]=i,i.stateNode=c}return Ot(i),null;case 13:if(We(Ye),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&cn!==null&&i.mode&1&&!(i.flags&128))kp(),Ks(),i.flags|=98560,g=!1;else if(g=Ml(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Zn]=i}else Ks(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Ot(i),g=!1}else Fn!==null&&(Oh(Fn),Fn=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Ye.current&1?mt===0&&(mt=3):jh())),i.updateQueue!==null&&(i.flags|=4),Ot(i),null);case 4:return Js(),Rh(n,i),n===null&&ra(i.stateNode.containerInfo),Ot(i),null;case 10:return Zc(i.type._context),Ot(i),null;case 17:return Qt(i.type)&&Dl(),Ot(i),null;case 19:if(We(Ye),g=i.memoizedState,g===null)return Ot(i),null;if(c=(i.flags&128)!==0,v=g.rendering,v===null)if(c)ma(g,!1);else{if(mt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(v=$l(n),v!==null){for(i.flags|=128,ma(g,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,n=c,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,n=v.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Ye,Ye.current&1|2),i.child}n=n.sibling}g.tail!==null&&$e()>no&&(i.flags|=128,c=!0,ma(g,!1),i.lanes=4194304)}else{if(!c)if(n=$l(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ma(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Xe)return Ot(i),null}else 2*$e()-g.renderingStartTime>no&&a!==1073741824&&(i.flags|=128,c=!0,ma(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(a=g.last,a!==null?a.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=$e(),i.sibling=null,a=Ye.current,qe(Ye,c?a&1|2:a&1),i):(Ot(i),null);case 22:case 23:return Fh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?hn&1073741824&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function G0(n,i){switch(Gc(i),i.tag){case 1:return Qt(i.type)&&Dl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Js(),We(Kt),We(Vt),oh(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return ih(i),null;case 13:if(We(Ye),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ks()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return We(Ye),null;case 4:return Js(),null;case 10:return Zc(i.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var Jl=!1,Mt=!1,K0=typeof WeakSet=="function"?WeakSet:Set,le=null;function eo(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){nt(n,i,c)}else a.current=null}function Ah(n,i,a){try{a()}catch(c){nt(n,i,c)}}var Cm=!1;function Q0(n,i){if(Fc=Hr,n=sp(),Pc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var v=0,A=-1,N=-1,$=0,J=0,ee=n,Y=null;t:for(;;){for(var se;ee!==a||d!==0&&ee.nodeType!==3||(A=v+d),ee!==g||c!==0&&ee.nodeType!==3||(N=v+c),ee.nodeType===3&&(v+=ee.nodeValue.length),(se=ee.firstChild)!==null;)Y=ee,ee=se;for(;;){if(ee===n)break t;if(Y===a&&++$===d&&(A=v),Y===g&&++J===c&&(N=v),(se=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=se}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(jc={focusedElem:n,selectionRange:a},Hr=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ue=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,st=ue.memoizedState,B=i.stateNode,L=B.getSnapshotBeforeUpdate(i.elementType===i.type?he:jn(i.type,he),st);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){nt(i,i.return,te)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ue=Cm,Cm=!1,ue}function ga(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&Ah(i,a,g)}d=d.next}while(d!==c)}}function Zl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Ch(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function xm(n){var i=n.alternate;i!==null&&(n.alternate=null,xm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Zn],delete i[sa],delete i[$c],delete i[N0],delete i[D0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function km(n){return n.tag===5||n.tag===3||n.tag===4}function Pm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||km(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pl));else if(c!==4&&(n=n.child,n!==null))for(xh(n,i,a),n=n.sibling;n!==null;)xh(n,i,a),n=n.sibling}function kh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(kh(n,i,a),n=n.sibling;n!==null;)kh(n,i,a),n=n.sibling}var Ct=null,Un=!1;function ei(n,i,a){for(a=a.child;a!==null;)Nm(n,i,a),a=a.sibling}function Nm(n,i,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(bi,a)}catch{}switch(a.tag){case 5:Mt||eo(a,i);case 6:var c=Ct,d=Un;Ct=null,ei(n,i,a),Ct=c,Un=d,Ct!==null&&(Un?(n=Ct,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(Un?(n=Ct,a=a.stateNode,n.nodeType===8?zc(n.parentNode,a):n.nodeType===1&&zc(n,a),Ln(n)):zc(Ct,a.stateNode));break;case 4:c=Ct,d=Un,Ct=a.stateNode.containerInfo,Un=!0,ei(n,i,a),Ct=c,Un=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,v=g.destroy;g=g.tag,v!==void 0&&(g&2||g&4)&&Ah(a,i,v),d=d.next}while(d!==c)}ei(n,i,a);break;case 1:if(!Mt&&(eo(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){nt(a,i,A)}ei(n,i,a);break;case 21:ei(n,i,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ei(n,i,a),Mt=c):ei(n,i,a);break;default:ei(n,i,a)}}function Dm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new K0),i.forEach(function(c){var d=iw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Bn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 5:Ct=A.stateNode,Un=!1;break e;case 3:Ct=A.stateNode.containerInfo,Un=!0;break e;case 4:Ct=A.stateNode.containerInfo,Un=!0;break e}A=A.return}if(Ct===null)throw Error(t(160));Nm(g,v,d),Ct=null,Un=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch($){nt(d,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)bm(i,n),i=i.sibling}function bm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Bn(i,n),nr(n),c&4){try{ga(3,n,n.return),Zl(3,n)}catch(he){nt(n,n.return,he)}try{ga(5,n,n.return)}catch(he){nt(n,n.return,he)}}break;case 1:Bn(i,n),nr(n),c&512&&a!==null&&eo(a,a.return);break;case 5:if(Bn(i,n),nr(n),c&512&&a!==null&&eo(a,a.return),n.flags&32){var d=n.stateNode;try{Mr(d,"")}catch(he){nt(n,n.return,he)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,v=a!==null?a.memoizedProps:g,A=n.type,N=n.updateQueue;if(n.updateQueue=null,N!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Co(d,g),Oo(A,v);var $=Oo(A,g);for(v=0;v<N.length;v+=2){var J=N[v],ee=N[v+1];J==="style"?bo(d,ee):J==="dangerouslySetInnerHTML"?No(d,ee):J==="children"?Mr(d,ee):Z(d,J,ee,$)}switch(A){case"input":xo(d,g);break;case"textarea":gs(d,g);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?dr(d,!!g.multiple,se,!1):Y!==!!g.multiple&&(g.defaultValue!=null?dr(d,!!g.multiple,g.defaultValue,!0):dr(d,!!g.multiple,g.multiple?[]:"",!1))}d[sa]=g}catch(he){nt(n,n.return,he)}}break;case 6:if(Bn(i,n),nr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(he){nt(n,n.return,he)}}break;case 3:if(Bn(i,n),nr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ln(i.containerInfo)}catch(he){nt(n,n.return,he)}break;case 4:Bn(i,n),nr(n);break;case 13:Bn(i,n),nr(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Dh=$e())),c&4&&Dm(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=($=Mt)||J,Bn(i,n),Mt=$):Bn(i,n),nr(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!J&&n.mode&1)for(le=n,J=n.child;J!==null;){for(ee=le=J;le!==null;){switch(Y=le,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:ga(4,Y,Y.return);break;case 1:eo(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(he){nt(c,a,he)}}break;case 5:eo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Om(ee);continue}}se!==null?(se.return=Y,le=se):Om(ee)}J=J.sibling}e:for(J=null,ee=n;;){if(ee.tag===5){if(J===null){J=ee;try{d=ee.stateNode,$?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ee.stateNode,N=ee.memoizedProps.style,v=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=Do("display",v))}catch(he){nt(n,n.return,he)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(he){nt(n,n.return,he)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Bn(i,n),nr(n),c&4&&Dm(n);break;case 21:break;default:Bn(i,n),nr(n)}}function nr(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(km(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Mr(d,""),c.flags&=-33);var g=Pm(n);kh(n,g,d);break;case 3:case 4:var v=c.stateNode.containerInfo,A=Pm(n);xh(n,A,v);break;default:throw Error(t(161))}}catch(N){nt(n,n.return,N)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function X0(n,i,a){le=n,Vm(n)}function Vm(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,g=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Jl;if(!v){var A=d.alternate,N=A!==null&&A.memoizedState!==null||Mt;A=Jl;var $=Mt;if(Jl=v,(Mt=N)&&!$)for(le=d;le!==null;)v=le,N=v.child,v.tag===22&&v.memoizedState!==null?Mm(d):N!==null?(N.return=v,le=N):Mm(d);for(;g!==null;)le=g,Vm(g),g=g.sibling;le=d,Jl=A,Mt=$}Lm(n)}else d.subtreeFlags&8772&&g!==null?(g.return=d,le=g):Lm(n)}}function Lm(n){for(;le!==null;){var i=le;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Mt||Zl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:jn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Op(i,g,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Op(i,v,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Ln(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&Ch(i)}catch(Y){nt(i,i.return,Y)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function Om(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function Mm(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Zl(4,i)}catch(N){nt(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(N){nt(i,d,N)}}var g=i.return;try{Ch(i)}catch(N){nt(i,g,N)}break;case 5:var v=i.return;try{Ch(i)}catch(N){nt(i,v,N)}}}catch(N){nt(i,i.return,N)}if(i===n){le=null;break}var A=i.sibling;if(A!==null){A.return=i.return,le=A;break}le=i.return}}var Y0=Math.ceil,eu=re.ReactCurrentDispatcher,Ph=re.ReactCurrentOwner,Sn=re.ReactCurrentBatchConfig,Ve=0,Et=null,lt=null,xt=0,hn=0,to=Qr(0),mt=0,ya=null,Gi=0,tu=0,Nh=0,_a=null,Yt=null,Dh=0,no=1/0,Cr=null,nu=!1,bh=null,ti=null,ru=!1,ni=null,iu=0,va=0,Vh=null,su=-1,ou=0;function qt(){return Ve&6?$e():su!==-1?su:su=$e()}function ri(n){return n.mode&1?Ve&2&&xt!==0?xt&-xt:V0.transition!==null?(ou===0&&(ou=Li()),ou):(n=xe,n!==0||(n=window.event,n=n===void 0?16:Go(n.type)),n):1}function zn(n,i,a,c){if(50<va)throw va=0,Vh=null,Error(t(185));Br(n,a,c),(!(Ve&2)||n!==Et)&&(n===Et&&(!(Ve&2)&&(tu|=a),mt===4&&ii(n,xt)),Jt(n,c),a===1&&Ve===0&&!(i.mode&1)&&(no=$e()+500,Vl&&Yr()))}function Jt(n,i){var a=n.callbackNode;mr(n,i);var c=Vi(n,n===Et?xt:0);if(c===0)a!==null&&zo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&zo(a),i===1)n.tag===0?b0(jm.bind(null,n)):Sp(jm.bind(null,n)),k0(function(){!(Ve&6)&&Yr()}),a=null;else{switch($r(c)){case 1:a=Di;break;case 4:a=Fr;break;case 16:a=yn;break;case 536870912:a=ol;break;default:a=yn}a=Gm(a,Fm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Fm(n,i){if(su=-1,ou=0,Ve&6)throw Error(t(327));var a=n.callbackNode;if(ro()&&n.callbackNode!==a)return null;var c=Vi(n,n===Et?xt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=au(n,c);else{i=c;var d=Ve;Ve|=2;var g=Bm();(Et!==n||xt!==i)&&(Cr=null,no=$e()+500,Qi(n,i));do try{ew();break}catch(A){Um(n,A)}while(!0);Jc(),eu.current=g,Ve=d,lt!==null?i=0:(Et=null,xt=0,i=mt)}if(i!==0){if(i===2&&(d=on(n),d!==0&&(c=d,i=Lh(n,d))),i===1)throw a=ya,Qi(n,0),ii(n,c),Jt(n,$e()),a;if(i===6)ii(n,c);else{if(d=n.current.alternate,!(c&30)&&!J0(d)&&(i=au(n,c),i===2&&(g=on(n),g!==0&&(c=g,i=Lh(n,g))),i===1))throw a=ya,Qi(n,0),ii(n,c),Jt(n,$e()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Xi(n,Yt,Cr);break;case 3:if(ii(n,c),(c&130023424)===c&&(i=Dh+500-$e(),10<i)){if(Vi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){qt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Bc(Xi.bind(null,n,Yt,Cr),i);break}Xi(n,Yt,Cr);break;case 4:if(ii(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var v=31-Bt(c);g=1<<v,v=i[v],v>d&&(d=v),c&=~g}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Y0(c/1960))-c,10<c){n.timeoutHandle=Bc(Xi.bind(null,n,Yt,Cr),c);break}Xi(n,Yt,Cr);break;case 5:Xi(n,Yt,Cr);break;default:throw Error(t(329))}}}return Jt(n,$e()),n.callbackNode===a?Fm.bind(null,n):null}function Lh(n,i){var a=_a;return n.current.memoizedState.isDehydrated&&(Qi(n,i).flags|=256),n=au(n,i),n!==2&&(i=Yt,Yt=a,i!==null&&Oh(i)),n}function Oh(n){Yt===null?Yt=n:Yt.push.apply(Yt,n)}function J0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Mn(g(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ii(n,i){for(i&=~Nh,i&=~tu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Bt(i),c=1<<a;n[a]=-1,i&=~c}}function jm(n){if(Ve&6)throw Error(t(327));ro();var i=Vi(n,0);if(!(i&1))return Jt(n,$e()),null;var a=au(n,i);if(n.tag!==0&&a===2){var c=on(n);c!==0&&(i=c,a=Lh(n,c))}if(a===1)throw a=ya,Qi(n,0),ii(n,i),Jt(n,$e()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Xi(n,Yt,Cr),Jt(n,$e()),null}function Mh(n,i){var a=Ve;Ve|=1;try{return n(i)}finally{Ve=a,Ve===0&&(no=$e()+500,Vl&&Yr())}}function Ki(n){ni!==null&&ni.tag===0&&!(Ve&6)&&ro();var i=Ve;Ve|=1;var a=Sn.transition,c=xe;try{if(Sn.transition=null,xe=1,n)return n()}finally{xe=c,Sn.transition=a,Ve=i,!(Ve&6)&&Yr()}}function Fh(){hn=to.current,We(to)}function Qi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,x0(a)),lt!==null)for(a=lt.return;a!==null;){var c=a;switch(Gc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Dl();break;case 3:Js(),We(Kt),We(Vt),oh();break;case 5:ih(c);break;case 4:Js();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Zc(c.type._context);break;case 22:case 23:Fh()}a=a.return}if(Et=n,lt=n=si(n.current,null),xt=hn=i,mt=0,ya=null,Nh=tu=Gi=0,Yt=_a=null,qi!==null){for(i=0;i<qi.length;i++)if(a=qi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var v=g.next;g.next=d,c.next=v}a.pending=c}qi=null}return n}function Um(n,i){do{var a=lt;try{if(Jc(),ql.current=Kl,Hl){for(var c=Je.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Hl=!1}if(Wi=0,wt=pt=Je=null,ha=!1,da=0,Ph.current=null,a===null||a.return===null){mt=1,ya=i,lt=null;break}e:{var g=n,v=a.return,A=a,N=i;if(i=xt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,J=A,ee=J.tag;if(!(J.mode&1)&&(ee===0||ee===11||ee===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=hm(v);if(se!==null){se.flags&=-257,dm(se,v,A,g,i),se.mode&1&&cm(g,$,i),i=se,N=$;var ue=i.updateQueue;if(ue===null){var he=new Set;he.add(N),i.updateQueue=he}else ue.add(N);break e}else{if(!(i&1)){cm(g,$,i),jh();break e}N=Error(t(426))}}else if(Xe&&A.mode&1){var st=hm(v);if(st!==null){!(st.flags&65536)&&(st.flags|=256),dm(st,v,A,g,i),Xc(Zs(N,A));break e}}g=N=Zs(N,A),mt!==4&&(mt=2),_a===null?_a=[g]:_a.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var B=lm(g,N,i);Lp(g,B);break e;case 1:A=N;var L=g.type,z=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ti===null||!ti.has(z)))){g.flags|=65536,i&=-i,g.lanes|=i;var te=um(g,A,i);Lp(g,te);break e}}g=g.return}while(g!==null)}$m(a)}catch(de){i=de,lt===a&&a!==null&&(lt=a=a.return);continue}break}while(!0)}function Bm(){var n=eu.current;return eu.current=Kl,n===null?Kl:n}function jh(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(Gi&268435455)&&!(tu&268435455)||ii(Et,xt)}function au(n,i){var a=Ve;Ve|=2;var c=Bm();(Et!==n||xt!==i)&&(Cr=null,Qi(n,i));do try{Z0();break}catch(d){Um(n,d)}while(!0);if(Jc(),Ve=a,eu.current=c,lt!==null)throw Error(t(261));return Et=null,xt=0,mt}function Z0(){for(;lt!==null;)zm(lt)}function ew(){for(;lt!==null&&!il();)zm(lt)}function zm(n){var i=Wm(n.alternate,n,hn);n.memoizedProps=n.pendingProps,i===null?$m(n):lt=i,Ph.current=null}function $m(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=G0(a,i),a!==null){a.flags&=32767,lt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mt=6,lt=null;return}}else if(a=W0(a,i,hn),a!==null){lt=a;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=n}while(i!==null);mt===0&&(mt=5)}function Xi(n,i,a){var c=xe,d=Sn.transition;try{Sn.transition=null,xe=1,tw(n,i,a,c)}finally{Sn.transition=d,xe=c}return null}function tw(n,i,a,c){do ro();while(ni!==null);if(Ve&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(Be(n,g),n===Et&&(lt=Et=null,xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||ru||(ru=!0,Gm(yn,function(){return ro(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Sn.transition,Sn.transition=null;var v=xe;xe=1;var A=Ve;Ve|=4,Ph.current=null,Q0(n,a),bm(a,n),E0(jc),Hr=!!Fc,jc=Fc=null,n.current=a,X0(a),Tc(),Ve=A,xe=v,Sn.transition=g}else n.current=a;if(ru&&(ru=!1,ni=n,iu=d),g=n.pendingLanes,g===0&&(ti=null),al(a.stateNode),Jt(n,$e()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(nu)throw nu=!1,n=bh,bh=null,n;return iu&1&&n.tag!==0&&ro(),g=n.pendingLanes,g&1?n===Vh?va++:(va=0,Vh=n):va=0,Yr(),null}function ro(){if(ni!==null){var n=$r(iu),i=Sn.transition,a=xe;try{if(Sn.transition=null,xe=16>n?16:n,ni===null)var c=!1;else{if(n=ni,ni=null,iu=0,Ve&6)throw Error(t(331));var d=Ve;for(Ve|=4,le=n.current;le!==null;){var g=le,v=g.child;if(le.flags&16){var A=g.deletions;if(A!==null){for(var N=0;N<A.length;N++){var $=A[N];for(le=$;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:ga(8,J,g)}var ee=J.child;if(ee!==null)ee.return=J,le=ee;else for(;le!==null;){J=le;var Y=J.sibling,se=J.return;if(xm(J),J===$){le=null;break}if(Y!==null){Y.return=se,le=Y;break}le=se}}}var ue=g.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var st=he.sibling;he.sibling=null,he=st}while(he!==null)}}le=g}}if(g.subtreeFlags&2064&&v!==null)v.return=g,le=v;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:ga(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,le=B;break e}le=g.return}}var L=n.current;for(le=L;le!==null;){v=le;var z=v.child;if(v.subtreeFlags&2064&&z!==null)z.return=v,le=z;else e:for(v=L;le!==null;){if(A=le,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Zl(9,A)}}catch(de){nt(A,A.return,de)}if(A===v){le=null;break e}var te=A.sibling;if(te!==null){te.return=A.return,le=te;break e}le=A.return}}if(Ve=d,Yr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(bi,n)}catch{}c=!0}return c}finally{xe=a,Sn.transition=i}}return!1}function qm(n,i,a){i=Zs(a,i),i=lm(n,i,1),n=Zr(n,i,1),i=qt(),n!==null&&(Br(n,1,i),Jt(n,i))}function nt(n,i,a){if(n.tag===3)qm(n,n,a);else for(;i!==null;){if(i.tag===3){qm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ti===null||!ti.has(c))){n=Zs(a,n),n=um(i,n,1),i=Zr(i,n,1),n=qt(),i!==null&&(Br(i,1,n),Jt(i,n));break}}i=i.return}}function nw(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=qt(),n.pingedLanes|=n.suspendedLanes&a,Et===n&&(xt&a)===a&&(mt===4||mt===3&&(xt&130023424)===xt&&500>$e()-Dh?Qi(n,0):Nh|=a),Jt(n,i)}function Hm(n,i){i===0&&(n.mode&1?(i=As,As<<=1,!(As&130023424)&&(As=4194304)):i=1);var a=qt();n=Sr(n,i),n!==null&&(Br(n,i,a),Jt(n,a))}function rw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Hm(n,a)}function iw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Hm(n,a)}var Wm;Wm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Kt.current)Xt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Xt=!1,H0(n,i,a);Xt=!!(n.flags&131072)}else Xt=!1,Xe&&i.flags&1048576&&Rp(i,Ol,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Yl(n,i),n=i.pendingProps;var d=Hs(i,Vt.current);Ys(i,a),d=uh(null,i,c,n,d,a);var g=ch();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Qt(c)?(g=!0,bl(i)):g=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,nh(i),d.updater=Ql,i.stateNode=d,d._reactInternals=i,gh(i,c,n,a),i=wh(null,i,c,!0,g,a)):(i.tag=0,Xe&&g&&Wc(i),$t(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Yl(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=ow(c),n=jn(c,n),d){case 0:i=vh(null,i,c,n,a);break e;case 1:i=_m(null,i,c,n,a);break e;case 11:i=fm(null,i,c,n,a);break e;case 14:i=pm(null,i,c,jn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:jn(c,d),vh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:jn(c,d),_m(n,i,c,d,a);case 3:e:{if(vm(i),n===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,d=g.element,Vp(n,i),zl(i,c,null,a);var v=i.memoizedState;if(c=v.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){d=Zs(Error(t(423)),i),i=wm(n,i,c,a,d);break e}else if(c!==d){d=Zs(Error(t(424)),i),i=wm(n,i,c,a,d);break e}else for(cn=Kr(i.stateNode.containerInfo.firstChild),un=i,Xe=!0,Fn=null,a=Dp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ks(),c===d){i=Ar(n,i,a);break e}$t(n,i,c,a)}i=i.child}return i;case 5:return Mp(i),n===null&&Qc(i),c=i.type,d=i.pendingProps,g=n!==null?n.memoizedProps:null,v=d.children,Uc(c,d)?v=null:g!==null&&Uc(c,g)&&(i.flags|=32),ym(n,i),$t(n,i,v,a),i.child;case 6:return n===null&&Qc(i),null;case 13:return Em(n,i,a);case 4:return rh(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Qs(i,null,c,a):$t(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:jn(c,d),fm(n,i,c,d,a);case 7:return $t(n,i,i.pendingProps,a),i.child;case 8:return $t(n,i,i.pendingProps.children,a),i.child;case 12:return $t(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,g=i.memoizedProps,v=d.value,qe(jl,c._currentValue),c._currentValue=v,g!==null)if(Mn(g.value,v)){if(g.children===d.children&&!Kt.current){i=Ar(n,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var A=g.dependencies;if(A!==null){v=g.child;for(var N=A.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=Rr(-1,a&-a),N.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?N.next=N:(N.next=J.next,J.next=N),$.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),eh(g.return,a,i),A.lanes|=a;break}N=N.next}}else if(g.tag===10)v=g.type===i.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(t(341));v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),eh(v,a,i),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===i){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}$t(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Ys(i,a),d=Tn(d),c=c(d),i.flags|=1,$t(n,i,c,a),i.child;case 14:return c=i.type,d=jn(c,i.pendingProps),d=jn(c.type,d),pm(n,i,c,d,a);case 15:return mm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:jn(c,d),Yl(n,i),i.tag=1,Qt(c)?(n=!0,bl(i)):n=!1,Ys(i,a),om(i,c,d),gh(i,c,d,a),wh(null,i,c,!0,n,a);case 19:return Im(n,i,a);case 22:return gm(n,i,a)}throw Error(t(156,i.tag))};function Gm(n,i){return Ss(n,i)}function sw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,i,a,c){return new sw(n,i,a,c)}function Uh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ow(n){if(typeof n=="function")return Uh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===j)return 11;if(n===Dt)return 14}return 2}function si(n,i){var a=n.alternate;return a===null?(a=Rn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function lu(n,i,a,c,d,g){var v=2;if(c=n,typeof n=="function")Uh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case D:return Yi(a.children,d,g,i);case R:v=8,d|=8;break;case x:return n=Rn(12,a,i,d|2),n.elementType=x,n.lanes=g,n;case P:return n=Rn(13,a,i,d),n.elementType=P,n.lanes=g,n;case rt:return n=Rn(19,a,i,d),n.elementType=rt,n.lanes=g,n;case Ue:return uu(a,d,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:v=10;break e;case O:v=9;break e;case j:v=11;break e;case Dt:v=14;break e;case bt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Rn(v,a,i,d),i.elementType=n,i.type=c,i.lanes=g,i}function Yi(n,i,a,c){return n=Rn(7,n,c,i),n.lanes=a,n}function uu(n,i,a,c){return n=Rn(22,n,c,i),n.elementType=Ue,n.lanes=a,n.stateNode={isHidden:!1},n}function Bh(n,i,a){return n=Rn(6,n,null,i),n.lanes=a,n}function zh(n,i,a){return i=Rn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function aw(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ur(0),this.expirationTimes=Ur(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function $h(n,i,a,c,d,g,v,A,N){return n=new aw(n,i,a,A,N),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Rn(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},nh(g),n}function lw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Km(n){if(!n)return Xr;n=n._reactInternals;e:{if(Pn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Qt(a))return Tp(n,a,i)}return i}function Qm(n,i,a,c,d,g,v,A,N){return n=$h(a,c,!0,n,d,g,v,A,N),n.context=Km(null),a=n.current,c=qt(),d=ri(a),g=Rr(c,d),g.callback=i??null,Zr(a,g,d),n.current.lanes=d,Br(n,d,c),Jt(n,c),n}function cu(n,i,a,c){var d=i.current,g=qt(),v=ri(d);return a=Km(a),i.context===null?i.context=a:i.pendingContext=a,i=Rr(g,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Zr(d,i,v),n!==null&&(zn(n,d,v,g),Bl(n,d,v)),v}function hu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Xm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function qh(n,i){Xm(n,i),(n=n.alternate)&&Xm(n,i)}var Ym=typeof reportError=="function"?reportError:function(n){console.error(n)};function Hh(n){this._internalRoot=n}du.prototype.render=Hh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));cu(n,i,null,null)},du.prototype.unmount=Hh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ki(function(){cu(null,n,null,null)}),i[wr]=null}};function du(n){this._internalRoot=n}du.prototype.unstable_scheduleHydration=function(n){if(n){var i=dl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Qn.length&&i!==0&&i<Qn[a].priority;a++);Qn.splice(a,0,n),a===0&&ml(n)}};function Wh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function fu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Jm(){}function uw(n,i,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var $=hu(v);g.call($)}}var v=Qm(i,c,n,0,null,!1,!1,"",Jm);return n._reactRootContainer=v,n[wr]=v.current,ra(n.nodeType===8?n.parentNode:n),Ki(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var $=hu(N);A.call($)}}var N=$h(n,0,!1,null,null,!1,!1,"",Jm);return n._reactRootContainer=N,n[wr]=N.current,ra(n.nodeType===8?n.parentNode:n),Ki(function(){cu(i,N,a,c)}),N}function pu(n,i,a,c,d){var g=a._reactRootContainer;if(g){var v=g;if(typeof d=="function"){var A=d;d=function(){var N=hu(v);A.call(N)}}cu(i,v,n,d)}else v=uw(a,i,n,d,c);return hu(v)}cl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=jr(i.pendingLanes);a!==0&&(zr(i,a|1),Jt(i,$e()),!(Ve&6)&&(no=$e()+500,Yr()))}break;case 13:Ki(function(){var c=Sr(n,1);if(c!==null){var d=qt();zn(c,n,1,d)}}),qh(n,1)}},Cs=function(n){if(n.tag===13){var i=Sr(n,134217728);if(i!==null){var a=qt();zn(i,n,134217728,a)}qh(n,134217728)}},hl=function(n){if(n.tag===13){var i=ri(n),a=Sr(n,i);if(a!==null){var c=qt();zn(a,n,i,c)}qh(n,i)}},dl=function(){return xe},fl=function(n,i){var a=xe;try{return xe=n,i()}finally{xe=a}},_s=function(n,i,a){switch(i){case"input":if(xo(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=Nl(c);if(!d)throw Error(t(90));ds(c),xo(c,d)}}}break;case"textarea":gs(n,a);break;case"select":i=a.value,i!=null&&dr(n,!!a.multiple,i,!1)}},xi=Mh,Fo=Ki;var cw={usingClientEntryPoint:!1,Events:[oa,$s,Nl,Gn,Mo,Mh]},wa={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hw={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Bo(n),n===null?null:n.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{bi=mu.inject(hw),sn=mu}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cw,Zt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(i))throw Error(t(200));return lw(n,i,null,a)},Zt.createRoot=function(n,i){if(!Wh(n))throw Error(t(299));var a=!1,c="",d=Ym;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=$h(n,1,!1,null,null,a,!1,c,d),n[wr]=i.current,ra(n.nodeType===8?n.parentNode:n),new Hh(i)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Bo(i),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return Ki(n)},Zt.hydrate=function(n,i,a){if(!fu(i))throw Error(t(200));return pu(null,n,i,!0,a)},Zt.hydrateRoot=function(n,i,a){if(!Wh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",v=Ym;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=Qm(i,null,n,1,a??null,d,!1,g,v),n[wr]=i.current,ra(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new du(i)},Zt.render=function(n,i,a){if(!fu(i))throw Error(t(200));return pu(null,n,i,!1,a)},Zt.unmountComponentAtNode=function(n){if(!fu(n))throw Error(t(40));return n._reactRootContainer?(Ki(function(){pu(null,null,n,!1,function(){n._reactRootContainer=null,n[wr]=null})}),!0):!1},Zt.unstable_batchedUpdates=Mh,Zt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!fu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return pu(n,i,a,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var og;function vw(){if(og)return Qh.exports;og=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qh.exports=_w(),Qh.exports}var ag;function ww(){if(ag)return gu;ag=1;var r=vw();return gu.createRoot=r.createRoot,gu.hydrateRoot=r.hydrateRoot,gu}var Ew=ww(),Ta={},lg;function Tw(){if(lg)return Ta;lg=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.parse=h,Ta.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,k){const C=new l,M=S.length;if(M<2)return C;const V=(k==null?void 0:k.decode)||w;let W=0;do{const G=S.indexOf("=",W);if(G===-1)break;const Z=S.indexOf(";",W),re=Z===-1?M:Z;if(G>re){W=S.lastIndexOf(";",G-1)+1;continue}const ve=f(S,W,G),me=p(S,G,ve),D=S.slice(ve,me);if(C[D]===void 0){let R=f(S,G+1,re),x=p(S,re,R);const b=V(S.slice(R,x));C[D]=b}W=re+1}while(W<M);return C}function f(S,k,C){do{const M=S.charCodeAt(k);if(M!==32&&M!==9)return k}while(++k<C);return C}function p(S,k,C){for(;k>C;){const M=S.charCodeAt(--k);if(M!==32&&M!==9)return k+1}return C}function y(S,k,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const V=M(k);if(!e.test(V))throw new TypeError(`argument val is invalid: ${k}`);let W=S+"="+V;if(!C)return W;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);W+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);W+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);W+="; Path="+C.path}if(C.expires){if(!T(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);W+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(W+="; HttpOnly"),C.secure&&(W+="; Secure"),C.partitioned&&(W+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return W}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return Ta}Tw();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ug="popstate";function Iw(r={}){function e(s,o){let{pathname:l,search:h,hash:f}=s.location;return md("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Oa(o)}return Rw(e,t,null,r)}function Ze(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function cg(r,e){return{usr:r.state,key:r.key,idx:e}}function md(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:t,key:e&&e.key||s||Sw()}}function Oa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function _o(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Rw(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,f="POP",p=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function T(){f="POP";let V=w(),W=V==null?null:V-y;y=V,p&&p({action:f,location:M.location,delta:W})}function S(V,W){f="PUSH";let G=md(M.location,V,W);y=w()+1;let Z=cg(G,y),re=M.createHref(G);try{h.pushState(Z,"",re)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(re)}l&&p&&p({action:f,location:M.location,delta:1})}function k(V,W){f="REPLACE";let G=md(M.location,V,W);y=w();let Z=cg(G,y),re=M.createHref(G);h.replaceState(Z,"",re),l&&p&&p({action:f,location:M.location,delta:0})}function C(V){let W=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof V=="string"?V:Oa(V);return G=G.replace(/ $/,"%20"),Ze(W,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,W)}let M={get action(){return f},get location(){return r(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ug,T),p=V,()=>{o.removeEventListener(ug,T),p=null}},createHref(V){return e(o,V)},createURL:C,encodeLocation(V){let W=C(V);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:k,go(V){return h.go(V)}};return M}function xy(r,e,t="/"){return Aw(r,e,t,!1)}function Aw(r,e,t,s){let o=typeof e=="string"?_o(e):e,l=mi(o.pathname||"/",t);if(l==null)return null;let h=ky(r);Cw(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=Fw(l);f=Ow(h[p],y,s)}return f}function ky(r,e=[],t=[],s=""){let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Ze(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=kr([s,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(Ze(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ky(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:Vw(y,l.index),routesMeta:w})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of Py(l.path))o(l,h,p)}),e}function Py(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Py(s.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function Cw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Lw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var xw=/^:[\w-]+$/,kw=3,Pw=2,Nw=1,Dw=10,bw=-2,hg=r=>r==="*";function Vw(r,e){let t=r.split("/"),s=t.length;return t.some(hg)&&(s+=bw),e&&(s+=Pw),t.filter(o=>!hg(o)).reduce((o,l)=>o+(xw.test(l)?kw:l===""?Nw:Dw),s)}function Lw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Ow(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let f=0;f<s.length;++f){let p=s[f],y=f===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=Ou({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),S=p.route;if(!T&&y&&t&&!s[s.length-1].route.index&&(T=Ou({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:kr([l,T.pathname]),pathnameBase:zw(kr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=kr([l,T.pathnameBase]))}return h}function Ou(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Mw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:T},S)=>{if(w==="*"){let C=f[S]||"";h=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const k=f[S];return T&&!k?y[w]=void 0:y[w]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function Mw(r,e=!1,t=!0){sr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Fw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function jw(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?_o(r):r;return{pathname:t?t.startsWith("/")?t:Uw(t,e):e,search:$w(s),hash:qw(o)}}function Uw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Jh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ny(r){let e=Bw(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Dy(r,e,t,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},Ze(!o.pathname||!o.pathname.includes("?"),Jh("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Jh("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Jh("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}f=T>=0?e[T]:"/"}let p=jw(o,f),y=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var kr=r=>r.join("/").replace(/\/\/+/g,"/"),zw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$w=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var by=["POST","PUT","PATCH","DELETE"];new Set(by);var Ww=["GET",...by];new Set(Ww);var vo=H.createContext(null);vo.displayName="DataRouter";var Zu=H.createContext(null);Zu.displayName="DataRouterState";var Vy=H.createContext({isTransitioning:!1});Vy.displayName="ViewTransition";var Gw=H.createContext(new Map);Gw.displayName="Fetchers";var Kw=H.createContext(null);Kw.displayName="Await";var lr=H.createContext(null);lr.displayName="Navigation";var qa=H.createContext(null);qa.displayName="Location";var ur=H.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var zd=H.createContext(null);zd.displayName="RouteError";function Qw(r,{relative:e}={}){Ze(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(lr),{hash:o,pathname:l,search:h}=Wa(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:kr([t,l])),s.createHref({pathname:f,search:h,hash:o})}function Ha(){return H.useContext(qa)!=null}function Ei(){return Ze(Ha(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(qa).location}var Ly="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Oy(r){H.useContext(lr).static||H.useLayoutEffect(r)}function $d(){let{isDataRoute:r}=H.useContext(ur);return r?lE():Xw()}function Xw(){Ze(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(vo),{basename:e,navigator:t}=H.useContext(lr),{matches:s}=H.useContext(ur),{pathname:o}=Ei(),l=JSON.stringify(Ny(s)),h=H.useRef(!1);return Oy(()=>{h.current=!0}),H.useCallback((p,y={})=>{if(sr(h.current,Ly),!h.current)return;if(typeof p=="number"){t.go(p);return}let w=Dy(p,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:kr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,l,o,r])}H.createContext(null);function My(){let{matches:r}=H.useContext(ur),e=r[r.length-1];return e?e.params:{}}function Wa(r,{relative:e}={}){let{matches:t}=H.useContext(ur),{pathname:s}=Ei(),o=JSON.stringify(Ny(t));return H.useMemo(()=>Dy(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Yw(r,e){return Fy(r,e)}function Fy(r,e,t,s){var W;Ze(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(lr),{matches:l}=H.useContext(ur),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let G=w&&w.path||"";jy(p,!w||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Ei(),S;if(e){let G=typeof e=="string"?_o(e):e;Ze(y==="/"||((W=G.pathname)==null?void 0:W.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),S=G}else S=T;let k=S.pathname||"/",C=k;if(y!=="/"){let G=y.replace(/^\//,"").split("/");C="/"+k.replace(/^\//,"").split("/").slice(G.length).join("/")}let M=xy(r,{pathname:C});sr(w||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),sr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=nE(M&&M.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:kr([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:kr([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,t,s);return e&&V?H.createElement(qa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function Jw(){let r=aE(),e=Hw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,h)}var Zw=H.createElement(Jw,null),eE=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(ur.Provider,{value:this.props.routeContext},H.createElement(zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tE({routeContext:r,match:e,children:t}){let s=H.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ur.Provider,{value:r},t)}function nE(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:w,errors:T}=t,S=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let T,S=!1,k=null,C=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,k=y.route.errorElement||Zw,h&&(f<0&&w===0?(jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):f===w&&(S=!0,C=y.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,w+1)),V=()=>{let W;return T?W=k:S?W=C:y.route.Component?W=H.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=p,H.createElement(tE,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:W})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?H.createElement(eE,{location:t.location,revalidation:t.revalidation,component:k,error:T,children:V(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):V()},null)}function qd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(r){let e=H.useContext(vo);return Ze(e,qd(r)),e}function iE(r){let e=H.useContext(Zu);return Ze(e,qd(r)),e}function sE(r){let e=H.useContext(ur);return Ze(e,qd(r)),e}function Hd(r){let e=sE(r),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function oE(){return Hd("useRouteId")}function aE(){var s;let r=H.useContext(zd),e=iE("useRouteError"),t=Hd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function lE(){let{router:r}=rE("useNavigate"),e=Hd("useNavigate"),t=H.useRef(!1);return Oy(()=>{t.current=!0}),H.useCallback(async(o,l={})=>{sr(t.current,Ly),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var dg={};function jy(r,e,t){!e&&!dg[r]&&(dg[r]=!0,sr(!1,t))}H.memo(uE);function uE({routes:r,future:e,state:t}){return Fy(r,void 0,t,e)}function ai(r){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cE({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){Ze(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=_o(t));let{pathname:p="/",search:y="",hash:w="",state:T=null,key:S="default"}=t,k=H.useMemo(()=>{let C=mi(p,h);return C==null?null:{location:{pathname:C,search:y,hash:w,state:T,key:S},navigationType:s}},[h,p,y,w,T,S,s]);return sr(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:H.createElement(lr.Provider,{value:f},H.createElement(qa.Provider,{children:e,value:k}))}function hE({children:r,location:e}){return Yw(gd(r),e)}function gd(r,e=[]){let t=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let l=[...e,o];if(s.type===H.Fragment){t.push.apply(t,gd(s.props.children,l));return}Ze(s.type===ai,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=gd(s.props.children,l)),t.push(h)}),t}var Au="get",Cu="application/x-www-form-urlencoded";function ec(r){return r!=null&&typeof r.tagName=="string"}function dE(r){return ec(r)&&r.tagName.toLowerCase()==="button"}function fE(r){return ec(r)&&r.tagName.toLowerCase()==="form"}function pE(r){return ec(r)&&r.tagName.toLowerCase()==="input"}function mE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gE(r,e){return r.button===0&&(!e||e==="_self")&&!mE(r)}var yu=null;function yE(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var _E=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zh(r){return r!=null&&!_E.has(r)?(sr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cu}"`),null):r}function vE(r,e){let t,s,o,l,h;if(fE(r)){let f=r.getAttribute("action");s=f?mi(f,e):null,t=r.getAttribute("method")||Au,o=Zh(r.getAttribute("enctype"))||Cu,l=new FormData(r)}else if(dE(r)||pE(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?mi(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Au,o=Zh(r.getAttribute("formenctype"))||Zh(f.getAttribute("enctype"))||Cu,l=new FormData(f,r),!yE()){let{name:y,type:w,value:T}=r;if(w==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,T)}}else{if(ec(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Au,s=null,o=Cu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Wd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function wE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TE(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await wE(l,t);return h.links?h.links():[]}return[]}));return AE(s.flat(1).filter(EE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fg(r,e,t,s,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var w;return t[y].pathname!==p.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var T;let w=s.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function IE(r,e){return SE(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function SE(r){return[...new Set(r)]}function RE(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function AE(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(RE(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function CE(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function xE(){let r=H.useContext(vo);return Wd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kE(){let r=H.useContext(Zu);return Wd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gd=H.createContext(void 0);Gd.displayName="FrameworkContext";function Uy(){let r=H.useContext(Gd);return Wd(r,"You must render this element inside a <HydratedRouter> element"),r}function PE(r,e){let t=H.useContext(Gd),[s,o]=H.useState(!1),[l,h]=H.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,S=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let M=W=>{W.forEach(G=>{h(G.isIntersecting)})},V=new IntersectionObserver(M,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[r]),H.useEffect(()=>{if(s){let M=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(M)}}},[s]);let k=()=>{o(!0)},C=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:Ia(f,k),onBlur:Ia(p,C),onMouseEnter:Ia(y,k),onMouseLeave:Ia(w,C),onTouchStart:Ia(T,k)}]:[!1,S,{}]}function Ia(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function NE({page:r,...e}){let{router:t}=xE(),s=H.useMemo(()=>xy(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?H.createElement(bE,{page:r,matches:s,...e}):null}function DE(r){let{manifest:e,routeModules:t}=Uy(),[s,o]=H.useState([]);return H.useEffect(()=>{let l=!1;return TE(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function bE({page:r,matches:e,...t}){let s=Ei(),{manifest:o,routeModules:l}=Uy(),{loaderData:h,matches:f}=kE(),p=H.useMemo(()=>fg(r,e,f,o,s,"data"),[r,e,f,o,s]),y=H.useMemo(()=>fg(r,e,f,o,s,"assets"),[r,e,f,o,s]),w=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,C=!1;if(e.forEach(V=>{var G;let W=o.routes[V.route.id];!W||!W.hasLoader||(!p.some(Z=>Z.route.id===V.route.id)&&V.route.id in h&&((G=l[V.route.id])!=null&&G.shouldRevalidate)||W.hasClientLoader?C=!0:k.add(V.route.id))}),k.size===0)return[];let M=CE(r);return C&&k.size>0&&M.searchParams.set("_routes",e.filter(V=>k.has(V.route.id)).map(V=>V.route.id).join(",")),[M.pathname+M.search]},[h,s,o,p,e,r,l]),T=H.useMemo(()=>IE(y,o),[y,o]),S=DE(y);return H.createElement(H.Fragment,null,w.map(k=>H.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),T.map(k=>H.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),S.map(({key:k,link:C})=>H.createElement("link",{key:k,...C})))}function VE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var By=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{By&&(window.__reactRouterVersion="7.1.1")}catch{}function LE({basename:r,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=Iw({window:t,v5Compat:!0}));let o=s.current,[l,h]=H.useState({action:o.action,location:o.location}),f=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(f),[o,f]),H.createElement(cE,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:w,viewTransition:T,...S},k){let{basename:C}=H.useContext(lr),M=typeof y=="string"&&zy.test(y),V,W=!1;if(typeof y=="string"&&M&&(V=y,By))try{let x=new URL(window.location.href),b=y.startsWith("//")?new URL(x.protocol+y):new URL(y),O=mi(b.pathname,C);b.origin===x.origin&&O!=null?y=O+b.search+b.hash:W=!0}catch{sr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Qw(y,{relative:o}),[Z,re,ve]=PE(s,S),me=jE(y,{replace:h,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:T});function D(x){e&&e(x),x.defaultPrevented||me(x)}let R=H.createElement("a",{...S,...ve,href:V||G,onClick:W||l?e:D,ref:VE(k,re),target:p,"data-discover":!M&&t==="render"?"true":void 0});return Z&&!M?H.createElement(H.Fragment,null,R,H.createElement(NE,{page:G})):R});An.displayName="Link";var OE=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...y},w){let T=Wa(h,{relative:y.relative}),S=Ei(),k=H.useContext(Zu),{navigator:C,basename:M}=H.useContext(lr),V=k!=null&&qE(T)&&f===!0,W=C.encodeLocation?C.encodeLocation(T).pathname:T.pathname,G=S.pathname,Z=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(G=G.toLowerCase(),Z=Z?Z.toLowerCase():null,W=W.toLowerCase()),Z&&M&&(Z=mi(Z,M)||Z);const re=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ve=G===W||!o&&G.startsWith(W)&&G.charAt(re)==="/",me=Z!=null&&(Z===W||!o&&Z.startsWith(W)&&Z.charAt(W.length)==="/"),D={isActive:ve,isPending:me,isTransitioning:V},R=ve?e:void 0,x;typeof s=="function"?x=s(D):x=[s,ve?"active":null,me?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(D):l;return H.createElement(An,{...y,"aria-current":R,className:x,ref:w,style:b,to:h,viewTransition:f},typeof p=="function"?p(D):p)});OE.displayName="NavLink";var ME=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=Au,action:f,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:T,...S},k)=>{let C=zE(),M=$E(f,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",W=typeof f=="string"&&zy.test(f),G=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let re=Z.nativeEvent.submitter,ve=(re==null?void 0:re.getAttribute("formmethod"))||h;C(re||Z.currentTarget,{fetcherKey:e,method:ve,navigate:t,replace:o,state:l,relative:y,preventScrollReset:w,viewTransition:T})};return H.createElement("form",{ref:k,method:V,action:M,onSubmit:s?p:G,...S,"data-discover":!W&&r==="render"?"true":void 0})});ME.displayName="Form";function FE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $y(r){let e=H.useContext(vo);return Ze(e,FE(r)),e}function jE(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=$d(),p=Ei(),y=Wa(r,{relative:l});return H.useCallback(w=>{if(gE(w,e)){w.preventDefault();let T=t!==void 0?t:Oa(p)===Oa(y);f(r,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,y,t,s,e,r,o,l,h])}var UE=0,BE=()=>`__${String(++UE)}__`;function zE(){let{router:r}=$y("useSubmit"),{basename:e}=H.useContext(lr),t=oE();return H.useCallback(async(s,o={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=vE(s,e);if(o.navigate===!1){let w=o.fetcherKey||BE();await r.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function $E(r,{relative:e}={}){let{basename:t}=H.useContext(lr),s=H.useContext(ur);Ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Wa(r||".",{relative:e})},h=Ei();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(w=>w==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();l.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:kr([t,l.pathname])),Oa(l)}function qE(r,e={}){let t=H.useContext(Vy);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$y("useViewTransitionState"),o=Wa(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=mi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=mi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ou(o.pathname,h)!=null||Ou(o.pathname,l)!=null}new TextEncoder;const HE=()=>{const{pathname:r}=Ei();return H.useEffect(()=>{window.scrollTo(0,0)},[r]),null};var pg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,k=y&63;p||(k=64,h||(S=64)),s.push(t[w],t[T],t[S],t[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):WE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||T==null)throw new GE;const S=l<<2|f>>4;if(s.push(S),y!==64){const k=f<<4&240|y>>2;if(s.push(k),T!==64){const C=y<<6&192|T;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(r){const e=qy(r);return Hy.encodeByteArray(e,!0)},Mu=function(r){return KE(r).replace(/\./g,"")},QE=function(r){try{return Hy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=()=>XE().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof pg>"u")return;const r=pg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&QE(r[1]);return e&&JSON.parse(e)},Kd=()=>{try{return YE()||JE()||ZE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eT=r=>{var e,t;return(t=(e=Kd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Wy=r=>{const e=eT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Gy=()=>{var r;return(r=Kd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mu(JSON.stringify(t)),Mu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){var r;const e=(r=Kd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sT(){return!rT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qy(){try{return typeof indexedDB=="object"}catch{return!1}}function Xy(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function oT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="FirebaseError";class Lr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=aT,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?lT(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Lr(o,f,s)}}function lT(r,e){return r.replace(uT,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uT=/\{\$([^}]+)}/g;function Fu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(mg(l)&&mg(h)){if(!Fu(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function mg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=1e3,hT=2,dT=4*60*60*1e3,fT=.5;function gg(r,e=cT,t=hT){const s=e*Math.pow(t,r),o=Math.round(fT*s*(Math.random()-.5)*2);return Math.min(dT,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r){return r&&r._delegate?r._delegate:r}class or{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new tT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gT(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mT(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mT(r){return r===Ji?void 0:r}function gT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(be||(be={}));const _T={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},vT=be.INFO,wT={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},ET=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=wT[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qd{constructor(e){this.name=e,this._logLevel=vT,this._logHandler=ET,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const TT=(r,e)=>e.some(t=>r instanceof t);let yg,_g;function IT(){return yg||(yg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ST(){return _g||(_g=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yy=new WeakMap,yd=new WeakMap,Jy=new WeakMap,ed=new WeakMap,Xd=new WeakMap;function RT(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(hi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Yy.set(t,r)}).catch(()=>{}),Xd.set(e,r),e}function AT(r){if(yd.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});yd.set(r,e)}let _d={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return yd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Jy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CT(r){_d=r(_d)}function xT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(td(this),e,...t);return Jy.set(s,e.sort?e.sort():[e]),hi(s)}:ST().includes(r)?function(...e){return r.apply(td(this),e),hi(Yy.get(this))}:function(...e){return hi(r.apply(td(this),e))}}function kT(r){return typeof r=="function"?xT(r):(r instanceof IDBTransaction&&AT(r),TT(r,IT())?new Proxy(r,_d):r)}function hi(r){if(r instanceof IDBRequest)return RT(r);if(ed.has(r))return ed.get(r);const e=kT(r);return e!==r&&(ed.set(r,e),Xd.set(e,r)),e}const td=r=>Xd.get(r);function Zy(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=hi(h);return s&&h.addEventListener("upgradeneeded",p=>{s(hi(h.result),p.oldVersion,p.newVersion,hi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const PT=["get","getKey","getAll","getAllKeys","count"],NT=["put","add","delete","clear"],nd=new Map;function vg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=NT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PT.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return nd.set(e,l),l}CT(r=>({...r,get:(e,t,s)=>vg(e,t)||r.get(e,t,s),has:(e,t)=>!!vg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function bT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vd="@firebase/app",wg="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new Qd("@firebase/app"),VT="@firebase/app-compat",LT="@firebase/analytics-compat",OT="@firebase/analytics",MT="@firebase/app-check-compat",FT="@firebase/app-check",jT="@firebase/auth",UT="@firebase/auth-compat",BT="@firebase/database",zT="@firebase/data-connect",$T="@firebase/database-compat",qT="@firebase/functions",HT="@firebase/functions-compat",WT="@firebase/installations",GT="@firebase/installations-compat",KT="@firebase/messaging",QT="@firebase/messaging-compat",XT="@firebase/performance",YT="@firebase/performance-compat",JT="@firebase/remote-config",ZT="@firebase/remote-config-compat",e1="@firebase/storage",t1="@firebase/storage-compat",n1="@firebase/firestore",r1="@firebase/vertexai",i1="@firebase/firestore-compat",s1="firebase",o1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",a1={[vd]:"fire-core",[VT]:"fire-core-compat",[OT]:"fire-analytics",[LT]:"fire-analytics-compat",[FT]:"fire-app-check",[MT]:"fire-app-check-compat",[jT]:"fire-auth",[UT]:"fire-auth-compat",[BT]:"fire-rtdb",[zT]:"fire-data-connect",[$T]:"fire-rtdb-compat",[qT]:"fire-fn",[HT]:"fire-fn-compat",[WT]:"fire-iid",[GT]:"fire-iid-compat",[KT]:"fire-fcm",[QT]:"fire-fcm-compat",[XT]:"fire-perf",[YT]:"fire-perf-compat",[JT]:"fire-rc",[ZT]:"fire-rc-compat",[e1]:"fire-gcs",[t1]:"fire-gcs-compat",[n1]:"fire-fst",[i1]:"fire-fst-compat",[r1]:"fire-vertex","fire-js":"fire-js",[s1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,l1=new Map,Ed=new Map;function Eg(r,e){try{r.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Dr(r){const e=r.name;if(Ed.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Ed.set(e,r);for(const t of ju.values())Eg(t,r);for(const t of l1.values())Eg(t,r);return!0}function wo(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new tc("app","Firebase",u1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=o1;function t_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw di.create("bad-app-name",{appName:String(o)});if(t||(t=Gy()),!t)throw di.create("no-options");const l=ju.get(o);if(l){if(Fu(t,l.options)&&Fu(s,l.config))return l;throw di.create("duplicate-app",{appName:o})}const h=new yT(o);for(const p of Ed.values())h.addComponent(p);const f=new c1(t,s,h);return ju.set(o,f),f}function Yd(r=wd){const e=ju.get(r);if(!e&&r===wd&&Gy())return t_();if(!e)throw di.create("no-app",{appName:r});return e}function Cn(r,e,t){var s;let o=(s=a1[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}Dr(new or(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebase-heartbeat-database",d1=1,Ma="firebase-heartbeat-store";let rd=null;function n_(){return rd||(rd=Zy(h1,d1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ma)}catch(t){console.warn(t)}}}}).catch(r=>{throw di.create("idb-open",{originalErrorMessage:r.message})})),rd}async function f1(r){try{const t=(await n_()).transaction(Ma),s=await t.objectStore(Ma).get(r_(r));return await t.done,s}catch(e){if(e instanceof Lr)Nr.warn(e.message);else{const t=di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(t.message)}}}async function Tg(r,e){try{const s=(await n_()).transaction(Ma,"readwrite");await s.objectStore(Ma).put(e,r_(r)),await s.done}catch(t){if(t instanceof Lr)Nr.warn(t.message);else{const s=di.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nr.warn(s.message)}}}function r_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=1024,m1=30*24*60*60*1e3;class g1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ig();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=m1}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ig(),{heartbeatsToSend:s,unsentEntries:o}=y1(this._heartbeatsCache.heartbeats),l=Mu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Nr.warn(t),""}}}function Ig(){return new Date().toISOString().substring(0,10)}function y1(r,e=p1){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Sg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Sg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class _1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qy()?Xy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await f1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Tg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Tg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Sg(r){return Mu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r){Dr(new or("platform-logger",e=>new DT(e),"PRIVATE")),Dr(new or("heartbeat",e=>new g1(e),"PRIVATE")),Cn(vd,wg,r),Cn(vd,wg,"esm2017"),Cn("fire-js","")}v1("");var Rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,i_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function x(){}x.prototype=R.prototype,D.D=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(b,O,j){for(var P=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)P[rt-2]=arguments[rt];return R.prototype[O].apply(b,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,x){x||(x=0);var b=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)b[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;16>O;++O)b[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],O=D.g[2];var j=D.g[3],P=R+(j^x&(O^j))+b[0]+3614090360&4294967295;R=x+(P<<7&4294967295|P>>>25),P=j+(O^R&(x^O))+b[1]+3905402710&4294967295,j=R+(P<<12&4294967295|P>>>20),P=O+(x^j&(R^x))+b[2]+606105819&4294967295,O=j+(P<<17&4294967295|P>>>15),P=x+(R^O&(j^R))+b[3]+3250441966&4294967295,x=O+(P<<22&4294967295|P>>>10),P=R+(j^x&(O^j))+b[4]+4118548399&4294967295,R=x+(P<<7&4294967295|P>>>25),P=j+(O^R&(x^O))+b[5]+1200080426&4294967295,j=R+(P<<12&4294967295|P>>>20),P=O+(x^j&(R^x))+b[6]+2821735955&4294967295,O=j+(P<<17&4294967295|P>>>15),P=x+(R^O&(j^R))+b[7]+4249261313&4294967295,x=O+(P<<22&4294967295|P>>>10),P=R+(j^x&(O^j))+b[8]+1770035416&4294967295,R=x+(P<<7&4294967295|P>>>25),P=j+(O^R&(x^O))+b[9]+2336552879&4294967295,j=R+(P<<12&4294967295|P>>>20),P=O+(x^j&(R^x))+b[10]+4294925233&4294967295,O=j+(P<<17&4294967295|P>>>15),P=x+(R^O&(j^R))+b[11]+2304563134&4294967295,x=O+(P<<22&4294967295|P>>>10),P=R+(j^x&(O^j))+b[12]+1804603682&4294967295,R=x+(P<<7&4294967295|P>>>25),P=j+(O^R&(x^O))+b[13]+4254626195&4294967295,j=R+(P<<12&4294967295|P>>>20),P=O+(x^j&(R^x))+b[14]+2792965006&4294967295,O=j+(P<<17&4294967295|P>>>15),P=x+(R^O&(j^R))+b[15]+1236535329&4294967295,x=O+(P<<22&4294967295|P>>>10),P=R+(O^j&(x^O))+b[1]+4129170786&4294967295,R=x+(P<<5&4294967295|P>>>27),P=j+(x^O&(R^x))+b[6]+3225465664&4294967295,j=R+(P<<9&4294967295|P>>>23),P=O+(R^x&(j^R))+b[11]+643717713&4294967295,O=j+(P<<14&4294967295|P>>>18),P=x+(j^R&(O^j))+b[0]+3921069994&4294967295,x=O+(P<<20&4294967295|P>>>12),P=R+(O^j&(x^O))+b[5]+3593408605&4294967295,R=x+(P<<5&4294967295|P>>>27),P=j+(x^O&(R^x))+b[10]+38016083&4294967295,j=R+(P<<9&4294967295|P>>>23),P=O+(R^x&(j^R))+b[15]+3634488961&4294967295,O=j+(P<<14&4294967295|P>>>18),P=x+(j^R&(O^j))+b[4]+3889429448&4294967295,x=O+(P<<20&4294967295|P>>>12),P=R+(O^j&(x^O))+b[9]+568446438&4294967295,R=x+(P<<5&4294967295|P>>>27),P=j+(x^O&(R^x))+b[14]+3275163606&4294967295,j=R+(P<<9&4294967295|P>>>23),P=O+(R^x&(j^R))+b[3]+4107603335&4294967295,O=j+(P<<14&4294967295|P>>>18),P=x+(j^R&(O^j))+b[8]+1163531501&4294967295,x=O+(P<<20&4294967295|P>>>12),P=R+(O^j&(x^O))+b[13]+2850285829&4294967295,R=x+(P<<5&4294967295|P>>>27),P=j+(x^O&(R^x))+b[2]+4243563512&4294967295,j=R+(P<<9&4294967295|P>>>23),P=O+(R^x&(j^R))+b[7]+1735328473&4294967295,O=j+(P<<14&4294967295|P>>>18),P=x+(j^R&(O^j))+b[12]+2368359562&4294967295,x=O+(P<<20&4294967295|P>>>12),P=R+(x^O^j)+b[5]+4294588738&4294967295,R=x+(P<<4&4294967295|P>>>28),P=j+(R^x^O)+b[8]+2272392833&4294967295,j=R+(P<<11&4294967295|P>>>21),P=O+(j^R^x)+b[11]+1839030562&4294967295,O=j+(P<<16&4294967295|P>>>16),P=x+(O^j^R)+b[14]+4259657740&4294967295,x=O+(P<<23&4294967295|P>>>9),P=R+(x^O^j)+b[1]+2763975236&4294967295,R=x+(P<<4&4294967295|P>>>28),P=j+(R^x^O)+b[4]+1272893353&4294967295,j=R+(P<<11&4294967295|P>>>21),P=O+(j^R^x)+b[7]+4139469664&4294967295,O=j+(P<<16&4294967295|P>>>16),P=x+(O^j^R)+b[10]+3200236656&4294967295,x=O+(P<<23&4294967295|P>>>9),P=R+(x^O^j)+b[13]+681279174&4294967295,R=x+(P<<4&4294967295|P>>>28),P=j+(R^x^O)+b[0]+3936430074&4294967295,j=R+(P<<11&4294967295|P>>>21),P=O+(j^R^x)+b[3]+3572445317&4294967295,O=j+(P<<16&4294967295|P>>>16),P=x+(O^j^R)+b[6]+76029189&4294967295,x=O+(P<<23&4294967295|P>>>9),P=R+(x^O^j)+b[9]+3654602809&4294967295,R=x+(P<<4&4294967295|P>>>28),P=j+(R^x^O)+b[12]+3873151461&4294967295,j=R+(P<<11&4294967295|P>>>21),P=O+(j^R^x)+b[15]+530742520&4294967295,O=j+(P<<16&4294967295|P>>>16),P=x+(O^j^R)+b[2]+3299628645&4294967295,x=O+(P<<23&4294967295|P>>>9),P=R+(O^(x|~j))+b[0]+4096336452&4294967295,R=x+(P<<6&4294967295|P>>>26),P=j+(x^(R|~O))+b[7]+1126891415&4294967295,j=R+(P<<10&4294967295|P>>>22),P=O+(R^(j|~x))+b[14]+2878612391&4294967295,O=j+(P<<15&4294967295|P>>>17),P=x+(j^(O|~R))+b[5]+4237533241&4294967295,x=O+(P<<21&4294967295|P>>>11),P=R+(O^(x|~j))+b[12]+1700485571&4294967295,R=x+(P<<6&4294967295|P>>>26),P=j+(x^(R|~O))+b[3]+2399980690&4294967295,j=R+(P<<10&4294967295|P>>>22),P=O+(R^(j|~x))+b[10]+4293915773&4294967295,O=j+(P<<15&4294967295|P>>>17),P=x+(j^(O|~R))+b[1]+2240044497&4294967295,x=O+(P<<21&4294967295|P>>>11),P=R+(O^(x|~j))+b[8]+1873313359&4294967295,R=x+(P<<6&4294967295|P>>>26),P=j+(x^(R|~O))+b[15]+4264355552&4294967295,j=R+(P<<10&4294967295|P>>>22),P=O+(R^(j|~x))+b[6]+2734768916&4294967295,O=j+(P<<15&4294967295|P>>>17),P=x+(j^(O|~R))+b[13]+1309151649&4294967295,x=O+(P<<21&4294967295|P>>>11),P=R+(O^(x|~j))+b[4]+4149444226&4294967295,R=x+(P<<6&4294967295|P>>>26),P=j+(x^(R|~O))+b[11]+3174756917&4294967295,j=R+(P<<10&4294967295|P>>>22),P=O+(R^(j|~x))+b[2]+718787259&4294967295,O=j+(P<<15&4294967295|P>>>17),P=x+(j^(O|~R))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var x=R-this.blockSize,b=this.B,O=this.h,j=0;j<R;){if(O==0)for(;j<=x;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(b[O++]=D.charCodeAt(j++),O==this.blockSize){o(this,b),O=0;break}}else for(;j<R;)if(b[O++]=D[j++],O==this.blockSize){o(this,b),O=0;break}}this.h=O,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var x=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.u(D),D=Array(16),R=x=0;4>R;++R)for(var b=0;32>b;b+=8)D[x++]=this.g[R]>>>b&255;return D};function l(D,R){var x=f;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function h(D,R){this.h=R;for(var x=[],b=!0,O=D.length-1;0<=O;O--){var j=D[O]|0;b&&j==R||(x[O]=j,b=!1)}this.g=x}var f={};function p(D){return-128<=D&&128>D?l(D,function(R){return new h([R|0],0>R?-1:0)}):new h([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return V(y(-D));for(var R=[],x=1,b=0;D>=x;b++)R[b]=D/x|0,x*=4294967296;return new h(R,0)}function w(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return V(w(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(R,8)),b=T,O=0;O<D.length;O+=8){var j=Math.min(8,D.length-O),P=parseInt(D.substring(O,O+j),R);8>j?(j=y(Math.pow(R,j)),b=b.j(j).add(y(P))):(b=b.j(x),b=b.add(y(P)))}return b}var T=p(0),S=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(M(this))return-V(this).m();for(var D=0,R=1,x=0;x<this.g.length;x++){var b=this.i(x);D+=(0<=b?b:4294967296+b)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(M(this))return"-"+V(this).toString(D);for(var R=y(Math.pow(D,6)),x=this,b="";;){var O=re(x,R).g;x=W(x,O.j(R));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=O,C(x))return j+b;for(;6>j.length;)j="0"+j;b=j+b}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function M(D){return D.h==-1}r.l=function(D){return D=W(this,D),M(D)?-1:C(D)?0:1};function V(D){for(var R=D.g.length,x=[],b=0;b<R;b++)x[b]=~D.g[b];return new h(x,~D.h).add(S)}r.abs=function(){return M(this)?V(this):this},r.add=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],b=0,O=0;O<=R;O++){var j=b+(this.i(O)&65535)+(D.i(O)&65535),P=(j>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);b=P>>>16,j&=65535,P&=65535,x[O]=P<<16|j}return new h(x,x[x.length-1]&-2147483648?-1:0)};function W(D,R){return D.add(V(R))}r.j=function(D){if(C(this)||C(D))return T;if(M(this))return M(D)?V(this).j(V(D)):V(V(this).j(D));if(M(D))return V(this.j(V(D)));if(0>this.l(k)&&0>D.l(k))return y(this.m()*D.m());for(var R=this.g.length+D.g.length,x=[],b=0;b<2*R;b++)x[b]=0;for(b=0;b<this.g.length;b++)for(var O=0;O<D.g.length;O++){var j=this.i(b)>>>16,P=this.i(b)&65535,rt=D.i(O)>>>16,Dt=D.i(O)&65535;x[2*b+2*O]+=P*Dt,G(x,2*b+2*O),x[2*b+2*O+1]+=j*Dt,G(x,2*b+2*O+1),x[2*b+2*O+1]+=P*rt,G(x,2*b+2*O+1),x[2*b+2*O+2]+=j*rt,G(x,2*b+2*O+2)}for(b=0;b<R;b++)x[b]=x[2*b+1]<<16|x[2*b];for(b=R;b<2*R;b++)x[b]=0;return new h(x,0)};function G(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function Z(D,R){this.g=D,this.h=R}function re(D,R){if(C(R))throw Error("division by zero");if(C(D))return new Z(T,T);if(M(D))return R=re(V(D),R),new Z(V(R.g),V(R.h));if(M(R))return R=re(D,V(R)),new Z(V(R.g),R.h);if(30<D.g.length){if(M(D)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,b=R;0>=b.l(D);)x=ve(x),b=ve(b);var O=me(x,1),j=me(b,1);for(b=me(b,2),x=me(x,2);!C(b);){var P=j.add(b);0>=P.l(D)&&(O=O.add(x),j=P),b=me(b,1),x=me(x,1)}return R=W(D,O.j(R)),new Z(O,R)}for(O=T;0<=D.l(R);){for(x=Math.max(1,Math.floor(D.m()/R.m())),b=Math.ceil(Math.log(x)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),j=y(x),P=j.j(R);M(P)||0<P.l(D);)x-=b,j=y(x),P=j.j(R);C(j)&&(j=S),O=O.add(j),D=W(D,P)}return new Z(O,D)}r.A=function(D){return re(this,D).h},r.and=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],b=0;b<R;b++)x[b]=this.i(b)&D.i(b);return new h(x,this.h&D.h)},r.or=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],b=0;b<R;b++)x[b]=this.i(b)|D.i(b);return new h(x,this.h|D.h)},r.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],b=0;b<R;b++)x[b]=this.i(b)^D.i(b);return new h(x,this.h^D.h)};function ve(D){for(var R=D.g.length+1,x=[],b=0;b<R;b++)x[b]=D.i(b)<<1|D.i(b-1)>>>31;return new h(x,D.h)}function me(D,R){var x=R>>5;R%=32;for(var b=D.g.length-x,O=[],j=0;j<b;j++)O[j]=0<R?D.i(j+x)>>>R|D.i(j+x+1)<<32-R:D.i(j+x);return new h(O,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,i_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,ts=h}).apply(typeof Rg<"u"?Rg:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s_,Ra,o_,xu,Td,a_,l_,u_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var _=s;u=u.split(".");for(var I=0;I<u.length-1;I++){var U=u[I];if(!(U in _))break e;_=_[U]}u=u[u.length-1],I=_[u],m=m(I),m!=I&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,I=!1,U={next:function(){if(!I&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function k(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function C(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(I,U,q){for(var ne=Array(arguments.length-2),je=2;je<arguments.length;je++)ne[je-2]=arguments[je];return m.prototype[U].apply(I,ne)}}function M(u){const m=u.length;if(0<m){const _=Array(m);for(let I=0;I<m;I++)_[I]=u[I];return _}return[]}function V(u,m){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(p(I)){const U=u.length||0,q=I.length||0;u.length=U+q;for(let ne=0;ne<q;ne++)u[U+ne]=I[ne]}else u.push(I)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function re(u){return re[" "](u),u}re[" "]=function(){};var ve=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function me(u,m,_){for(const I in u)m.call(_,u[I],I,u)}function D(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let _,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(_ in I)u[_]=I[_];for(let q=0;q<x.length;q++)_=x[q],Object.prototype.hasOwnProperty.call(I,_)&&(u[_]=I[_])}}function O(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function j(u){f.setTimeout(()=>{throw u},0)}function P(){var u=ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,_){const I=Dt.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Dt=new W(()=>new bt,u=>u.reset());class bt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ie=!1,ge=new rt,oe=()=>{const u=f.Promise.resolve(void 0);Ue=()=>{u.then(F)}};var F=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){j(_)}var m=Dt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u}();function Re(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ve){e:{try{re(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}C(Re,fe);var Pe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function ze(u,m,_,I,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=U,this.key=++Me,this.da=this.fa=!1}function _t(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cr(u){this.src=u,this.g={},this.h=0}cr.prototype.add=function(u,m,_,I,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ne=Or(u,m,I,U);return-1<ne?(m=u[ne],_||(m.fa=!1)):(m=new ze(m,this.src,q,!!I,U),m.fa=_,u.push(m)),m};function ds(u,m){var _=m.type;if(_ in u.g){var I=u.g[_],U=Array.prototype.indexOf.call(I,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(I,U,1),q&&(_t(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Or(u,m,_,I){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==I)return U}return-1}var Si="closure_lm_"+(1e6*Math.random()|0),fs={};function Co(u,m,_,I,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Co(u,m[q],_,I,U);return null}return _=Po(_),u&&u[Oe]?u.K(m,_,y(I)?!!I.capture:!!I,U):xo(u,m,_,!1,I,U)}function xo(u,m,_,I,U,q){if(!m)throw Error("Invalid event type");var ne=y(U)?!!U.capture:!!U,je=ms(u);if(je||(u[Si]=je=new cr(u)),_=je.add(m,_,I,ne,q),_.proxy)return _;if(I=tl(),_.proxy=I,I.src=u,I.listener=_,u.addEventListener)Se||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),I,U);else if(u.attachEvent)u.attachEvent(dr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tl(){function u(_){return m.call(u.src,u.listener,_)}const m=ko;return u}function ps(u,m,_,I,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)ps(u,m[q],_,I,U);else I=y(I)?!!I.capture:!!I,_=Po(_),u&&u[Oe]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=Or(q,_,I,U),-1<_&&(_t(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ms(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Or(m,_,I,U)),(_=-1<u?m[u]:null)&&hr(_))}function hr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Oe])ds(m.i,u);else{var _=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(_,I,u.capture):m.detachEvent?m.detachEvent(dr(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=ms(m))?(ds(_,u),_.h==0&&(_.src=null,m[Si]=null)):_t(u)}}}function dr(u){return u in fs?fs[u]:fs[u]="on"+u}function ko(u,m){if(u.da)u=!0;else{m=new Re(m,this);var _=u.listener,I=u.ha||u.src;u.fa&&hr(u),u=_.call(I,m)}return u}function ms(u){return u=u[Si],u instanceof cr?u:null}var gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(u){return typeof u=="function"?u:(u[gs]||(u[gs]=function(m){return u.handleEvent(m)}),u[gs])}function ht(){Q.call(this),this.i=new cr(this),this.M=this,this.F=null}C(ht,Q),ht.prototype[Oe]=!0,ht.prototype.removeEventListener=function(u,m,_,I){ps(this,u,m,_,I)};function dt(u,m){var _,I=u.F;if(I)for(_=[];I;I=I.F)_.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var U=m;m=new fe(I,u),b(m,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var ne=m.g=_[q];U=fr(ne,I,!0,m)&&U}if(ne=m.g=u,U=fr(ne,I,!0,m)&&U,U=fr(ne,I,!1,m)&&U,_)for(q=0;q<_.length;q++)ne=m.g=_[q],U=fr(ne,I,!1,m)&&U}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],I=0;I<_.length;I++)_t(_[I]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,_,I){return this.i.add(String(u),m,!1,_,I)},ht.prototype.L=function(u,m,_,I){return this.i.add(String(u),m,!0,_,I)};function fr(u,m,_,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var ne=m[q];if(ne&&!ne.da&&ne.capture==_){var je=ne.listener,ft=ne.ha||ne.src;ne.fa&&ds(u.i,ne),U=je.call(ft,I)!==!1&&U}}return U&&!I.defaultPrevented}function No(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Mr(u){u.g=No(()=>{u.g=null,u.i&&(u.i=!1,Mr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ri extends Q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Mr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(u){Q.call(this),this.h=u,this.g={}}C(Ai,Q);var Do=[];function bo(u){me(u.g,function(m,_){this.g.hasOwnProperty(_)&&hr(m)},u),u.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),bo(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=f.JSON.stringify,Lo=f.JSON.parse,Oo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ci(){}Ci.prototype.h=null;function ys(u){return u.h||(u.h=u.i())}function _s(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){fe.call(this,"d")}C(Wn,fe);function vs(){fe.call(this,"c")}C(vs,fe);var Gn={},Mo=null;function xi(){return Mo=Mo||new ht}Gn.La="serverreachability";function Fo(u){fe.call(this,Gn.La,u)}C(Fo,fe);function pr(u){const m=xi();dt(m,new Fo(m))}Gn.STAT_EVENT="statevent";function jo(u,m){fe.call(this,Gn.STAT_EVENT,u),this.stat=m}C(jo,fe);function it(u){const m=xi();dt(m,new jo(m,u))}Gn.Ma="timingevent";function ws(u,m){fe.call(this,Gn.Ma,u),this.size=m}C(ws,fe);function xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function Pi(u,m,_,I,U,q){u.info(function(){if(u.g)if(q)for(var ne="",je=q.split("&"),ft=0;ft<je.length;ft++){var Ne=je[ft].split("=");if(1<Ne.length){var vt=Ne[0];Ne=Ne[1];var at=vt.split("_");ne=2<=at.length&&at[1]=="type"?ne+(vt+"="+Ne+"&"):ne+(vt+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+m+`
`+_+`
`+ne})}function Es(u,m,_,I,U,q,ne){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+ne})}function kn(u,m,_,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ec(u,_)+(I?" "+I:"")})}function Uo(u,m){u.info(function(){return"TIMEOUT: "+m})}ki.prototype.info=function(){};function Ec(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var I=_[u];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return Vo(_)}catch{return m}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Ni(){}C(Ni,Ci),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},Pn=new Ni;function Nn(u,m,_,I){this.j=u,this.i=m,this.l=_,this.R=I||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rl}function rl(){this.i=null,this.g="",this.h=!1}var Bo={},Is={};function Ss(u,m,_){u.L=1,u.v=zr(on(m)),u.m=_,u.P=!0,zo(u,null)}function zo(u,m){u.F=Date.now(),$e(u),u.A=on(u.v);var _=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),qr(_.i,"t",I),u.C=0,_=u.j.J,u.h=new rl,u.g=El(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Ri(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,I=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Do[0]=U.toString()),U=Do);for(var q=0;q<U.length;q++){var ne=Co(_,U[q],I||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pr(),Pi(u.i,u.u,u.A,u.l,u.R,u.m)}Nn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Gt(u)==3?m.j():this.Y(u)},Nn.prototype.Y=function(u){try{if(u==this.g)e:{const at=Gt(this.g);var m=this.g.Ba();const vn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Ko(this.g)))){this.J||at!=4||m==7||(m==8||0>=vn?pr(3):pr(2)),Di(this);var _=this.g.Z();this.X=_;t:if(il(this)){var I=Ko(this.g);u="";var U=I.length,q=Gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Fr(this);var ne="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(q&&m==U-1)});I.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,Es(this.i,this.u,this.A,this.l,this.R,at,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ft=this.g;if((je=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(je)){var Ne=je;break t}}Ne=null}if(_=Ne)kn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$o(this,_);else{this.o=!1,this.s=3,it(12),yn(this),Fr(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<ne.length;)if(ln=Tc(this,ne),ln==Is){at==4&&(this.s=4,it(14),_=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Bo){this.s=4,it(15),kn(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else kn(this.i,this.l,ln,null),$o(this,ln);if(il(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||ne.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)kn(this.i,this.l,ne,"[Invalid Chunked Response]"),yn(this),Fr(this);else if(0<ne.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Xo(vt),vt.M=!0,it(11))}}else kn(this.i,this.l,ne,null),$o(this,ne);at==4&&yn(this),this.o&&!this.J&&(at==4?Ls(this.j,this):(this.o=!1,$e(this)))}else Ps(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),yn(this),Fr(this)}}}catch{}finally{}};function il(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Tc(u,m){var _=u.C,I=m.indexOf(`
`,_);return I==-1?Is:(_=Number(m.substring(_,I)),isNaN(_)?Bo:(I+=1,I+_>m.length?Is:(m=m.slice(I,I+_),u.C=I+_,m)))}Nn.prototype.cancel=function(){this.J=!0,yn(this)};function $e(u){u.S=Date.now()+u.I,sl(u,u.I)}function sl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xn(S(u.ba,u),m)}function Di(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Nn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Uo(this.i,this.A),this.L!=2&&(pr(),it(17)),yn(this),this.s=2,Fr(this)):sl(this,this.S-u)};function Fr(u){u.j.G==0||u.J||Ls(u.j,u)}function yn(u){Di(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,bo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function $o(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Bt(_.h,u))){if(!u.K&&Bt(_.h,u)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Vs(_),On(_);else break e;bs(_),it(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=xn(S(_.Za,_),6e3));if(1>=al(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vr(_,11)}else if((u.K||_.g==u)&&Vs(_),!G(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Ne=U[m];if(_.T=Ne[0],Ne=Ne[1],_.G==2)if(Ne[0]=="c"){_.K=Ne[1],_.ia=Ne[2];const vt=Ne[3];vt!=null&&(_.la=vt,_.j.info("VER="+_.la));const at=Ne[4];at!=null&&(_.Aa=at,_.j.info("SVER="+_.Aa));const vn=Ne[5];vn!=null&&typeof vn=="number"&&0<vn&&(I=1.5*vn,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const ln=u.g;if(ln){const ji=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var q=I.h;q.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(qo(q,q.h),q.h=null))}if(I.D){const Ms=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Ms&&(I.ya=Ms,Be(I.I,I.D,Ms))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ne=u;if(I.qa=wl(I,I.J?I.ia:null,I.W),ne.K){ll(I.h,ne);var je=ne,ft=I.L;ft&&(je.I=ft),je.B&&(Di(je),$e(je)),I.g=ne}else Fi(I);0<_.i.length&&Yn(_)}else Ne[0]!="stop"&&Ne[0]!="close"||vr(_,7);else _.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?vr(_,7):At(_):Ne[0]!="noop"&&_.l&&_.l.ta(Ne),_.v=0)}}pr(4)}catch{}}var ol=class{constructor(u,m){this.g=u,this.map=m}};function bi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function al(u){return u.h?1:u.g?u.g.size:0}function Bt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qo(u,m){u.g?u.g.add(m):u.h=m}function ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bi.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ul(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return M(u.i)}function Rs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,I=0;I<_;I++)m.push(u[I]);return m}m=[],_=0;for(I in u)m[_++]=u[I];return m}function As(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const I in u)m[_++]=I;return m}}}function jr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=As(u),I=Rs(u),U=I.length,q=0;q<U;q++)m.call(void 0,I[q],_&&_[q],u)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var I=u[_].indexOf("="),U=null;if(0<=I){var q=u[_].substring(0,I);U=u[_].substring(I+1)}else q=u[_];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mr){this.h=u.h,Li(this,u.j),this.o=u.o,this.g=u.g,Ur(this,u.s),this.l=u.l;var m=u.i,_=new Kn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Br(this,_),this.m=u.m}else u&&(m=String(u).match(Vi))?(this.h=!1,Li(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),Ur(this,m[4]),this.l=xe(m[5]||"",!0),Br(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}mr.prototype.toString=function(){var u=[],m=this.j;m&&u.push($r(m,Cs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push($r(m,Cs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push($r(_,_.charAt(0)=="/"?dl:hl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",$r(_,Ho)),u.join("")};function on(u){return new mr(u)}function Li(u,m,_){u.j=_?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ur(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Br(u,m,_){m instanceof Kn?(u.i=m,Qn(u.i,u.h)):(_||(m=$r(m,fl)),u.i=new Kn(m,u.h))}function Be(u,m,_){u.i.set(m,_)}function zr(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $r(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,cl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Cs=/[#\/\?@]/g,hl=/[#\?:]/g,dl=/[#\?]/g,fl=/[#\?@]/g,Ho=/#/g;function Kn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rt(u){u.g||(u.g=new Map,u.h=0,u.i&&Ic(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Kn.prototype,r.add=function(u,m){Rt(this),this.i=null,u=_n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Dn(u,m){Rt(u),m=_n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bn(u,m){return Rt(u),m=_n(u,m),u.g.has(m)}r.forEach=function(u,m){Rt(this),this.g.forEach(function(_,I){_.forEach(function(U){u.call(m,U,I,this)},this)},this)},r.na=function(){Rt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){const U=u[I];for(let q=0;q<U.length;q++)_.push(m[I])}return _},r.V=function(u){Rt(this);let m=[];if(typeof u=="string")bn(this,u)&&(m=m.concat(this.g.get(_n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Rt(this),this.i=null,u=_n(this,u),bn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function qr(u,m,_){Dn(u,m),0<_.length&&(u.i=null,u.g.set(_n(u,m),M(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];const q=encodeURIComponent(String(I)),ne=this.V(I);for(I=0;I<ne.length;I++){var U=q;ne[I]!==""&&(U+="="+encodeURIComponent(String(ne[I]))),u.push(U)}}return this.i=u.join("&")};function _n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qn(u,m){m&&!u.j&&(Rt(u),u.i=null,u.g.forEach(function(_,I){var U=I.toLowerCase();I!=U&&(Dn(this,I),qr(this,U,_))},u)),u.j=m}function Sc(u,m){const _=new ki;if(f.Image){const I=new Image;I.onload=k(Wt,_,"TestLoadImage: loaded",!0,m,I),I.onerror=k(Wt,_,"TestLoadImage: error",!1,m,I),I.onabort=k(Wt,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=k(Wt,_,"TestLoadImage: timeout",!1,m,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function pl(u,m){const _=new ki,I=new AbortController,U=setTimeout(()=>{I.abort(),Wt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(q=>{clearTimeout(U),q.ok?Wt(_,"TestPingServer: ok",!0,m):Wt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Wt(_,"TestPingServer: error",!1,m)})}function Wt(u,m,_,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(_)}catch{}}function Rc(){this.g=new Oo}function ml(u,m,_){const I=_||"";try{jr(u,function(U,q){let ne=U;y(U)&&(ne=Vo(U)),m.push(I+q+"="+encodeURIComponent(ne))})}catch(U){throw m.push(I+"type="+encodeURIComponent("_badmap")),U}}function gr(u){this.l=u.Ub||null,this.j=u.eb||!1}C(gr,Ci),gr.prototype.g=function(){return new Oi(this.l,this.j)},gr.prototype.i=function(u){return function(){return u}}({});function Oi(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Oi,ht),r=Oi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ln(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vn(this):Ln(this),this.readyState==3&&gl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Vn(this))},r.Qa=function(u){this.g&&(this.response=u,Vn(this))},r.ga=function(){this.g&&Vn(this)};function Vn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ln(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yr(u){let m="";return me(u,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function Hr(u,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=yr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Be(u,m,_))}function Qe(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Qe,ht);var Ac=/^https?$/i,Wo=["POST","PUT"];r=Qe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?ys(this.o):ys(Pn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Mi(this,q);return}if(u=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)_.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const q of I.keys())_.set(q,I.get(q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Wo,m,void 0))||I||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Mi(this,q)}};function Mi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xs(u),an(u)}function xs(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Go(this):this.bb())},r.bb=function(){Go(this)};function Go(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Gt(u)!=4||u.Z()!=2)){if(u.u&&Gt(u)==4)No(u.Ea,0,u);else if(dt(u,"readystatechange"),Gt(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=ne===0){var U=String(u.D).match(Vi)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),I=!Ac.test(U?U.toLowerCase():"")}_=I}if(_)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var q=2<Gt(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",xs(u)}}finally{an(u)}}}}function an(u,m){if(u.g){ks(u);const _=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||dt(u,"ready");try{_.onreadystatechange=I}catch{}}}function ks(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Gt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lo(m)}};function Ko(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ps(u){const m={};u=(u.g&&2<=Gt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(G(u[I]))continue;var _=O(u[I]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}D(m,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Qo(u){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,u),this.cb=Xn("retryDelaySeedMs",1e4,u),this.Wa=Xn("forwardChannelMaxRetries",2,u),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(u&&u.concurrentRequestLimit),this.Da=new Rc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qo.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,I){it(0),this.W=u,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=wl(this,null,this.W),Yn(this)};function At(u){if(Ns(u),u.G==3){var m=u.U++,_=on(u.I);if(Be(_,"SID",u.K),Be(_,"RID",m),Be(_,"TYPE","terminate"),_r(u,_),m=new Nn(u,u.j,m),m.L=2,m.v=zr(on(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=El(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$e(m)}vl(u)}function On(u){u.g&&(Xo(u),u.g.cancel(),u.g=null)}function Ns(u){On(u),u.u&&(f.clearTimeout(u.u),u.u=null),Vs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Yn(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ue||oe(),ie||(Ue(),ie=!0),ge.add(m,u),u.B=0}}function Cc(u,m){return al(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xn(S(u.Ga,u,m),_l(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Nn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=R(q),b(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Wr(this,U,m),_=on(this.I),Be(_,"RID",u),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),_r(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(yr(q)))+"&"+m:this.m&&Hr(_,this.m,q)),qo(this.h,U),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",m),Be(_,"SID","null"),U.T=!0,Ss(U,_,null)):Ss(U,_,m),this.G=2}}else this.G==3&&(u?Ds(this,u):this.i.length==0||sn(this.h)||Ds(this))};function Ds(u,m){var _;m?_=m.l:_=u.U++;const I=on(u.I);Be(I,"SID",u.K),Be(I,"RID",_),Be(I,"AID",u.T),_r(u,I),u.m&&u.o&&Hr(I,u.m,u.o),_=new Nn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Wr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qo(u.h,_),Ss(_,I,m)}function _r(u,m){u.H&&me(u.H,function(_,I){Be(m,I,_)}),u.l&&jr({},function(_,I){Be(m,I,_)})}function Wr(u,m,_){_=Math.min(u.i.length,_);var I=u.l?S(u.l.Na,u.l,u):null;e:{var U=u.i;let q=-1;for(;;){const ne=["count="+_];q==-1?0<_?(q=U[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let je=!0;for(let ft=0;ft<_;ft++){let Ne=U[ft].g;const vt=U[ft].map;if(Ne-=q,0>Ne)q=Math.max(0,U[ft].g-100),je=!1;else try{ml(vt,ne,"req"+Ne+"_")}catch{I&&I(vt)}}if(je){I=ne.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,I}function Fi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ue||oe(),ie||(Ue(),ie=!0),ge.add(m,u),u.v=0}}function bs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xn(S(u.Fa,u),_l(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,yl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xn(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),On(this),yl(this))};function Xo(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function yl(u){u.g=new Nn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Be(m,"RID","rpc"),Be(m,"SID",u.K),Be(m,"AID",u.T),Be(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(m,"TO",u.ja),Be(m,"TYPE","xmlhttp"),_r(u,m),u.m&&u.o&&Hr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=zr(on(m)),_.m=null,_.P=!0,zo(_,u)}r.Za=function(){this.C!=null&&(this.C=null,On(this),bs(this),it(19))};function Vs(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Ls(u,m){var _=null;if(u.g==m){Vs(u),Xo(u),u.g=null;var I=2}else if(Bt(u.h,m))_=m.D,ll(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;I=xi(),dt(I,new ws(I,_)),Yn(u)}else Fi(u);else if(U=m.s,U==3||U==0&&0<m.X||!(I==1&&Cc(u,m)||I==2&&bs(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:vr(u,5);break;case 4:vr(u,10);break;case 3:vr(u,6);break;default:vr(u,2)}}}function _l(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function vr(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),I=u.Xa;const U=!I;I=new mr(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Li(I,"https"),zr(I),U?Sc(I.toString(),_):pl(I.toString(),_)}else it(2);u.G=0,u.l&&u.l.sa(m),vl(u),Ns(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function vl(u){if(u.G=0,u.ka=[],u.l){const m=ul(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function wl(u,m,_){var I=_ instanceof mr?on(_):new mr(_);if(I.g!="")m&&(I.g=m+"."+I.g),Ur(I,I.s);else{var U=f.location;I=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new mr(null);I&&Li(q,I),m&&(q.g=m),U&&Ur(q,U),_&&(q.l=_),I=q}return _=u.D,m=u.ya,_&&m&&Be(I,_,m),Be(I,"VER",u.la),_r(u,I),I}function El(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Qe(new gr({eb:_})):new Qe(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}r=Yo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Os(){}Os.prototype.g=function(u,m){return new zt(u,m)};function zt(u,m){ht.call(this),this.g=new Qo(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!G(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!G(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}C(zt,ht),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){At(this.g)},zt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Vo(u),u=_);m.i.push(new ol(m.Ya++,u)),m.G==3&&Yn(m)},zt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,zt.aa.N.call(this)};function Tl(u){Wn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}C(Tl,Wn);function Il(){vs.call(this),this.status=1}C(Il,vs);function Jn(u){this.g=u}C(Jn,Yo),Jn.prototype.ua=function(){dt(this.g,"a")},Jn.prototype.ta=function(u){dt(this.g,new Tl(u))},Jn.prototype.sa=function(u){dt(this.g,new Il)},Jn.prototype.ra=function(){dt(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,u_=function(){return new Os},l_=function(){return xi()},a_=Gn,Td={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,xu=Ts,nl.COMPLETE="complete",o_=nl,_s.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ra=_s,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,s_=Qe}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});const Ag="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Qd("@firebase/firestore");function so(){return is.logLevel}function ae(r,...e){if(is.logLevel<=be.DEBUG){const t=e.map(Jd);is.debug(`Firestore (${Eo}): ${r}`,...t)}}function br(r,...e){if(is.logLevel<=be.ERROR){const t=e.map(Jd);is.error(`Firestore (${Eo}): ${r}`,...t)}}function co(r,...e){if(is.logLevel<=be.WARN){const t=e.map(Jd);is.warn(`Firestore (${Eo}): ${r}`,...t)}}function Jd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+r;throw br(e),new Error(e)}function Fe(r,e){r||Ee()}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class E1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class T1{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new c_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new jt(e)}}class I1{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class S1{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new I1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fe(this.o===void 0);const s=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new R1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=C1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function ho(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new gt(0,0))}static max(){return new Te(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(),s===void 0?s=e.length-t:s>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ge extends Fa{construct(e,t,s){return new Ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const x1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Fa{construct(e,t,s){return new Pt(e,t,s)}static isValidIdentifier(e){return x1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ge.fromString(e))}static fromName(e){return new pe(Ge.fromString(e).popFirst(5))}static empty(){return new pe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ge(e.slice()))}}function k1(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new gt(t+1,0):new gt(t,s));return new gi(o,pe.empty(),e)}function P1(r){return new gi(r.readTime,r.key,-1)}class gi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new gi(Te.min(),pe.empty(),-1)}static max(){return new gi(Te.max(),pe.empty(),-1)}}function N1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==D1)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(w=>{h[y]=w,++f,f===l&&s(h)},w=>o(w))}})}static doWhile(e,t){return new K((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function V1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nc.oe=-1;function rc(r){return r==null}function Uu(r){return r===0&&1/r==-1/0}function L1(r){return typeof r=="number"&&Number.isInteger(r)&&!Uu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Cg(e)),e=M1(r.get(t),e);return Cg(e)}function M1(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Cg(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ti(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function d_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vu(this.root,e,this.comparator,!0)}}class vu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??kt.RED,this.left=o??kt.EMPTY,this.right=l??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new kt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,s,o,l){return this}insert(e,t,s){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kg(this.data.getIterator())}getIteratorFrom(e){return new kg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class kg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new dn([])}unionWith(e){let t=new yt(Pt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new f_("Invalid base64 string: "+l):l}}(e);return new Nt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const F1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(r){if(Fe(!!r),typeof r=="string"){let e=0;const t=F1.exec(r);if(Fe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(r.seconds),nanos:ot(r.nanos)}}function ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _i(r){return typeof r=="string"?Nt.fromBase64String(r):Nt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ic(r){const e=r.mapValue.fields.__previous_value__;return Zd(e)?ic(e):e}function ja(r){const e=yi(r.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t,s,o,l,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Ua{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zd(r)?4:B1(r)?9007199254740991:U1(r)?10:11:Ee()}function ar(r,e){if(r===e)return!0;const t=vi(r);if(t!==vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ja(r).isEqual(ja(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=yi(o.timestampValue),f=yi(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return _i(o.bytesValue).isEqual(_i(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return ot(o.geoPointValue.latitude)===ot(l.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ot(o.integerValue)===ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ot(o.doubleValue),f=ot(l.doubleValue);return h===f?Uu(h)===Uu(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(xg(h)!==xg(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!ar(h[p],f[p])))return!1;return!0}(r,e);default:return Ee()}}function Ba(r,e){return(r.values||[]).find(t=>ar(t,e))!==void 0}function fo(r,e){if(r===e)return 0;const t=vi(r),s=vi(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=ot(l.integerValue||l.doubleValue),p=ot(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return Pg(r.timestampValue,e.timestampValue);case 4:return Pg(ja(r),ja(e));case 5:return ke(r.stringValue,e.stringValue);case 6:return function(l,h){const f=_i(l),p=_i(h);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const w=ke(f[y],p[y]);if(w!==0)return w}return ke(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=ke(ot(l.latitude),ot(h.latitude));return f!==0?f:ke(ot(l.longitude),ot(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ng(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,w;const T=l.fields||{},S=h.fields||{},k=(f=T.value)===null||f===void 0?void 0:f.arrayValue,C=(p=S.value)===null||p===void 0?void 0:p.arrayValue,M=ke(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((w=C==null?void 0:C.values)===null||w===void 0?void 0:w.length)||0);return M!==0?M:Ng(k,C)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===wu.mapValue&&h===wu.mapValue)return 0;if(l===wu.mapValue)return 1;if(h===wu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=ke(p[T],w[T]);if(S!==0)return S;const k=fo(f[p[T]],y[w[T]]);if(k!==0)return k}return ke(p.length,w.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function Pg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const t=yi(r),s=yi(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function Ng(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=fo(t[o],s[o]);if(l)return l}return ke(t.length,s.length)}function po(r){return Id(r)}function Id(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=yi(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return _i(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Id(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Id(t.fields[h])}`;return o+"}"}(r.mapValue):Ee()}function ku(r){switch(vi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(r);return e?16+ku(e):16;case 5:return 2*r.stringValue.length;case 6:return _i(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+ku(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ti(s.fields,(l,h)=>{o+=l.length+ku(h)}),o}(r.mapValue);default:throw Ee()}}function Dg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sd(r){return!!r&&"integerValue"in r}function ef(r){return!!r&&"arrayValue"in r}function bg(r){return!!r&&"nullValue"in r}function Vg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pu(r){return!!r&&"mapValue"in r}function U1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function xa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ti(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=xa(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function B1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Pu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(t)}setAll(e){let t=Pt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=xa(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Pu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ti(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new nn(xa(this.value))}}function p_(r){const e=[];return Ti(r.fields,(t,s)=>{const o=new Pt([t]);if(Pu(s)){const l=p_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ut(e,0,Te.min(),Te.min(),Te.min(),nn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Te.min(),Te.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Te.min(),Te.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.position=e,this.inclusive=t}}function Lg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=fo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Og(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ar(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t="asc"){this.field=e,this.dir=t}}function z1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{}class ct extends m_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new q1(e,t,s):t==="array-contains"?new G1(e,s):t==="in"?new K1(e,s):t==="not-in"?new Q1(e,s):t==="array-contains-any"?new X1(e,s):new ct(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new H1(e,s):new W1(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fo(t,this.value)):t!==null&&vi(this.value)===vi(t)&&this.matchesComparison(fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends m_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Hn(e,t)}matches(e){return g_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function g_(r){return r.op==="and"}function y_(r){return $1(r)&&g_(r)}function $1(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function Rd(r){if(r instanceof ct)return r.field.canonicalString()+r.op.toString()+po(r.value);if(y_(r))return r.filters.map(e=>Rd(e)).join(",");{const e=r.filters.map(t=>Rd(t)).join(",");return`${r.op}(${e})`}}function __(r,e){return r instanceof ct?function(s,o){return o instanceof ct&&s.op===o.op&&s.field.isEqual(o.field)&&ar(s.value,o.value)}(r,e):r instanceof Hn?function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,f)=>l&&__(h,o.filters[f]),!0):!1}(r,e):void Ee()}function v_(r){return r instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${po(t.value)}`}(r):r instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map(v_).join(" ,")+"}"}(r):"Filter"}class q1 extends ct{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class H1 extends ct{constructor(e,t){super(e,"in",t),this.keys=w_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class W1 extends ct{constructor(e,t){super(e,"not-in",t),this.keys=w_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function w_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class G1 extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ef(t)&&Ba(t.arrayValue,this.value)}}class K1 extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ba(this.value.arrayValue,t)}}class Q1 extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ba(this.value.arrayValue,t)}}class X1 extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ef(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ba(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function Mg(r,e=null,t=[],s=[],o=null,l=null,h=null){return new Y1(r,e,t,s,o,l,h)}function tf(r){const e=Ie(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Rd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),rc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>po(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>po(s)).join(",")),e.ue=t}return e.ue}function nf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!z1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!__(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Og(r.startAt,e.startAt)&&Og(r.endAt,e.endAt)}function Ad(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function J1(r,e,t,s,o,l,h,f){return new Ga(r,e,t,s,o,l,h,f)}function E_(r){return new Ga(r)}function Fg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function T_(r){return r.collectionGroup!==null}function ka(r){const e=Ie(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new yt(Pt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new zu(l,s))}),t.has(Pt.keyField().canonicalString())||e.ce.push(new zu(Pt.keyField(),s))}return e.ce}function rr(r){const e=Ie(r);return e.le||(e.le=Z1(e,ka(r))),e.le}function Z1(r,e){if(r.limitType==="F")return Mg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new zu(o.field,l)});const t=r.endAt?new Bu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Bu(r.startAt.position,r.startAt.inclusive):null;return Mg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Cd(r,e){const t=r.filters.concat([e]);return new Ga(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function xd(r,e,t){return new Ga(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function sc(r,e){return nf(rr(r),rr(e))&&r.limitType===e.limitType}function I_(r){return`${tf(rr(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>v_(o)).join(", ")}]`),rc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>po(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>po(o)).join(",")),`Target(${s})`}(rr(r))}; limitType=${r.limitType})`}function oc(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):pe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of ka(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,p){const y=Lg(h,f,p);return h.inclusive?y<=0:y<0}(s.startAt,ka(s),o)||s.endAt&&!function(h,f,p){const y=Lg(h,f,p);return h.inclusive?y>=0:y>0}(s.endAt,ka(s),o))}(r,e)}function eI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function S_(r){return(e,t)=>{let s=!1;for(const o of ka(r)){const l=tI(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function tI(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?fo(p,y):Ee()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return d_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new et(pe.comparator);function Vr(){return nI}const R_=new et(pe.comparator);function Aa(...r){let e=R_;for(const t of r)e=e.insert(t.key,t);return e}function A_(r){let e=R_;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Zi(){return Pa()}function C_(){return Pa()}function Pa(){return new us(r=>r.toString(),(r,e)=>r.isEqual(e))}const rI=new et(pe.comparator),iI=new yt(pe.comparator);function Ce(...r){let e=iI;for(const t of r)e=e.add(t);return e}const sI=new yt(ke);function oI(){return sI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function x_(r){return{integerValue:""+r}}function aI(r,e){return L1(e)?x_(e):rf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this._=void 0}}function lI(r,e,t){return r instanceof $u?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Zd(l)&&(l=ic(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof za?P_(r,e):r instanceof $a?N_(r,e):function(o,l){const h=k_(o,l),f=jg(h)+jg(o.Pe);return Sd(h)&&Sd(o.Pe)?x_(f):rf(o.serializer,f)}(r,e)}function uI(r,e,t){return r instanceof za?P_(r,e):r instanceof $a?N_(r,e):t}function k_(r,e){return r instanceof qu?function(s){return Sd(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class $u extends ac{}class za extends ac{constructor(e){super(),this.elements=e}}function P_(r,e){const t=D_(e);for(const s of r.elements)t.some(o=>ar(o,s))||t.push(s);return{arrayValue:{values:t}}}class $a extends ac{constructor(e){super(),this.elements=e}}function N_(r,e){let t=D_(e);for(const s of r.elements)t=t.filter(o=>!ar(o,s));return{arrayValue:{values:t}}}class qu extends ac{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function jg(r){return ot(r.integerValue||r.doubleValue)}function D_(r){return ef(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function cI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof za&&o instanceof za||s instanceof $a&&o instanceof $a?ho(s.elements,o.elements,ar):s instanceof qu&&o instanceof qu?ar(s.Pe,o.Pe):s instanceof $u&&o instanceof $u}(r.transform,e.transform)}class hI{constructor(e,t){this.version=e,this.transformResults=t}}class qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lc{}function b_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sf(r.key,qn.none()):new Ka(r.key,r.data,qn.none());{const t=r.data,s=nn.empty();let o=new yt(Pt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ii(r.key,s,new dn(o.toArray()),qn.none())}}function dI(r,e,t){r instanceof Ka?function(o,l,h){const f=o.value.clone(),p=Bg(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Ii?function(o,l,h){if(!Nu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Bg(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(V_(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Na(r,e,t,s){return r instanceof Ka?function(l,h,f,p){if(!Nu(l.precondition,h))return f;const y=l.value.clone(),w=zg(l.fieldTransforms,p,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ii?function(l,h,f,p){if(!Nu(l.precondition,h))return f;const y=zg(l.fieldTransforms,p,h),w=h.data;return w.setAll(V_(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(l,h,f){return Nu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function fI(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=k_(s.transform,o||null);l!=null&&(t===null&&(t=nn.empty()),t.set(s.field,l))}return t||null}function Ug(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,(l,h)=>cI(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ka extends lc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ii extends lc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function V_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Bg(r,e,t){const s=new Map;Fe(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,uI(h,f,t[o]))}return s}function zg(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,lI(l,h,e))}return s}class sf extends lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pI extends lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&dI(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Na(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Na(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=C_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=b_(h,f);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(t,s)=>Ug(t,s))&&ho(this.baseMutations,e.baseMutations,(t,s)=>Ug(t,s))}}class of{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length);let o=function(){return rI}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new of(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,De;function _I(r){switch(r){default:return Ee();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function L_(r){if(r===void 0)return br("GRPC error has no .code"),X.UNKNOWN;switch(r){case ut.OK:return X.OK;case ut.CANCELLED:return X.CANCELLED;case ut.UNKNOWN:return X.UNKNOWN;case ut.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ut.INTERNAL:return X.INTERNAL;case ut.UNAVAILABLE:return X.UNAVAILABLE;case ut.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ut.NOT_FOUND:return X.NOT_FOUND;case ut.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ut.ABORTED:return X.ABORTED;case ut.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ut.DATA_LOSS:return X.DATA_LOSS;default:return Ee()}}(De=ut||(ut={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new ts([4294967295,4294967295],0);function $g(r){const e=vI().encode(r),t=new i_;return t.update(e),new Uint8Array(t.digest())}function qg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ts([t,s],0),new ts([o,l],0)]}class af{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ca(`Invalid padding: ${t}`);if(s<0)throw new Ca(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ts.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(ts.fromNumber(s)));return o.compare(wI)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=$g(e),[s,o]=qg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new af(l,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=$g(e),[s,o]=qg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Qa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new uc(Te.min(),o,new et(ke),Vr(),Ce())}}class Qa{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Qa(s,t,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class O_{constructor(e,t){this.targetId=e,this.me=t}}class M_{constructor(e,t,s=Nt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Hg{constructor(){this.fe=0,this.ge=Wg(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),t=Ce(),s=Ce();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new Qa(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Wg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class EI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=Eu(),this.Qe=Eu(),this.Ke=new et(ke)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Ad(l))if(s===0){const h=new pe(l.path);this.We(t,h,Ut.newNoDocument(h,Te.min()))}else Fe(s===1);else{const h=this.Ze(t);if(h!==s){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=_i(s).toUint8Array()}catch(p){if(p instanceof f_)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new af(h,o,l)}catch(p){return co(p instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&Ad(f.target)){const p=new pe(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,Ut.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=Ce();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new uc(e,t,this.Ke,this.ke,s);return this.ke=Vr(),this.qe=Eu(),this.Qe=Eu(),this.Ke=new et(ke),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Hg,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new yt(ke),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new yt(ke),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Hg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Eu(){return new et(pe.comparator)}function Wg(){return new et(pe.comparator)}const TI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SI={and:"AND",or:"OR"};class RI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kd(r,e){return r.useProto3Json||rc(e)?e:{value:e}}function Hu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function AI(r,e){return Hu(r,e.toTimestamp())}function ir(r){return Fe(!!r),Te.fromTimestamp(function(t){const s=yi(t);return new gt(s.seconds,s.nanos)}(r))}function lf(r,e){return Pd(r,e).canonicalString()}function Pd(r,e){const t=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function j_(r){const e=Ge.fromString(r);return Fe(q_(e)),e}function Nd(r,e){return lf(r.databaseId,e.path)}function id(r,e){const t=j_(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(B_(t))}function U_(r,e){return lf(r.databaseId,e)}function CI(r){const e=j_(r);return e.length===4?Ge.emptyPath():B_(e)}function Dd(r){return new Ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B_(r){return Fe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Gg(r,e,t){return{name:Nd(r,e),fields:t.value.mapValue.fields}}function xI(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,w){return y.useProto3Json?(Fe(w===void 0||typeof w=="string"),Nt.fromBase64String(w||"")):(Fe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Nt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const w=y.code===void 0?X.UNKNOWN:L_(y.code);return new ce(w,y.message||"")}(h);t=new M_(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=id(r,s.document.name),l=ir(s.document.updateTime),h=s.document.createTime?ir(s.document.createTime):Te.min(),f=new nn({mapValue:{fields:s.document.fields}}),p=Ut.newFoundDocument(o,l,h,f),y=s.targetIds||[],w=s.removedTargetIds||[];t=new Du(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=id(r,s.document),l=s.readTime?ir(s.readTime):Te.min(),h=Ut.newNoDocument(o,l),f=s.removedTargetIds||[];t=new Du([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=id(r,s.document),l=s.removedTargetIds||[];t=new Du([],l,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new yI(o,l),f=s.targetId;t=new O_(f,h)}}return t}function kI(r,e){let t;if(e instanceof Ka)t={update:Gg(r,e.key,e.value)};else if(e instanceof sf)t={delete:Nd(r,e.key)};else if(e instanceof Ii)t={update:Gg(r,e.key,e.data),updateMask:FI(e.fieldMask)};else{if(!(e instanceof pI))return Ee();t={verify:Nd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const f=h.transform;if(f instanceof $u)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof za)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $a)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof qu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Ee()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:AI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee()}(r,e.precondition)),t}function PI(r,e){return r&&r.length>0?(Fe(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?ir(o.updateTime):ir(l);return h.isEqual(Te.min())&&(h=ir(l)),new hI(h,o.transformResults||[])}(t,e))):[]}function NI(r,e){return{documents:[U_(r,e.path)]}}function DI(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=U_(r,o);const l=function(y){if(y.length!==0)return $_(Hn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(w=>function(S){return{field:ao(S.field),direction:LI(S.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=kd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function bI(r){let e=CI(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(T){const S=z_(T);return S instanceof Hn&&y_(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function(C){return new zu(lo(C.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(T){let S;return S=typeof T=="object"?T.value:T,rc(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,k=T.values||[];return new Bu(k,S)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const S=!T.before,k=T.values||[];return new Bu(k,S)}(t.endAt)),J1(e,o,h,l,f,"F",p,y)}function VI(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function z_(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=lo(t.unaryFilter.field);return ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(t.unaryFilter.field);return ct.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(t){return ct.create(lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Hn.create(t.compositeFilter.filters.map(s=>z_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(r):Ee()}function LI(r){return TI[r]}function OI(r){return II[r]}function MI(r){return SI[r]}function ao(r){return{fieldPath:r.canonicalString()}}function lo(r){return Pt.fromServerFormat(r.fieldPath)}function $_(r){return r instanceof ct?function(t){if(t.op==="=="){if(Vg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NAN"}};if(bg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NAN"}};if(bg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(t.field),op:OI(t.op),value:t.value}}}(r):r instanceof Hn?function(t){const s=t.getFilters().map(o=>$_(o));return s.length===1?s[0]:{compositeFilter:{op:MI(t.op),filters:s}}}(r):Ee()}function FI(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function q_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,s,o,l=Te.min(),h=Te.min(),f=Nt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.ht=e}}function UI(r){const e=bI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.ln=new zI}addToCollectionParentIndex(e,t){return this.ln.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(gi.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class zI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new yt(Ge.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new yt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new mo(0)}static Qn(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg([r,e],[t,s]){const o=ke(r,t);return o===0?ke(e,s):o}class $I{constructor(e){this.Gn=e,this.buffer=new yt(Qg),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Qg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Io(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await To(t)}await this.Yn(3e5)})}}class HI{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(nc.oe);const s=new $I(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Kg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kg):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,f,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(y=Date.now(),so()<=be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function WI(r,e){return new HI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.changes=new us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Na(s.mutation,o,dn.empty(),gt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ce()){const o=Zi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Aa();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Zi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ce()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let l=Vr();const h=Pa(),f=function(){return Pa()}();return t.forEach((p,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Ii)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),Na(w.mutation,y,w.mutation.getFieldMask(),gt.now())):h.set(y.key,dn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var T;return f.set(y,new KI(w,(T=h.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Pa();let o=new et((h,f)=>h-f),l=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=s.get(p)||dn.empty();w=f.applyToLocalView(y,w),s.set(p,w);const T=(o.get(f.batchId)||Ce()).add(p);o=o.insert(f.batchId,T)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,w=p.value,T=C_();w.forEach(S=>{if(!l.has(S)){const k=b_(t.get(S),s.get(S));k!==null&&T.set(S,k),l=l.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):T_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):K.resolve(Zi());let f=-1,p=l;return h.next(y=>K.forEach(y,(w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Ce())).next(w=>({batchId:f,changes:A_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=Aa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Aa();return this.indexManager.getCollectionParents(e,l).next(f=>K.forEach(f,p=>{const y=function(T,S){return new Ga(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(w=>{w.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Ut.newInvalidDocument(w)))});let f=Aa();return h.forEach((p,y)=>{const w=l.get(p);w!==void 0&&Na(w.mutation,y,dn.empty(),gt.now()),oc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return K.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:UI(o.bundledQuery),readTime:ir(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.overlays=new et(pe.comparator),this.Er=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Zi();return K.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=Zi(),l=t.length+1,h=new pe(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new et((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let w=l.get(y.largestBatchId);w===null&&(w=Zi(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=Zi(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>f.set(y,w)),!(f.size()>=o)););return K.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new gI(t,s));let l=this.Er.get(t);l===void 0&&(l=Ce(),this.Er.set(t,l)),this.Er.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.dr=new yt(It.Ar),this.Rr=new yt(It.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new It(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new It(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new pe(new Ge([])),s=new It(t,e),o=new It(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new pe(new Ge([])),s=new It(t,e),o=new It(t,e+1);let l=Ce();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new It(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return pe.comparator(e.key,t.key)||ke(e.br,t.br)}static Vr(e,t){return ke(e.br,t.br)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new yt(It.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new mI(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new It(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new It(t,0),o=new It(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const f=this.Cr(h.br);l.push(f)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new yt(ke);return t.forEach(o=>{const l=new It(o,0),h=new It(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{s=s.add(f.br)})}),K.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;pe.isDocumentKey(l)||(l=l.child(""));const h=new It(new pe(l),0);let f=new yt(ke);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},h),K.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return K.forEach(t.mutations,o=>{const l=new It(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new It(t,0),o=this.vr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.Nr=e,this.docs=function(){return new et(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=Vr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Ut.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Vr();const h=t.path,f=new pe(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||N1(P1(w),s)<=0||(o.has(w.key)||oc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ee()}Lr(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new tS(this)}getSize(e){return K.resolve(this.size)}}class tS extends GI{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.persistence=e,this.Br=new us(t=>tf(t),nf),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new uf,this.targetCount=0,this.Qr=mo.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),K.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new mo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Un(t),K.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),K.waitFor(l).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new nc(0),this.Ur=!1,this.Ur=!0,this.Wr=new JI,this.referenceDelegate=e(this),this.Gr=new nS(this),this.indexManager=new BI,this.remoteDocumentCache=function(o){return new eS(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new jI(t),this.jr=new XI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new ZI(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new rS(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return K.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class rS extends b1{constructor(e){super(),this.currentSequenceNumber=e}}class cf{constructor(e){this.persistence=e,this.Zr=new uf,this.Xr=null}static ei(e){return new cf(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),K.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,s=>{const o=pe.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Te.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return K.or([()=>K.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Wu{constructor(e,t){this.persistence=e,this.ri=new us(s=>O1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=WI(this,t)}static ei(e,t){return new Wu(e,t)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return K.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(s++,l.removeEntry(h,Te.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ku(e.data.value)),t}ir(e,t,s){return K.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Ce(),o=Ce();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return sT()?8:V1(nT())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new iS;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(so()<=be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(so()<=be.DEBUG&&ae("QueryEngine","Query:",oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(so()<=be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):K.resolve())}Xi(e,t){if(Fg(t))return K.resolve(null);let s=rr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=xd(t,null,"F"),s=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ce(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.rs(t,f);return this.ss(t,y,h,p.readTime)?this.Xi(e,xd(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,s,o){return Fg(t)||o.isEqual(Te.min())?K.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?K.resolve(null):(so()<=be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(t)),this.os(e,h,t,k1(o,-1)).next(f=>f))})}rs(e,t){let s=new yt(S_(e));return t.forEach((o,l)=>{oc(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return so()<=be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",oo(t)),this.Zi.getDocumentsMatchingQuery(e,t,gi.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new et(ke),this.cs=new us(l=>tf(l),nf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function aS(r,e,t,s){return new oS(r,e,t,s)}async function W_(r,e){const t=Ie(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],f=[];let p=Ce();for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function lS(r,e){const t=Ie(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,w){const T=y.batch,S=T.keys();let k=K.resolve();return S.forEach(C=>{k=k.next(()=>w.getEntry(p,C)).next(M=>{const V=y.docVersions.get(C);Fe(V!==null),M.version.compareTo(V)<0&&(T.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),w.addEntry(M)))})}),k.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=Ce();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function G_(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function uS(r,e){const t=Ie(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((w,T)=>{const S=o.get(T);if(!S)return;f.push(t.Gr.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,w.addedDocuments,T)));let k=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Nt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(w.resumeToken,s)),o=o.insert(T,k),function(M,V,W){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(S,k,w)&&f.push(t.Gr.updateTargetData(l,k))});let p=Vr(),y=Ce();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(cS(l,h,e.documentUpdates).next(w=>{p=w.Is,y=w.Es})),!s.isEqual(Te.min())){const w=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(w)}return K.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function cS(r,e,t){let s=Ce(),o=Ce();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=Vr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function hS(r,e){const t=Ie(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function dS(r,e){const t=Ie(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,K.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new ui(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function bd(r,e,t){const s=Ie(r),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Io(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Xg(r,e,t){const s=Ie(r);let o=Te.min(),l=Ce();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,w){const T=Ie(p),S=T.cs.get(w);return S!==void 0?K.resolve(T.us.get(S)):T.Gr.getTargetData(y,w)}(s,h,rr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?l:Ce())).next(f=>(fS(s,eI(e),f),{documents:f,ds:l})))}function fS(r,e,t){let s=r.ls.get(e)||Te.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.ls.set(e,s)}class Yg{constructor(){this.activeTargetIds=oI()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pS{constructor(){this._o=new Yg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Yg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu=null;function sd(){return Tu===null?Tu=function(){return 268435456+Math.round(2147483648*Math.random())}():Tu++,"0x"+Tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class _S extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const f=sd(),p=this.No(t,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(w=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,w),w),w=>{throw co("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,s,o,l,h,f){return this.Oo(t,s,o,l,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=gS[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const l=sd();return new Promise((h,f)=>{const p=new s_;p.setWithCredentials(!0),p.listenOnce(o_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xu.NO_ERROR:const w=p.getResponseJson();ae(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case xu.TIMEOUT:ae(Ft,`RPC '${e}' ${l} timed out`),f(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const T=p.getStatus();if(ae(Ft,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const C=function(V){const W=V.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN}(k.status);f(new ce(C,k.message))}else f(new ce(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ce(X.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ae(Ft,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(Ft,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,s,15)})}qo(e,t,s){const o=sd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=u_(),f=l_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const w=l.join("");ae(Ft,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=h.createWebChannel(w,p);let S=!1,k=!1;const C=new yS({Eo:V=>{k?ae(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(ae(Ft,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ae(Ft,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Ao:()=>T.close()}),M=(V,W,G)=>{V.listen(W,Z=>{try{G(Z)}catch(re){setTimeout(()=>{throw re},0)}})};return M(T,Ra.EventType.OPEN,()=>{k||(ae(Ft,`RPC '${e}' stream ${o} transport opened.`),C.So())}),M(T,Ra.EventType.CLOSE,()=>{k||(k=!0,ae(Ft,`RPC '${e}' stream ${o} transport closed`),C.Do())}),M(T,Ra.EventType.ERROR,V=>{k||(k=!0,co(Ft,`RPC '${e}' stream ${o} transport errored:`,V),C.Do(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),M(T,Ra.EventType.MESSAGE,V=>{var W;if(!k){const G=V.data[0];Fe(!!G);const Z=G,re=(Z==null?void 0:Z.error)||((W=Z[0])===null||W===void 0?void 0:W.error);if(re){ae(Ft,`RPC '${e}' stream ${o} received error:`,re);const ve=re.status;let me=function(x){const b=ut[x];if(b!==void 0)return L_(b)}(ve),D=re.message;me===void 0&&(me=X.INTERNAL,D="Unknown error status: "+ve+" with message "+re.message),k=!0,C.Do(new ce(me,D)),T.close()}else ae(Ft,`RPC '${e}' stream ${o} received:`,G),C.vo(G)}}),M(f,a_.STAT_EVENT,V=>{V.stat===Td.PROXY?ae(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Td.NOPROXY&&ae(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(r){return new RI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,t,s,o,l,h,f,p){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new K_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new ce(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vS extends Q_{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=xI(this.serializer,e),s=function(l){if(!("targetChange"in l))return Te.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?ir(h.readTime):Te.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=Dd(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=Ad(p)?{documents:NI(l,p)}:{query:DI(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=F_(l,h.resumeToken);const y=kd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){f.readTime=Hu(l,h.snapshotVersion.toTimestamp());const y=kd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=VI(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=Dd(this.serializer),t.removeTarget=e,this.c_(t)}}class wS extends Q_{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=PI(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=Dd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>kI(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,Pd(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(X.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,Pd(t,s),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(X.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class TS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(br(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{cs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.k_.add(4),await Xa(y),y.K_.set("Unknown"),y.k_.delete(4),await hc(y)}(this))})}),this.K_=new TS(s,o)}}async function hc(r){if(cs(r))for(const e of r.q_)await e(!0)}async function Xa(r){for(const e of r.q_)await e(!1)}function X_(r,e){const t=Ie(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),mf(t)?pf(t):So(t).s_()&&ff(t,e))}function df(r,e){const t=Ie(r),s=So(t);t.B_.delete(e),s.s_()&&Y_(t,e),t.B_.size===0&&(s.s_()?s.a_():cs(t)&&t.K_.set("Unknown"))}function ff(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}So(r).V_(e)}function Y_(r,e){r.U_.xe(e),So(r).m_(e)}function pf(r){r.U_=new EI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),So(r).start(),r.K_.F_()}function mf(r){return cs(r)&&!So(r).i_()&&r.B_.size>0}function cs(r){return Ie(r).k_.size===0}function J_(r){r.U_=void 0}async function SS(r){r.K_.set("Online")}async function RS(r){r.B_.forEach((e,t)=>{ff(r,e)})}async function AS(r,e){J_(r),mf(r)?(r.K_.O_(e),pf(r)):r.K_.set("Unknown")}async function CS(r,e,t){if(r.K_.set("Online"),e instanceof M_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(r,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gu(r,s)}else if(e instanceof Du?r.U_.$e(e):e instanceof O_?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Te.min()))try{const s=await G_(r.localStore);t.compareTo(s)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.B_.get(y);w&&l.B_.set(y,w.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const w=l.B_.get(p);if(!w)return;l.B_.set(p,w.withResumeToken(Nt.EMPTY_BYTE_STRING,w.snapshotVersion)),Y_(l,p);const T=new ui(w.target,p,y,w.sequenceNumber);ff(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await Gu(r,s)}}async function Gu(r,e,t){if(!Io(e))throw e;r.k_.add(1),await Xa(r),r.K_.set("Offline"),t||(t=()=>G_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await hc(r)})}function Z_(r,e){return e().catch(t=>Gu(r,t,e))}async function dc(r){const e=Ie(r),t=wi(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;xS(e);)try{const o=await hS(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,kS(e,o)}catch(o){await Gu(e,o)}ev(e)&&tv(e)}function xS(r){return cs(r)&&r.L_.length<10}function kS(r,e){r.L_.push(e);const t=wi(r);t.s_()&&t.f_&&t.g_(e.mutations)}function ev(r){return cs(r)&&!wi(r).i_()&&r.L_.length>0}function tv(r){wi(r).start()}async function PS(r){wi(r).w_()}async function NS(r){const e=wi(r);for(const t of r.L_)e.g_(t.mutations)}async function DS(r,e,t){const s=r.L_.shift(),o=of.from(s,e,t);await Z_(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await dc(r)}async function bS(r,e){e&&wi(r).f_&&await async function(s,o){if(function(h){return _I(h)&&h!==X.ABORTED}(o.code)){const l=s.L_.shift();wi(s).__(),await Z_(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await dc(s)}}(r,e),ev(r)&&tv(r)}async function Zg(r,e){const t=Ie(r);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=cs(t);t.k_.add(3),await Xa(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await hc(t)}async function VS(r,e){const t=Ie(r);e?(t.k_.delete(2),await hc(t)):e||(t.k_.add(2),await Xa(t),t.K_.set("Unknown"))}function So(r){return r.W_||(r.W_=function(t,s,o){const l=Ie(t);return l.b_(),new vS(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:SS.bind(null,r),mo:RS.bind(null,r),po:AS.bind(null,r),R_:CS.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),mf(r)?pf(r):r.K_.set("Unknown")):(await r.W_.stop(),J_(r))})),r.W_}function wi(r){return r.G_||(r.G_=function(t,s,o){const l=Ie(t);return l.b_(),new wS(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:PS.bind(null,r),po:bS.bind(null,r),p_:NS.bind(null,r),y_:DS.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await dc(r)):(await r.G_.stop(),r.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new gf(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yf(r,e){if(br("AsyncQueue",`${e}: ${r}`),Io(r))return new ce(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Aa(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.z_=new et(pe.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class go{constructor(e,t,s,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new go(e,t,uo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class OS{constructor(){this.queries=ty(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Ie(t),l=o.queries;o.queries=ty(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(s)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function ty(){return new us(r=>I_(r),sc)}async function MS(r,e){const t=Ie(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new LS,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=yf(h,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&_f(t)}async function FS(r,e){const t=Ie(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function jS(r,e){const t=Ie(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(o)&&(s=!0);h.H_=o}}s&&_f(t)}function US(r,e,t){const s=Ie(r),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function _f(r){r.X_.forEach(e=>{e.next()})}var Vd,ny;(ny=Vd||(Vd={})).na="default",ny.Cache="cache";class BS{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.key=e}}class rv{constructor(e){this.key=e}}class zS{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=S_(e),this.ma=new uo(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new ey,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const S=o.get(w),k=oc(this.query,T)?T:null,C=!!S&&this.mutatedKeys.has(S.key),M=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;S&&k?S.data.isEqual(k.data)?C!==M&&(s.track({type:3,doc:k}),V=!0):this.ya(S,k)||(s.track({type:2,doc:k}),V=!0,(p&&this.Va(k,p)>0||y&&this.Va(k,y)<0)&&(f=!0)):!S&&k?(s.track({type:0,doc:k}),V=!0):S&&!k&&(s.track({type:1,doc:S}),V=!0,(p||y)&&(f=!0)),V&&(k?(h=h.add(k),l=M?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,T)=>function(k,C){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return M(k)-M(C)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new go(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ey,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ce(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new rv(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new nv(s))}),t}va(e){this.da=e.ds,this.Ra=Ce();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return go.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class $S{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class qS{constructor(e){this.key=e,this.Fa=!1}}class HS{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new us(f=>I_(f),sc),this.Oa=new Map,this.Na=new Set,this.La=new et(pe.comparator),this.Ba=new Map,this.ka=new uf,this.qa={},this.Qa=new Map,this.Ka=mo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function WS(r,e,t=!0){const s=uv(r);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await iv(s,e,t,!0),o}async function GS(r,e){const t=uv(r);await iv(t,e,!0,!1)}async function iv(r,e,t,s){const o=await dS(r.localStore,rr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await KS(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&X_(r.remoteStore,o),f}async function KS(r,e,t,s,o){r.Ua=(T,S,k)=>async function(M,V,W,G){let Z=V.view.ga(W);Z.ss&&(Z=await Xg(M.localStore,V.query,!1).then(({documents:D})=>V.view.ga(D,Z)));const re=G&&G.targetChanges.get(V.targetId),ve=G&&G.targetMismatches.get(V.targetId)!=null,me=V.view.applyChanges(Z,M.isPrimaryClient,re,ve);return iy(M,V.targetId,me.ba),me.snapshot}(r,T,S,k);const l=await Xg(r.localStore,e,!0),h=new zS(e,l.ds),f=h.ga(l.documents),p=Qa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,p);iy(r,t,y.ba);const w=new $S(e,t,h);return r.xa.set(e,w),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function QS(r,e,t){const s=Ie(r),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!sc(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&df(s.remoteStore,o.targetId),Ld(s,o.targetId)}).catch(To)):(Ld(s,o.targetId),await bd(s.localStore,o.targetId,!0))}async function XS(r,e){const t=Ie(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),df(t.remoteStore,s.targetId))}async function YS(r,e,t){const s=iR(r);try{const o=await function(h,f){const p=Ie(h),y=gt.now(),w=f.reduce((k,C)=>k.add(C.key),Ce());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let C=Vr(),M=Ce();return p.hs.getEntries(k,w).next(V=>{C=V,C.forEach((W,G)=>{G.isValidDocument()||(M=M.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,C)).next(V=>{T=V;const W=[];for(const G of f){const Z=fI(G,T.get(G.key).overlayedDocument);Z!=null&&W.push(new Ii(G.key,Z,p_(Z.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,W,f)}).next(V=>{S=V;const W=V.applyToLocalDocumentSet(T,M);return p.documentOverlayCache.saveOverlays(k,V.batchId,W)})}).then(()=>({batchId:S.batchId,changes:A_(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.qa[h.currentUser.toKey()];y||(y=new et(ke)),y=y.insert(f,p),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await Ya(s,o.changes),await dc(s.remoteStore)}catch(o){const l=yf(o,"Failed to persist write");t.reject(l)}}async function sv(r,e){const t=Ie(r);try{const s=await uS(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Fe(h.Fa):o.removedDocuments.size>0&&(Fe(h.Fa),h.Fa=!1))}),await Ya(t,s,e)}catch(s){await To(s)}}function ry(r,e,t){const s=Ie(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Ie(h);p.onlineState=f;let y=!1;p.queries.forEach((w,T)=>{for(const S of T.J_)S.ea(f)&&(y=!0)}),y&&_f(p)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JS(r,e,t){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),l=o&&o.key;if(l){let h=new et(pe.comparator);h=h.insert(l,Ut.newNoDocument(l,Te.min()));const f=Ce().add(l),p=new uc(Te.min(),new Map,new et(ke),h,f);await sv(s,p),s.La=s.La.remove(l),s.Ba.delete(e),vf(s)}else await bd(s.localStore,e,!1).then(()=>Ld(s,e,t)).catch(To)}async function ZS(r,e){const t=Ie(r),s=e.batch.batchId;try{const o=await lS(t.localStore,e);av(t,s,null),ov(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ya(t,o)}catch(o){await To(o)}}async function eR(r,e,t){const s=Ie(r);try{const o=await function(h,f){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,f).next(T=>(Fe(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(s.localStore,e);av(s,e,t),ov(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ya(s,o)}catch(o){await To(o)}}function ov(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function av(r,e,t){const s=Ie(r);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function Ld(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||lv(r,s)})}function lv(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(df(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),vf(r))}function iy(r,e,t){for(const s of t)s instanceof nv?(r.ka.addReference(s.key,e),tR(r,s)):s instanceof rv?(ae("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||lv(r,s.key)):Ee()}function tR(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(ae("SyncEngine","New document in limbo: "+t),r.Na.add(s),vf(r))}function vf(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new pe(Ge.fromString(e)),s=r.Ka.next();r.Ba.set(s,new qS(t)),r.La=r.La.insert(t,s),X_(r.remoteStore,new ui(rr(E_(t.path)),s,"TargetPurposeLimboResolution",nc.oe))}}async function Ya(r,e,t){const s=Ie(r),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((f,p)=>{h.push(s.Ua(p,e,t).then(y=>{var w;if((y||t)&&s.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=hf.zi(p.targetId,y);l.push(T)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(p,y){const w=Ie(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>K.forEach(y,S=>K.forEach(S.Wi,k=>w.persistence.referenceDelegate.addReference(T,S.targetId,k)).next(()=>K.forEach(S.Gi,k=>w.persistence.referenceDelegate.removeReference(T,S.targetId,k)))))}catch(T){if(!Io(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const k=w.us.get(S),C=k.snapshotVersion,M=k.withLastLimboFreeSnapshotVersion(C);w.us=w.us.insert(S,M)}}}(s.localStore,l))}async function nR(r,e){const t=Ie(r);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await W_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ce(X.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ya(t,s.Ts)}}function rR(r,e){const t=Ie(r),s=t.Ba.get(e);if(s&&s.Fa)return Ce().add(s.key);{let o=Ce();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function uv(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JS.bind(null,e),e.Ma.R_=jS.bind(null,e.eventManager),e.Ma.Wa=US.bind(null,e.eventManager),e}function iR(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eR.bind(null,e),e}class Ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return aS(this.persistence,new sS,e.initialUser,this.serializer)}ja(e){return new H_(cf.ei,this.serializer)}za(e){return new pS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ku.provider={build:()=>new Ku};class sR extends Ku{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Fe(this.persistence.referenceDelegate instanceof Wu);const s=this.persistence.referenceDelegate.garbageCollector;return new qI(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new H_(s=>Wu.ei(s,t),this.serializer)}}class Od{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ry(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nR.bind(null,this.syncEngine),await VS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OS}()}createDatastore(e){const t=cc(e.databaseInfo.databaseId),s=function(l){return new _S(l)}(e.databaseInfo);return function(l,h,f,p){return new ES(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,f){return new IS(s,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>ry(this.syncEngine,t,0),function(){return Jg.p()?new Jg:new mS}())}createSyncEngine(e,t){return function(o,l,h,f,p,y,w){const T=new HS(o,l,h,f,p,y);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Xa(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=yf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ad(r,e){r.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await W_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function sy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await lR(r);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Zg(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Zg(e.remoteStore,o)),r._onlineComponents=e}async function lR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await ad(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;co("Error using user provided cache. Falling back to memory cache: "+t),await ad(r,new Ku)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await ad(r,new sR(void 0));return r._offlineComponents}async function cv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await sy(r,r._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await sy(r,new Od))),r._onlineComponents}function uR(r){return cv(r).then(e=>e.syncEngine)}async function cR(r){const e=await cv(r),t=e.eventManager;return t.onListen=WS.bind(null,e.syncEngine),t.onUnlisten=QS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XS.bind(null,e.syncEngine),t}function hR(r,e,t={}){const s=new fi;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const w=new oR({next:S=>{w.eu(),h.enqueueAndForget(()=>FS(l,T)),S.fromCache&&p.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new BS(f,w,{includeMetadataChanges:!0,ua:!0});return MS(l,T)}(await cR(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r,e,t){if(!t)throw new ce(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dR(r,e,t,s){if(e===!0&&s===!0)throw new ce(X.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ay(r){if(!pe.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ly(r){if(pe.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function ss(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fc(r);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uy(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new w1;switch(s.type){case"firstParty":return new S1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=oy.get(t);s&&(ae("ComponentProvider","Removing Datastore"),oy.delete(t),s.terminate())}(this),Promise.resolve()}}function fR(r,e,t,s={}){var o;const l=(r=ss(r,pc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let f,p;if(typeof s.mockUserToken=="string")f=s.mockUserToken,p=jt.MOCK_USER;else{f=Ky(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new jt(y)}r._authCredentials=new E1(new c_(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class pn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class pi extends Ro{constructor(e,t,s){super(e,t,E_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new pe(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function Da(r,e,...t){if(r=St(r),dv("collection","path",e),r instanceof pc){const s=Ge.fromString(e,...t);return ly(s),new pi(r,null,s)}{if(!(r instanceof pn||r instanceof pi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return ly(s),new pi(r.firestore,null,s)}}function wf(r,e,...t){if(r=St(r),arguments.length===1&&(e=h_.newId()),dv("doc","path",e),r instanceof pc){const s=Ge.fromString(e,...t);return ay(s),new pn(r,null,new pe(s))}{if(!(r instanceof pn||r instanceof pi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return ay(s),new pn(r.firestore,r instanceof pi?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new K_(this,"async_queue_retry"),this.fu=()=>{const s=od();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=od();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=od();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new fi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Io(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw br("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=gf.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Ja extends pc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new cy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cy(e),this._firestoreClient=void 0,await e}}}function pR(r,e){const t=typeof r=="object"?r:Yd(),s=typeof r=="string"?r:"(default)",o=wo(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Wy("firestore");l&&fR(o,...l)}return o}function fv(r){if(r._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mR(r),r._firestoreClient}function mR(r){var e,t,s;const o=r._freezeSettings(),l=function(f,p,y,w){return new j1(f,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,hv(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new aR(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(Nt.fromBase64String(e))}catch(t){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yo(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=/^__.*__$/;class yR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ka(e,this.data,t,this.fieldTransforms)}}class pv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Sf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Qu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(mv(this.Mu)&&gR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class _R{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||cc(e)}$u(e,t,s,o=!1){return new Sf({Mu:e,methodName:t,Ku:s,path:Pt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rf(r){const e=r._freezeSettings(),t=cc(r._databaseId);return new _R(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vR(r,e,t,s,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);Af("Data must be an object, but it was:",h,s);const f=gv(s,h);let p,y;if(l.merge)p=new dn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const S=Md(e,T,t);if(!h.contains(S))throw new ce(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);_v(w,S)||w.push(S)}p=new dn(w),y=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=h.fieldTransforms;return new yR(new nn(f),p,y)}class gc extends Ef{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gc}}function wR(r,e,t,s){const o=r.$u(1,e,t);Af("Data must be an object, but it was:",o,s);const l=[],h=nn.empty();Ti(s,(p,y)=>{const w=Cf(e,p,t);y=St(y);const T=o.Bu(w);if(y instanceof gc)l.push(w);else{const S=Za(y,T);S!=null&&(l.push(w),h.set(w,S))}});const f=new dn(l);return new pv(h,f,o.fieldTransforms)}function ER(r,e,t,s,o,l){const h=r.$u(1,e,t),f=[Md(e,s,t)],p=[o];if(l.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(Md(e,l[S])),p.push(l[S+1]);const y=[],w=nn.empty();for(let S=f.length-1;S>=0;--S)if(!_v(y,f[S])){const k=f[S];let C=p[S];C=St(C);const M=h.Bu(k);if(C instanceof gc)y.push(k);else{const V=Za(C,M);V!=null&&(y.push(k),w.set(k,V))}}const T=new dn(y);return new pv(w,T,h.fieldTransforms)}function TR(r,e,t,s=!1){return Za(t,r.$u(s?4:3,e))}function Za(r,e){if(yv(r=St(r)))return Af("Unsupported field value:",e,r),gv(r,e);if(r instanceof Ef)return function(s,o){if(!mv(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const f of s){let p=Za(f,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=St(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=gt.fromDate(s);return{timestampValue:Hu(o.serializer,l)}}if(s instanceof gt){const l=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hu(o.serializer,l)}}if(s instanceof Tf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yo)return{bytesValue:F_(o.serializer,s._byteString)};if(s instanceof pn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof If)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return rf(f.serializer,p)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${fc(s)}`)}(r,e)}function gv(r,e){const t={};return d_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(r,(s,o)=>{const l=Za(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function yv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Tf||r instanceof yo||r instanceof pn||r instanceof Ef||r instanceof If)}function Af(r,e,t){if(!yv(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=fc(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function Md(r,e,t){if((e=St(e))instanceof mc)return e._internalPath;if(typeof e=="string")return Cf(r,e);throw Qu("Field path arguments must be of type string or ",r,!1,void 0,t)}const IR=new RegExp("[~\\*/\\[\\]]");function Cf(r,e,t){if(e.search(IR)>=0)throw Qu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new mc(...e.split("."))._internalPath}catch{throw Qu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Qu(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(X.INVALID_ARGUMENT,f+r+p)}function _v(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SR extends vv{data(){return super.data()}}function xf(r,e){return typeof e=="string"?Cf(r,e):e instanceof mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kf{}class AR extends kf{}function bu(r,e,...t){let s=[];e instanceof kf&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof Pf).length,f=l.filter(p=>p instanceof yc).length;if(h>1||h>0&&f>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class yc extends AR{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new yc(e,t,s)}_apply(e){const t=this._parse(e);return wv(e._query,t),new Ro(e.firestore,e.converter,Cd(e._query,t))}_parse(e){const t=Rf(e.firestore);return function(l,h,f,p,y,w,T){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){dy(T,w);const k=[];for(const C of T)k.push(hy(p,l,C));S={arrayValue:{values:k}}}else S=hy(p,l,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||dy(T,w),S=TR(f,h,T,w==="in"||w==="not-in");return ct.create(y,w,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ld(r,e,t){const s=e,o=xf("where",r);return yc._create(o,s,t)}class Pf extends kf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pf(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)wv(h,p),h=Cd(h,p)}(e._query,t),new Ro(e.firestore,e.converter,Cd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hy(r,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T_(e)&&t.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ge.fromString(t));if(!pe.isDocumentKey(s))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Dg(r,new pe(s))}if(t instanceof pn)return Dg(r,t._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(t)}.`)}function dy(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wv(r,e){const t=function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class CR{convertValue(e,t="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ti(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ot(h.doubleValue));return new If(l)}convertGeoPoint(e){return new Tf(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ic(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const t=yi(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ge.fromString(e);Fe(q_(s));const o=new Ua(s.get(1),s.get(3)),l=new pe(s.popFirst(5));return o.isEqual(t)||br(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kR extends vv{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(xf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Vu extends kR{data(e={}){return super.data(e)}}class PR{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Vu(this._firestore,this._userDataWriter,s.key,s,new Iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new Vu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Iu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Vu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Iu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:NR(f.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class DR extends CR{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,t)}}function Lu(r){r=ss(r,Ro);const e=ss(r.firestore,Ja),t=fv(e),s=new DR(e);return RR(r._query),hR(t,r._query).then(o=>new PR(e,s,r,o))}function bR(r,e,t,...s){r=ss(r,pn);const o=ss(r.firestore,Ja),l=Rf(o);let h;return h=typeof(e=St(e))=="string"||e instanceof mc?ER(l,"updateDoc",r._key,e,t,s):wR(l,"updateDoc",r._key,e),Nf(o,[h.toMutation(r._key,qn.exists(!0))])}function VR(r){return Nf(ss(r.firestore,Ja),[new sf(r._key,qn.none())])}function LR(r,e){const t=ss(r.firestore,Ja),s=wf(r),o=xR(r.converter,e);return Nf(t,[vR(Rf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function Nf(r,e){return function(s,o){const l=new fi;return s.asyncQueue.enqueueAndForget(async()=>YS(await uR(s),o,l)),l.promise}(fv(r),e)}(function(e,t=!0){(function(o){Eo=o})(e_),Dr(new or("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new Ja(new T1(s.getProvider("auth-internal")),new A1(s.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(y.options.projectId,w)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Cn(Ag,"4.7.5",e),Cn(Ag,"4.7.5","esm2017")})();const Df="/assets/BD-Choir-1-Dg48Fz1p.webp",Ev="/assets/HughesHarmoniesLogo-DAmIGTAB.webp",OR="/assets/HughesFam-elgy3adq.webp",MR="/assets/KCD-_Ao5GsSp.webp",FR="/assets/JD-CxPuhHew.png",jR="/assets/MD-CG9Dt_Cc.jpg";function UR(){return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"home-hero-container",children:[E.jsx("img",{className:"hero-image",src:Df}),E.jsxs("div",{className:"hero-text",children:[E.jsx("img",{className:"hero-logo",src:Ev}),E.jsx("h2",{children:"Stock and Custom Choir Arrangements"}),E.jsx("p",{children:"Hughes Harmonies offers custom choral arrangements for all levels of ensembles. At competitively low prices, choose from previously arranged music or custom charts for your next competition or concert!"}),E.jsx(An,{to:"/stockarrangements",className:"btn btn-warning",children:"Shop"})]})]}),E.jsxs("div",{className:"meet-jerico",children:[E.jsx("div",{className:"meet-jerico-img-div",children:E.jsx("img",{src:OR})}),E.jsxs("div",{className:"meet-jerico-info",children:[E.jsx("h2",{children:"Meet Jerico"}),E.jsx("p",{children:"Jerico Hughes is a dedicated arranger and music educator from Indianapolis, IN. Jerico has been teaching and arranging for 10 years with many of his custom show choir arrangements receiving award-winning commentary around the midwest. With over 100+ prearranged show choir arrangements, Jerico looks forward to meeting your needs or creating a custom work for your next show choir performance!"}),E.jsx("p",{children:"If you cant find what youre looking for, or need a different voicing/ instrumentation contact us for more info! "})]})]}),E.jsxs("div",{className:"testimonials",children:[E.jsxs("div",{className:"testimonial-box-1",children:[E.jsx("div",{className:"testimonial-text",children:"Jerico's unique and creative arrangements are always a great way spice up my shows! He focuses on the strengths of my singers, incorporates fantastic vocal leading, and creates arrangements that make an impact on both audiences and judges."}),E.jsxs("div",{className:"testimonial-title-card",children:[E.jsx("div",{children:E.jsx("img",{src:MR})}),E.jsxs("div",{children:[E.jsx("h4",{children:"Kelly Cassady Day"}),E.jsx("h5",{children:"Choir Director"}),E.jsx("h5",{children:"Franklin Community High School"})]})]})]}),E.jsxs("div",{className:"testimonial-box-2",children:[E.jsx("div",{className:"testimonial-text",children:"Jerico creates phenomenal arrangements for my ensembles. He pays particularly great attention to the voice leading for each of my ensembles to ensure my students will be successful. His creativity and knowledge of the young singers voice are unmatched. Jerico is also a wonderful human to work with and will strive to ensure you receive exactly what you want in your arrangements!"}),E.jsxs("div",{className:"testimonial-title-card",children:[E.jsx("div",{children:E.jsx("img",{src:FR})}),E.jsxs("div",{children:[E.jsx("h4",{children:"Jason David"}),E.jsx("h5",{children:"Choir Director"}),E.jsx("h5",{children:"Ben Davis High School"})]})]})]}),E.jsxs("div",{className:"testimonial-box-3",children:[E.jsx("div",{className:"testimonial-text",children:"Jerico is so lit"}),E.jsxs("div",{className:"testimonial-title-card",children:[E.jsx("div",{children:E.jsx("img",{src:jR})}),E.jsxs("div",{children:[E.jsx("h4",{children:"Matt Day"}),E.jsx("h5",{children:"Not a Choir Director"}),E.jsx("h5",{})]})]})]})]}),E.jsxs("div",{className:"pricing",children:[E.jsxs("div",{className:"pricing-box-1",children:[E.jsx("h3",{children:"Stock w/ Adjustments"}),E.jsx("div",{className:"pricing-box-price",children:"$300 - $500"}),E.jsx("div",{children:"Anything from our vast library of arrangements can be customized to fit your needs"}),E.jsx("button",{className:"btn btn-warning",children:"Contact"})]}),E.jsxs("div",{className:"pricing-box-2",children:[E.jsx("h3",{children:"Custom Arrangement"}),E.jsx("div",{className:"pricing-box-price",children:"$800 - $1100"}),E.jsx("div",{children:"Hughes Harmonies will arrange any song of your choice in any style you like! Includes instrumental accompaniment."}),E.jsx("button",{className:"btn btn-warning",children:"Contact"})]}),E.jsxs("div",{className:"pricing-box-3",children:[E.jsx("h3",{children:"Stock Arrangement"}),E.jsx("div",{className:"pricing-box-price",children:"$200"}),E.jsx("div",{children:"100s of ready-to-perform arrangements with Instrumental Accompaniments"}),E.jsx("button",{className:"btn btn-warning",children:"Contact"})]})]})]})}function BR(){const[r,e]=H.useState(!1),t=()=>{e(!r),console.log("Ran")},s=()=>{const o=document.getElementsByClassName("mobile-nav-text");for(const l of o)l.style.pointerEvents="none"};return E.jsxs("div",{children:[E.jsxs("nav",{children:[E.jsx("div",{className:"nav-logo-div",children:E.jsx(An,{to:"/",children:E.jsx("img",{className:"nav-logo",src:Ev})})}),E.jsxs("div",{className:"nav-links",children:[E.jsx(An,{className:"nav-link",to:"/stockarrangements",children:"Stock Arrangements"}),E.jsx(An,{className:"nav-link",to:"/about",children:"About"})]}),E.jsx(An,{to:"/contact",className:"btn btn-warning",children:"Contact Us"}),E.jsx("btn",{onClick:t,children:E.jsx("i",{className:"fa-solid fa-bars"})})]}),E.jsxs("div",{id:"mobile-nav-section",className:`${r?"show-mobile-nav":"hide-mobile-nav"}`,children:[E.jsx("a",{onClick:s,className:"mobile-nav-text",href:"/stockarrangements",children:"Stock Arrangements"}),E.jsx("a",{onClick:s,className:"mobile-nav-text",href:"/about",children:" About"}),E.jsx("a",{onClick:s,className:"mobile-nav-text",href:"/contact",children:" Contact Us"})]})]})}const zR="/assets/Facebook-CmgJh3Hd.png",$R="/assets/Instagram-CNvVUa0U.png",qR="/assets/TikTok-DTQ7EiJZ.png";function HR(){return E.jsxs("footer",{className:"py-5",children:[E.jsxs("div",{className:"d-flex w-75 justify-content-center align-items-center",children:[E.jsx("div",{className:"footer-text",children:"Hughes Harmonies offers custom choral arrangements for all levels of ensembles. At competitively low prices, choose from previously arranged music or custom charts for your next competition or concert!"}),E.jsx("div",{className:"footer-contact-btn text-center",children:E.jsx(An,{to:"/contact",className:"btn btn-warning",children:"Contact Hughes Harmonies"})}),E.jsxs("div",{className:"social-icons text-center",children:[E.jsx("a",{href:"https://www.facebook.com",target:"_blank",className:"btn facebook",children:E.jsx("img",{src:zR})}),E.jsx("a",{href:"https://www.instagram.com",target:"_blank",className:"btn instagram",children:E.jsx("img",{src:$R})}),E.jsx("a",{href:"https://www.tiktok.com",target:"_blank",className:"btn tiktok",children:E.jsx("img",{src:qR})})]})]}),E.jsxs("div",{className:"d-flex w-75 justify-content-center align-items-center text-center my-2",children:[" ",new Date().getFullYear(),E.jsx("br",{}),"Hughes Harmonies"]})]})}const bf="/assets/BD-Choir-3-BNMz3ohI.webp",WR="/assets/Jerico-Headshot-CXq8zCm3.webp";function GR(){return E.jsxs("div",{className:"about-page",children:[E.jsxs("div",{className:"about-hero-container",children:[E.jsx("img",{className:"hero-image",src:bf}),E.jsx("div",{className:"hero-text",children:E.jsx("h1",{children:"About"})})]}),E.jsxs("div",{className:"about-jerico",children:[E.jsx("img",{src:WR}),E.jsx("h2",{children:"Jerico Hughes"}),E.jsx("div",{children:"Jerico Hughes is a dedicated arranger and music educator from Indianapolis, IN. Jerico has been teaching and arranging for 10 years with many of his custom show choir arrangements receiving award-winning commentary around the midwest. With over 100+ prearranged show choir arrangements, Jerico looks forward to meeting your needs or creating a custom work for your next show choir performance!"}),E.jsx("div",{children:"If you cant find what youre looking for, or need a different voicing/ instrumentation contact us for more info!"}),E.jsx("div",{children:"jericohughes@gmail.com"})]}),E.jsxs("div",{className:"about-FAQ",children:[E.jsx("h2",{children:"Frequently Asked Questions"}),E.jsxs("div",{className:"accordion",id:"accordionExample",children:[E.jsxs("div",{className:"accordion-item",children:[E.jsx("h2",{className:"accordion-header",id:"headingOne",children:E.jsx("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:E.jsx("strong",{children:"   How can I pay for my arrangements?"})})}),E.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:E.jsx("div",{className:"accordion-body",children:"We are still in the process of setting up online payments.  At this time, when you are ready to purchase an arrangement, you will contact Jerico directly and arrange payment through a variety of services."})})]}),E.jsxs("div",{className:"accordion-item",children:[E.jsx("h2",{className:"accordion-header",id:"headingTwo",children:E.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:E.jsx("strong",{children:"   Can I adjust the orchestration from what is listed?"})})}),E.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample",children:E.jsx("div",{className:"accordion-body",children:"Yes!  For a small additional fee, Jerico will adjust the orchestrations of any arrangement to fit the needs of your ensemble."})})]}),E.jsxs("div",{className:"accordion-item",children:[E.jsx("h2",{className:"accordion-header",id:"headingThree",children:E.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:E.jsx("strong",{children:"   Can I get a different voicing than what is listed?"})})}),E.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample",children:E.jsx("div",{className:"accordion-body",children:"Potentially!  Pricing for voicing changes is determined on a case-by-case.  Please fill out a contact form and we will get back to you as soon as possible!"})})]})]})]})]})}function KR(){const[r,e]=H.useState({name:"",email:"",inquiryType:[],message:""}),[t,s]=H.useState(""),o=h=>{const{name:f,value:p,type:y,checked:w}=h.target;e(y==="checkbox"?T=>({...T,[f]:w?[...T[f],p]:T[f].filter(S=>S!==p)}):T=>({...T,[f]:p}))},l=async h=>{h.preventDefault(),console.log("Submitting: ",r);try{const p=await(await fetch("https://hughesharmoniesbackend.vercel.app/api/send-email.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();alert(p.message)}catch{alert("An error occurred while sending the email.")}};return E.jsxs("div",{className:"contact",children:[E.jsxs("div",{className:"about-hero-container",children:[E.jsx("img",{className:"hero-image",src:Df}),E.jsx("div",{className:"hero-text",children:E.jsx("h1",{children:"Contact"})})]}),E.jsx("h2",{children:"Contact Us"}),E.jsxs("form",{className:"contact-form",onSubmit:l,children:[E.jsxs("label",{children:["Name:",E.jsx("input",{type:"text",className:"form-control",name:"name",value:r.name,onChange:o,required:!0})]}),E.jsx("br",{}),E.jsxs("label",{children:["Email:",E.jsx("input",{type:"email",className:"form-control",name:"email",value:r.email,onChange:o,required:!0})]}),E.jsx("br",{}),E.jsxs("label",{children:["Inquiry Type:",E.jsxs("div",{children:[E.jsx("input",{type:"checkbox",id:"option1",name:"inquiryType",onChange:o,value:"Custom Arrangement",checked:r.inquiryType.includes("Custom Arrangement")}),E.jsx("label",{htmlFor:"option1",children:"Custom Arrangement"})]}),E.jsxs("div",{children:[E.jsx("input",{type:"checkbox",id:"option2",name:"inquiryType",onChange:o,value:"Stock Arrangements",checked:r.inquiryType.includes("Stock Arrangements")}),E.jsx("label",{htmlFor:"option2",children:"Stock Arrangements"})]}),E.jsxs("div",{children:[E.jsx("input",{type:"checkbox",id:"option3",name:"inquiryType",onChange:o,value:"General",checked:r.inquiryType.includes("General")}),E.jsx("label",{htmlFor:"option3",children:"General"})]})]}),E.jsx("br",{}),E.jsxs("label",{children:["Message:",E.jsx("textarea",{name:"message",className:"form-control",value:r.message,onChange:o,required:!0})]}),E.jsx("br",{}),E.jsx("button",{type:"submit",className:"btn btn-warning",children:"Send"})]}),t&&E.jsx("p",{children:t})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="firebasestorage.googleapis.com",Iv="storageBucket",QR=2*60*1e3,XR=10*60*1e3,YR=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends Lr{constructor(e,t,s=0){super(ud(e),`Firebase Storage: ${t} (${ud(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ud(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ke;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ke||(Ke={}));function ud(r){return"storage/"+r}function Vf(){const r="An unknown error occurred, please check the error payload for server response.";return new tt(Ke.UNKNOWN,r)}function JR(r){return new tt(Ke.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function ZR(r){return new tt(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eA(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(Ke.UNAUTHENTICATED,r)}function tA(){return new tt(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nA(r){return new tt(Ke.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Sv(){return new tt(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rv(){return new tt(Ke.CANCELED,"User canceled the upload/download.")}function rA(r){return new tt(Ke.INVALID_URL,"Invalid URL '"+r+"'.")}function iA(r){return new tt(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function sA(){return new tt(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Iv+"' property when initializing the app?")}function Av(){return new tt(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oA(){return new tt(Ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function aA(){return new tt(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lA(r){return new tt(Ke.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fd(r){return new tt(Ke.INVALID_ARGUMENT,r)}function Cv(){return new tt(Ke.APP_DELETED,"The Firebase app was deleted.")}function uA(r){return new tt(Ke.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ba(r,e){return new tt(Ke.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Sa(r){throw new tt(Ke.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=fn.makeFromUrl(e,t)}catch{return new fn(e,"")}if(s.path==="")return s;throw iA(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",f=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function y(re){re.path_=decodeURIComponent(re.path)}const w="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",k=new RegExp(`^https?://${T}/${w}/b/${o}/o${S}`,"i"),C={bucket:1,path:3},M=t===Tv?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",W=new RegExp(`^https?://${M}/${o}/${V}`,"i"),Z=[{regex:f,indices:p,postModify:l},{regex:k,indices:C,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let re=0;re<Z.length;re++){const ve=Z[re],me=ve.regex.exec(e);if(me){const D=me[ve.indices.bucket];let R=me[ve.indices.path];R||(R=""),s=new fn(D,R),ve.postModify(s);break}}if(s==null)throw rA(e);return s}}class cA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(r,e,t){let s=1,o=null,l=null,h=!1,f=0;function p(){return f===2}let y=!1;function w(...V){y||(y=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,r(k,p())},V)}function S(){l&&clearTimeout(l)}function k(V,...W){if(y){S();return}if(V){S(),w.call(null,V,...W);return}if(p()||h){S(),w.call(null,V,...W);return}s<64&&(s*=2);let Z;f===1?(f=2,Z=0):Z=(s+Math.random())*1e3,T(Z)}let C=!1;function M(V){C||(C=!0,S(),!y&&(o!==null?(V||(f=2),clearTimeout(o),T(0)):V||(f=1)))}return T(0),l=setTimeout(()=>{h=!0,M(!0)},t),M}function dA(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r){return r!==void 0}function pA(r){return typeof r=="function"}function mA(r){return typeof r=="object"&&!Array.isArray(r)}function _c(r){return typeof r=="string"||r instanceof String}function fy(r){return Lf()&&r instanceof Blob}function Lf(){return typeof Blob<"u"}function py(r,e,t,s){if(s<e)throw Fd(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Fd(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function xv(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ns;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ns||(ns={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,s,o,l,h,f,p,y,w,T,S=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=f,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=T,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,C)=>{this.resolve_=k,this.reject_=C,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Su(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=f=>{const p=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const f=l.getErrorCode()===ns.NO_ERROR,p=l.getStatus();if(!f||kv(p,this.additionalRetryCodes_)&&this.retry){const w=l.getErrorCode()===ns.ABORT;s(!1,new Su(!1,null,w));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new Su(y,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());fA(p)?l(p):l()}catch(p){h(p)}else if(f!==null){const p=Vf();p.serverResponse=f.getErrorText(),this.errorCallback_?h(this.errorCallback_(f,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Cv():Rv();h(p)}else{const p=Sv();h(p)}};this.canceled_?t(!1,new Su(!1,null,!0)):this.backoffId_=hA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Su{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function yA(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function _A(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vA(r,e){e&&(r["X-Firebase-GMPID"]=e)}function wA(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function EA(r,e,t,s,o,l,h=!0){const f=xv(r.urlParams),p=r.url+f,y=Object.assign({},r.headers);return vA(y,e),yA(y,t),_A(y,l),wA(y,s),new gA(p,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function IA(...r){const e=TA();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(Lf())return new Blob(r);throw new tt(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SA(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){if(typeof atob>"u")throw lA("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cd{constructor(e,t){this.data=e,this.contentType=t||null}}function Pv(r,e){switch(r){case $n.RAW:return new cd(Nv(e));case $n.BASE64:case $n.BASE64URL:return new cd(Dv(r,e));case $n.DATA_URL:return new cd(CA(e),xA(e))}throw Vf()}function Nv(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,h=r.charCodeAt(++t);s=65536|(l&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function AA(r){let e;try{e=decodeURIComponent(r)}catch{throw ba($n.DATA_URL,"Malformed data URL.")}return Nv(e)}function Dv(r,e){switch(r){case $n.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw ba(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case $n.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw ba(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=RA(e)}catch(o){throw o.message.includes("polyfill")?o:ba(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class bv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ba($n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=kA(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function CA(r){const e=new bv(r);return e.base64?Dv($n.BASE64,e.rest):AA(e.rest)}function xA(r){return new bv(r).contentType}function kA(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t){let s=0,o="";fy(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(fy(this.data_)){const s=this.data_,o=SA(s,e,t);return o===null?null:new xr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new xr(s,!0)}}static getBlob(...e){if(Lf()){const t=e.map(s=>s instanceof xr?s.data_:s);return new xr(IA.apply(null,t))}else{const t=e.map(h=>_c(h)?Pv($n.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(h=>{for(let f=0;f<h.length;f++)o[l++]=h[f]}),new xr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(r){let e;try{e=JSON.parse(r)}catch{return null}return mA(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function NA(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function Lv(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(r,e){return e}class Ht{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||DA}}let Ru=null;function bA(r){return!_c(r)||r.length<2?r:Lv(r)}function Of(){if(Ru)return Ru;const r=[];r.push(new Ht("bucket")),r.push(new Ht("generation")),r.push(new Ht("metageneration")),r.push(new Ht("name","fullPath",!0));function e(l,h){return bA(h)}const t=new Ht("name");t.xform=e,r.push(t);function s(l,h){return h!==void 0?Number(h):h}const o=new Ht("size");return o.xform=s,r.push(o),r.push(new Ht("timeCreated")),r.push(new Ht("updated")),r.push(new Ht("md5Hash",null,!0)),r.push(new Ht("cacheControl",null,!0)),r.push(new Ht("contentDisposition",null,!0)),r.push(new Ht("contentEncoding",null,!0)),r.push(new Ht("contentLanguage",null,!0)),r.push(new Ht("contentType",null,!0)),r.push(new Ht("metadata","customMetadata",!0)),Ru=r,Ru}function VA(r,e){function t(){const s=r.bucket,o=r.fullPath,l=new fn(s,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function LA(r,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const h=t[l];s[h.local]=h.xform(s,e[h.server])}return VA(s,r),s}function Ov(r,e,t){const s=Vv(e);return s===null?null:LA(r,s,t)}function OA(r,e,t,s){const o=Vv(e);if(o===null||!_c(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const h=encodeURIComponent;return l.split(",").map(y=>{const w=r.bucket,T=r.fullPath,S="/b/"+h(w)+"/o/"+h(T),k=Ao(S,t,s),C=xv({alt:"media",token:y});return k+C})[0]}function Mv(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class hs{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r){if(!r)throw Vf()}function Mf(r,e){function t(s,o){const l=Ov(r,o,e);return Pr(l!==null),l}return t}function MA(r,e){function t(s,o){const l=Ov(r,o,e);return Pr(l!==null),OA(l,o,r.host,r._protocol)}return t}function el(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=tA():o=eA():t.getStatus()===402?o=ZR(r.bucket):t.getStatus()===403?o=nA(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Ff(r){const e=el(r);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=JR(r.path)),l.serverResponse=o.serverResponse,l}return t}function FA(r,e,t){const s=e.fullServerUrl(),o=Ao(s,r.host,r._protocol),l="GET",h=r.maxOperationRetryTime,f=new hs(o,l,Mf(r,t),h);return f.errorHandler=Ff(e),f}function jA(r,e,t){const s=e.fullServerUrl(),o=Ao(s,r.host,r._protocol),l="GET",h=r.maxOperationRetryTime,f=new hs(o,l,MA(r,t),h);return f.errorHandler=Ff(e),f}function UA(r,e){const t=e.fullServerUrl(),s=Ao(t,r.host,r._protocol),o="DELETE",l=r.maxOperationRetryTime;function h(p,y){}const f=new hs(s,o,h,l);return f.successCodes=[200,204],f.errorHandler=Ff(e),f}function BA(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function Fv(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=BA(null,e)),s}function jv(r,e,t,s,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function f(){let Z="";for(let re=0;re<2;re++)Z=Z+Math.random().toString().slice(2);return Z}const p=f();h["Content-Type"]="multipart/related; boundary="+p;const y=Fv(e,s,o),w=Mv(y,t),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,S=`\r
--`+p+"--",k=xr.getBlob(T,s,S);if(k===null)throw Av();const C={name:y.fullPath},M=Ao(l,r.host,r._protocol),V="POST",W=r.maxUploadRetryTime,G=new hs(M,V,Mf(r,t),W);return G.urlParams=C,G.headers=h,G.body=k.uploadData(),G.errorHandler=el(e),G}class Xu{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function jf(r,e){let t=null;try{t=r.getResponseHeader("X-Goog-Upload-Status")}catch{Pr(!1)}return Pr(!!t&&(e||["active"]).indexOf(t)!==-1),t}function zA(r,e,t,s,o){const l=e.bucketOnlyServerUrl(),h=Fv(e,s,o),f={name:h.fullPath},p=Ao(l,r.host,r._protocol),y="POST",w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=Mv(h,t),S=r.maxUploadRetryTime;function k(M){jf(M);let V;try{V=M.getResponseHeader("X-Goog-Upload-URL")}catch{Pr(!1)}return Pr(_c(V)),V}const C=new hs(p,y,k,S);return C.urlParams=f,C.headers=w,C.body=T,C.errorHandler=el(e),C}function $A(r,e,t,s){const o={"X-Goog-Upload-Command":"query"};function l(y){const w=jf(y,["active","final"]);let T=null;try{T=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pr(!1)}T||Pr(!1);const S=Number(T);return Pr(!isNaN(S)),new Xu(S,s.size(),w==="final")}const h="POST",f=r.maxUploadRetryTime,p=new hs(t,h,l,f);return p.headers=o,p.errorHandler=el(e),p}const my=256*1024;function qA(r,e,t,s,o,l,h,f){const p=new Xu(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw oA();const y=p.total-p.current;let w=y;o>0&&(w=Math.min(w,o));const T=p.current,S=T+w;let k="";w===0?k="finalize":y===w?k="upload, finalize":k="upload";const C={"X-Goog-Upload-Command":k,"X-Goog-Upload-Offset":`${p.current}`},M=s.slice(T,S);if(M===null)throw Av();function V(re,ve){const me=jf(re,["active","final"]),D=p.current+w,R=s.size();let x;return me==="final"?x=Mf(e,l)(re,ve):x=null,new Xu(D,R,me==="final",x)}const W="POST",G=e.maxUploadRetryTime,Z=new hs(t,W,V,G);return Z.headers=C,Z.body=M.uploadData(),Z.progressCallback=f||null,Z.errorHandler=el(r),Z}const tn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hd(r){switch(r){case"running":case"pausing":case"canceling":return tn.RUNNING;case"paused":return tn.PAUSED;case"success":return tn.SUCCESS;case"canceled":return tn.CANCELED;case"error":return tn.ERROR;default:return tn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,s){if(pA(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class WA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ns.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ns.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ns.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Sa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GA extends WA{initXhr(){this.xhr_.responseType="text"}}function li(){return new GA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=Of(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Ke.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(kv(o.status,[]))if(l)o=Sv();else{this.sleepTime=Math.max(this.sleepTime*2,YR),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Ke.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=zA(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,li,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=$A(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,li,t,s);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=my*this._chunkMultiplier,t=new Xu(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,l)=>{let h;try{h=qA(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const f=this._ref.storage._makeRequest(h,li,o,l,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){my*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=FA(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,li,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=jv(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,li,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Rv(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=hd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const l=new HA(t||void 0,s||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(hd(this._state)){case tn.SUCCESS:io(this._resolve.bind(null,this.snapshot))();break;case tn.CANCELED:case tn.ERROR:const t=this._reject;io(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(hd(this._state)){case tn.RUNNING:case tn.PAUSED:e.next&&io(e.next.bind(e,this.snapshot))();break;case tn.SUCCESS:e.complete&&io(e.complete.bind(e))();break;case tn.CANCELED:case tn.ERROR:e.error&&io(e.error.bind(e,this._error))();break;default:e.error&&io(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){this._service=e,t instanceof fn?this._location=t:this._location=fn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new os(e,t)}get root(){const e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lv(this._location.path)}get storage(){return this._service}get parent(){const e=PA(this._location.path);if(e===null)return null;const t=new fn(this._location.bucket,e);return new os(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw uA(e)}}function Uv(r,e,t){r._throwIfRoot("uploadBytes");const s=jv(r.storage,r._location,Of(),new xr(e,!0),t);return r.storage.makeRequestWithTokens(s,li).then(o=>({metadata:o,ref:r}))}function QA(r,e,t){return r._throwIfRoot("uploadBytesResumable"),new KA(r,new xr(e),t)}function XA(r,e,t=$n.RAW,s){r._throwIfRoot("uploadString");const o=Pv(t,e),l=Object.assign({},s);return l.contentType==null&&o.contentType!=null&&(l.contentType=o.contentType),Uv(r,o.data,l)}function YA(r){r._throwIfRoot("getDownloadURL");const e=jA(r.storage,r._location,Of());return r.storage.makeRequestWithTokens(e,li).then(t=>{if(t===null)throw aA();return t})}function JA(r){r._throwIfRoot("deleteObject");const e=UA(r.storage,r._location);return r.storage.makeRequestWithTokens(e,li)}function ZA(r,e){const t=NA(r._location.path,e),s=new fn(r._location.bucket,t);return new os(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){return/^[A-Za-z]+:\/\//.test(r)}function tC(r,e){return new os(r,e)}function Bv(r,e){if(r instanceof Uf){const t=r;if(t._bucket==null)throw sA();const s=new os(t,t._bucket);return e!=null?Bv(s,e):s}else return e!==void 0?ZA(r,e):r}function nC(r,e){if(e&&eC(e)){if(r instanceof Uf)return tC(r,e);throw Fd("To use ref(service, url), the first argument must be a Storage instance.")}else return Bv(r,e)}function gy(r,e){const t=e==null?void 0:e[Iv];return t==null?null:fn.makeFromBucketSpec(t,r)}function rC(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:Ky(o,r.app.options.projectId))}class Uf{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Tv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QR,this._maxUploadRetryTime=XR,this._requests=new Set,o!=null?this._bucket=fn.makeFromBucketSpec(o,this._host):this._bucket=gy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=gy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){py("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){py("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new os(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new cA(Cv());{const h=EA(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const yy="@firebase/storage",_y="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="storage";function iC(r,e,t){return r=St(r),Uv(r,e,t)}function sC(r,e,t,s){return r=St(r),XA(r,e,t,s)}function jd(r,e,t){return r=St(r),QA(r,e,t)}function Va(r){return r=St(r),YA(r)}function vy(r){return r=St(r),JA(r)}function ci(r,e){return r=St(r),nC(r,e)}function oC(r=Yd(),e){r=St(r);const s=wo(r,zv).getImmediate({identifier:e}),o=Wy("storage");return o&&aC(s,...o),s}function aC(r,e,t,s={}){rC(r,e,t,s)}function lC(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Uf(t,s,o,e,e_)}function uC(){Dr(new or(zv,lC,"PUBLIC").setMultipleInstances(!0)),Cn(yy,_y,""),Cn(yy,_y,"esm2017")}uC();function cC({data:r,setData:e,getItems:t,storage:s}){const[o,l]=H.useState(""),[h,f]=H.useState(""),[p,y]=H.useState("");$d();const w=async C=>{C.preventDefault();let M="";const V=C.target.elements.AudioUpload,W=V==null?void 0:V.files[0];if(W)try{const R={contentType:W.type||"audio/mpeg"},x=ci(s,`audio/${W.name}`),b=await jd(x,W,R);M=await Va(b.ref),console.log("File uploaded successfully:",M)}catch(R){console.error("Error uploading file:",R);return}let G="";const Z=C.target.elements.PhotoUpload,re=Z==null?void 0:Z.files[0];if(re)try{const R=ci(s,`images/${re.name}`),x=await iC(R,re);G=await Va(x.ref),console.log("File uploaded successfully:",G)}catch(R){console.error("Error uploading file:",R);return}const ve=C.target.voicing.value.split(",").map(R=>R.trim()).filter(Boolean),me=C.target.tags.value.split(",").map(R=>R.trim()).filter(Boolean),D=C.target.showFunction.value.split(",").map(R=>R.trim()).filter(Boolean);console.log(ve);try{const R=await LR(Da(rs,"arrangements"),{title:C.target.title.value,voicing:ve,difficulty:C.target.difficulty.value,tags:me,showFunction:D,excerpt:C.target.excerpt.value,description:C.target.description.value,accompaniment:C.target.accompaniment.value,price:C.target.price.value,audioURL:M,photoURL:G});C.target.reset(),t(),console.log("Document written with ID: ",R.id)}catch(R){console.error("Error adding document: ",R)}},T=async C=>{try{await VR(wf(rs,"arrangements",C)),t(),console.log(`Item with key ${C} has been deleted`)}catch(M){console.error(`Error deleting item with key ${C}`,M)}},S=()=>{const C=ci(s,`files/${h}`);o&&sC(C,o,"data_url").then(M=>{console.log("Uploaded a file!")}),h&&k(h)},k=C=>{const M=ci(s,`gs://hughesharmonies.firebasestorage.app/files/${C}`);Va(M).then(V=>{const W=new XMLHttpRequest;W.onload=G=>{const Z=W.responseURL;y(Z),console.log("Ran Download")},W.open("GET",V),W.send()}).catch(V=>{console.log("ERROR Downloading File")})};return H.useEffect(()=>{S()},[o]),H.useEffect(()=>{t()},[]),H.useEffect(()=>{console.log(r)},[r]),E.jsxs("div",{className:"admin",children:[E.jsx("h1",{className:"text-center",children:"Admin Page"}),E.jsxs("form",{className:"add-arrangement",onSubmit:w,name:"title",children:[E.jsx("h2",{className:"text-center",children:"Add New Arrangement"}),E.jsx("label",{for:"title",className:"form-label",children:"Title"}),E.jsx("input",{className:"form-control",id:"title",name:"title"}),E.jsx("label",{for:"voicing",className:"form-label",children:"Voicing"}),E.jsx("input",{className:"form-control",id:"voicing",name:"voicing"}),E.jsx("label",{for:"difficulty",className:"form-label",children:"Difficulty"}),E.jsx("input",{className:"form-control",id:"difficulty",name:"difficulty"}),E.jsx("label",{for:"tags",className:"form-label",children:"Tags (Separated by Commas)"}),E.jsx("input",{className:"form-control",id:"tags",name:"tags"}),E.jsx("label",{for:"showFunction",className:"form-label",children:"Show Function (Separated by Commas)"}),E.jsx("input",{className:"form-control",id:"showFunction",name:"showFunction"}),E.jsx("label",{for:"excerpt",className:"form-label",children:"Excerpt"}),E.jsx("input",{className:"form-control",id:"excerpt",name:"excerpt"}),E.jsx("label",{for:"description",className:"form-label",children:"Description"}),E.jsx("input",{className:"form-control",id:"description",name:"description"}),E.jsx("label",{for:"accompaniment",className:"form-label",children:"Accompaniment"}),E.jsx("input",{className:"form-control",id:"accompaniment",name:"accompaniment"}),E.jsx("label",{for:"price",className:"form-label",children:"Price"}),E.jsx("input",{className:"form-control",id:"price",name:"price"}),E.jsx("label",{for:"AudioUpload",className:"form-label",children:"Audio Upload"}),E.jsx("br",{}),E.jsx("input",{type:"file",name:"AudioUpload",id:"AudioUpload"}),E.jsx("br",{}),E.jsx("label",{for:"PhotoUpload",className:"form-label",children:"PDF Upload"}),E.jsx("br",{}),E.jsx("input",{type:"file",name:"PhotoUpload",id:"PhotoUpload"}),E.jsx("br",{}),E.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]}),r?E.jsx("div",{className:"admin-arrangements",children:Object.entries(r).map(([C,M],V)=>E.jsx("div",{children:E.jsx("div",{class:"card",children:E.jsxs("div",{class:"card-body",children:[E.jsx("h2",{children:M.title}),E.jsx("p",{children:M.excerpt}),E.jsxs("div",{className:"d-flex justify-content-around",children:[E.jsx("button",{onClick:()=>T(M.id),className:"btn btn-sm btn-danger",children:"Delete"}),E.jsx(An,{to:`/arrangement/edit/${M.id}`,className:"btn btn-sm btn-primary",children:"Edit"})]})]})})},V))}):E.jsx(E.Fragment,{})]})}function hC({data:r,voicings:e,tags:t,showFunctions:s}){const[o,l]=H.useState(null),[h,f]=H.useState(null),p=async T=>{if(!T){console.error("No filter provided");return}f(T),console.log(T);const S=Da(rs,"arrangements");try{const k=bu(S,ld("tags","array-contains",T));let C=[];const M=await Lu(k);M.empty?console.log("No matching documents found."):(M.forEach(V=>{console.log(V.id," => ",V.data()),C.push({id:V.id,...V.data()})}),l(C))}catch(k){console.error("Error filtering items: ",k)}},y=async T=>{if(!T){console.error("No filter provided");return}f(T),console.log(T);const S=Da(rs,"arrangements");try{const k=bu(S,ld("voicing","array-contains",T));let C=[];const M=await Lu(k);M.empty?console.log("No matching documents found."):(M.forEach(V=>{console.log(V.id," => ",V.data()),C.push({id:V.id,...V.data()})}),l(C))}catch(k){console.error("Error filtering items: ",k)}},w=async T=>{if(!T){console.error("No filter provided");return}f(T),console.log(T);const S=Da(rs,"arrangements");try{const k=bu(S,ld("showFunction","array-contains",T));let C=[];const M=await Lu(k);M.empty?console.log("No matching documents found."):(M.forEach(V=>{console.log(V.id," => ",V.data()),C.push({id:V.id,...V.data()})}),l(C))}catch(k){console.error("Error filtering items: ",k)}};return H.useEffect(()=>{console.log(o)}),E.jsxs("div",{className:"stockarrangements",children:[E.jsxs("div",{className:"arrangements-hero-container",children:[E.jsx("img",{className:"hero-image",src:Df}),E.jsx("div",{className:"hero-text",children:E.jsx("h1",{children:"Stock Arrangements"})})]}),E.jsx("div",{class:"accordion mobile-arrangements-accordion",id:"accordionExample",children:E.jsxs("div",{class:"accordion-item",children:[E.jsx("h2",{class:"accordion-header",id:"headingOne",children:E.jsx("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Filters"})}),E.jsx("div",{id:"collapseOne",class:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:E.jsxs("div",{class:"accordion-body",children:[E.jsx("h2",{children:"Voicings"}),E.jsxs("div",{className:"mobile-arrangements-filters-div",children:[e?E.jsxs("div",{className:"stockarrangements-categories",children:[E.jsx("h2",{children:"Voicing"}),e.map((T,S)=>{let k=T===h?"btn-primary-darker":"btn-primary";return E.jsx("div",{children:E.jsx("button",{className:`btn btn-xs ${k}`,onClick:()=>{y(T);const C=document.getElementById("collapseOne");(bootstrap.Collapse.getInstance(C)||new bootstrap.Collapse(C)).hide()},children:T})},S)})]}):null,E.jsx("h2",{children:"Genre"}),t?E.jsxs("div",{className:"stockarrangements-tags",children:[E.jsx("h2",{children:"Genre"}),t.map((T,S)=>{let k=T===h?"btn-primary-darker":"btn-primary";return E.jsx("div",{children:E.jsx("button",{className:`btn btn-xs ${k}`,onClick:()=>{p(T);const C=document.getElementById("collapseOne");(bootstrap.Collapse.getInstance(C)||new bootstrap.Collapse(C)).hide()},children:T})},S)})]}):null,E.jsx("h2",{children:"Show Function"}),s?E.jsxs("div",{className:"stockarrangements-functions",children:[E.jsx("h2",{children:"Show Function"}),s.filter(Boolean).map((T,S)=>{let k=T===h?"btn-primary-darker":"btn-primary";return E.jsx("div",{children:E.jsx("button",{className:`btn btn-xs ${k}`,onClick:()=>{w(T);const C=document.getElementById("collapseOne");(bootstrap.Collapse.getInstance(C)||new bootstrap.Collapse(C)).hide()},children:T})},S)})]}):null]})]})})]})}),o?E.jsx("div",{className:"stockarrangements-showall",children:E.jsx("div",{children:E.jsx("button",{className:"btn btn-xs btn-primary",onClick:()=>{l(null),f(null)},children:"Show All"})})}):null,E.jsxs("div",{className:"arrangements-maindiv",children:[E.jsxs("div",{className:"arrangements-filters-div",children:[E.jsx("h2",{children:"Voicing"}),e?E.jsx("div",{className:"stockarrangements-categories",children:e.map((T,S)=>{let k=T===h?"btn-primary-darker":"btn-primary";return E.jsx("div",{children:E.jsx("button",{className:`btn btn-xs ${k}`,onClick:()=>y(T),children:T})},S)})}):null,t?E.jsxs("div",{className:"stockarrangements-tags",children:[E.jsx("h2",{children:"Genre"}),t.map((T,S)=>{let k=T===h?"btn-primary-darker":"btn-primary";return E.jsx("div",{children:E.jsx("button",{className:`btn btn-xs ${k}`,onClick:()=>p(T),children:T})},S)})]}):null,s?E.jsxs("div",{className:"stockarrangements-functions",children:[E.jsx("h2",{children:"Show Function"}),s.filter(Boolean).map((T,S)=>{let k=T===h?"btn-primary-darker":"btn-primary";return E.jsx("div",{children:E.jsx("button",{className:`btn btn-xs ${k}`,onClick:()=>w(T),children:T})},S)})]}):null]}),o?E.jsx("div",{className:"arrangements-list",children:Object.entries(o).map(([T,S],k)=>E.jsx(An,{to:`/arrangement/${S.id}`,className:"arrangement-card-link",children:E.jsx("div",{children:E.jsx("div",{className:"card",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h2",{children:S.title}),E.jsx("p",{children:S.excerpt})]})})},k)}))}):E.jsx("div",{className:"arrangements-list",children:Object.entries(r).map(([T,S],k)=>E.jsx(An,{to:`/arrangement/${S.id}`,className:"arrangement-card-link",children:E.jsx("div",{children:E.jsx("div",{className:"card",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h2",{children:S.title}),E.jsx("p",{children:S.excerpt})]})})},k)}))})]})]})}function dC({data:r,getItems:e}){const{id:t}=My(),[s,o]=H.useState(null),[l,h]=H.useState(!1),f=()=>{const w=document.getElementById("singlepageIMG").parentNode;l===!0&&(w.className="singlepageIMG-div-grow",h(!1)),w.className==="singlepageIMG-div"?(w.className="singlepageIMG-div-grow",h(!0)):w.className="singlepageIMG-div"},p=()=>{for(let y=0;y<r.length;y++)if(r[y].id===t){o(r[y]);return}o(null)};return H.useEffect(()=>{e()},[t]),H.useEffect(()=>{p()},[r]),s?E.jsxs("div",{className:"singlepage-fullpage",children:[E.jsx("h1",{children:s.title}),E.jsxs("div",{className:"d-flex justify-content-around flex-wrap",children:[E.jsxs("div",{className:"singlepage-left",children:[s.photoURL?E.jsx("div",{children:E.jsx("div",{onClick:f,className:"singlepageIMG-div",children:E.jsx("img",{id:"singlepageIMG",src:s.photoURL})})}):E.jsx("div",{className:"singlepageIMG-div",children:E.jsx("img",{className:"singlepageIMG",src:bf})}),E.jsxs("audio",{controls:!0,children:[E.jsx("source",{src:s.audioURL,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}),E.jsxs("div",{className:"singlepage-right",children:[E.jsx("p",{children:s.description}),E.jsx("h2",{children:"Voicing"}),E.jsx("p",{children:s.voicing}),E.jsx("h2",{children:"Show Function"}),E.jsx("p",{children:s.showFunction?s.showFunction.join(", "):"No show functions available"}),E.jsx("h2",{children:"Accompaniment"}),E.jsx("p",{children:s.accompaniment}),E.jsx("h2",{children:"Difficulty"}),E.jsx("p",{children:s.difficulty}),E.jsx("h2",{children:"Price"}),E.jsx("p",{children:s.price})]})]}),E.jsx(An,{to:"/contact",className:"btn btn-warning",target:"_blank",children:"Purchase"})]}):E.jsx("div",{className:"singlepage-fullpage",children:"Loading..."})}function fC({data:r,getItems:e,storage:t}){const{id:s}=My(),[o,l]=H.useState(null),h=$d(),f=async y=>{y.preventDefault();const w=y.target.tags.value.split(",").map(C=>C.trim()).filter(Boolean),T=y.target.voicing.value.split(",").map(C=>C.trim()).filter(Boolean),S=y.target.showFunction.value.split(",").map(C=>C.trim()).filter(Boolean);let k={title:y.target.title.value,voicing:T,difficulty:y.target.difficulty.value,showFunction:S,tags:w,excerpt:y.target.excerpt.value,description:y.target.description.value,accompaniment:y.target.accompaniment.value,price:y.target.price.value};try{const C=y.target.elements.AudioUpload,M=C==null?void 0:C.files[0],V=y.target.elements.PhotoUpload,W=V==null?void 0:V.files[0],G=wf(rs,"arrangements",s);if(M){if(o.audioURL){const me=ci(t,o.audioURL);await vy(me).catch(D=>{console.warn("Old file deletion failed (may not exist):",D)})}const Z=ci(t,`audio/${M.name}`),re=await jd(Z,M,{contentType:M.type}),ve=await Va(re.ref);k.audioURL=ve}if(W){if(o.photoURL){const me=ci(t,o.photoURL);await vy(me).catch(D=>{console.warn("Old file deletion failed (may not exist):",D)})}const Z=ci(t,`audio/${W.name}`),re=await jd(Z,W,{contentType:W.type}),ve=await Va(re.ref);k.photoURL=ve}await bR(G,k),console.log("Document updated successfully!"),h("/admin")}catch(C){console.error("Error updating document:",C)}},p=()=>{if(!r||!Array.isArray(r)){l(null);return}for(let y=0;y<r.length;y++)if(r[y].id===s){l(r[y]),console.log("hi");return}l(null)};return H.useEffect(()=>{r.length>0&&(o==null?void 0:o.id)!==s&&p()},[r,s]),o?E.jsxs("div",{className:"singlepage-fullpage",children:[E.jsxs("div",{className:"d-flex justify-content-around flex-wrap",children:[E.jsxs("div",{className:"singlepage-left",children:[o.photoURL?E.jsx("div",{className:"singlepageIMG-div",children:E.jsx("embed",{src:o.photoURL})}):E.jsx("div",{className:"singlepageIMG-div",children:E.jsx("img",{className:"singlepageIMG",src:bf})}),"                    ",E.jsxs("audio",{controls:!0,children:[E.jsx("source",{src:o.audioURL,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}),E.jsxs("form",{className:"w-75 m-auto singlepage-right",onSubmit:f,name:"title",children:[E.jsxs("h2",{className:"text-center",children:["Edit ",o.title]}),E.jsx("label",{for:"title",className:"form-label",children:"Title"}),E.jsx("input",{defaultValue:o.title,className:"form-control",id:"title",name:"title"}),E.jsx("label",{for:"voicing",className:"form-label",children:"Voicing"}),E.jsx("input",{defaultValue:o.voicing,className:"form-control",id:"voicing",name:"voicing"}),E.jsx("label",{for:"difficulty",className:"form-label",children:"Difficulty"}),E.jsx("input",{defaultValue:o.difficulty,className:"form-control",id:"difficulty",name:"difficulty"}),E.jsx("label",{for:"tags",className:"form-label",children:"Tags (Separated by Commas)"}),E.jsx("input",{defaultValue:o.tags,className:"form-control",id:"tags",name:"tags"}),E.jsx("label",{for:"showFunction",className:"form-label",children:"Show Function (Separated by Commas)"}),E.jsx("input",{defaultValue:o.showFunction,className:"form-control",id:"showFunction",name:"showFunction"}),E.jsx("label",{for:"excerpt",className:"form-label",children:"Excerpt"}),E.jsx("input",{defaultValue:o.excerpt,className:"form-control",id:"excerpt",name:"excerpt"}),E.jsx("label",{for:"description",className:"form-label",children:"Description"}),E.jsx("input",{defaultValue:o.description,className:"form-control",id:"description",name:"description"}),E.jsx("label",{for:"accompaniment",className:"form-label",children:"Accompaniment"}),E.jsx("input",{defaultValue:o.accompaniment,className:"form-control",id:"accompaniment",name:"accompaniment"}),E.jsx("label",{for:"price",className:"form-label",children:"Price"}),E.jsx("input",{defaultValue:o.price,className:"form-control",id:"price",name:"price"}),E.jsx("label",{for:"AudioUpload",className:"form-label",children:"Audio Upload"}),E.jsx("br",{}),E.jsx("input",{type:"file",name:"AudioUpload",id:"AudioUpload"}),E.jsx("br",{}),E.jsx("label",{for:"PhotoUpload",className:"form-label",children:"PDF Upload"}),E.jsx("br",{}),E.jsx("input",{type:"file",name:"PhotoUpload",id:"PhotoUpload"}),E.jsx("br",{}),E.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]}),E.jsx("p",{children:o.info})]}):E.jsx("div",{className:"singlepage-fullpage",children:"Loading..."})}function pC({storage:r}){const[e,t]=H.useState({}),[s,o]=H.useState([]),[l,h]=H.useState([]),[f,p]=H.useState([]),y=async()=>{const T=bu(Da(rs,"arrangements"));let S=[];(await Lu(T)).forEach(C=>{S.push({id:C.id,...C.data()})}),t(S)},w=()=>{let T=[],S=[],k=[];console.log(e);for(let C in e)(Array.isArray(e[C].voicing)?e[C].voicing:[e[C].voicing]).forEach(G=>{T.includes(G)||T.push(G)}),(Array.isArray(e[C].tags)?e[C].tags:[e[C].tags]).forEach(G=>{S.includes(G)||S.push(G)}),(Array.isArray(e[C].showFunction)?e[C].showFunction:[e[C].showFunction]).forEach(G=>{k.includes(G)||k.push(G)});o(T),h(S),p(k)};return H.useEffect(()=>{y(),console.log(e)},[]),H.useEffect(()=>{w()},[e]),E.jsx(E.Fragment,{children:E.jsxs(LE,{children:[E.jsx(HE,{}),E.jsx(BR,{}),E.jsxs(hE,{children:[E.jsx(ai,{path:"/",element:E.jsx(UR,{})}),E.jsx(ai,{path:"/about",element:E.jsx(GR,{})}),E.jsx(ai,{path:"/contact",element:E.jsx(KR,{})}),E.jsx(ai,{path:"/admin",element:E.jsx(cC,{data:e,setData:t,getItems:y,storage:r})}),E.jsx(ai,{path:"/stockarrangements",element:E.jsx(hC,{data:e,voicings:s,tags:l,showFunctions:f})}),E.jsx(ai,{path:"/arrangement/:id",element:E.jsx(dC,{data:e,getItems:y})}),E.jsx(ai,{path:"/arrangement/edit/:id",element:E.jsx(fC,{data:e,getItems:y,storage:r})})]}),E.jsx(HR,{})]})})}var mC="firebase",gC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn(mC,gC,"app");const $v="@firebase/installations",Bf="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=1e4,Hv=`w:${Bf}`,Wv="FIS_v2",yC="https://firebaseinstallations.googleapis.com/v1",_C=60*60*1e3,vC="installations",wC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},as=new tc(vC,wC,EC);function Gv(r){return r instanceof Lr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv({projectId:r}){return`${yC}/projects/${r}/installations`}function Qv(r){return{token:r.token,requestStatus:2,expiresIn:IC(r.expiresIn),creationTime:Date.now()}}async function Xv(r,e){const s=(await e.json()).error;return as.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Yv({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function TC(r,{refreshToken:e}){const t=Yv(r);return t.append("Authorization",SC(e)),t}async function Jv(r){const e=await r();return e.status>=500&&e.status<600?r():e}function IC(r){return Number(r.replace("s","000"))}function SC(r){return`${Wv} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=Kv(r),o=Yv(r),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={fid:t,authVersion:Wv,appId:r.appId,sdkVersion:Hv},f={method:"POST",headers:o,body:JSON.stringify(h)},p=await Jv(()=>fetch(s,f));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:Qv(y.authToken)}}else throw await Xv("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=/^[cdef][\w-]{21}$/,Ud="";function xC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=kC(r);return CC.test(t)?t:Ud}catch{return Ud}}function kC(r){return AC(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;function t0(r,e){const t=vc(r);n0(t,e),PC(t,e)}function n0(r,e){const t=e0.get(r);if(t)for(const s of t)s(e)}function PC(r,e){const t=NC();t&&t.postMessage({key:r,fid:e}),DC()}let es=null;function NC(){return!es&&"BroadcastChannel"in self&&(es=new BroadcastChannel("[Firebase] FID Change"),es.onmessage=r=>{n0(r.data.key,r.data.fid)}),es}function DC(){e0.size===0&&es&&(es.close(),es=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firebase-installations-database",VC=1,ls="firebase-installations-store";let dd=null;function zf(){return dd||(dd=Zy(bC,VC,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ls)}}})),dd}async function Yu(r,e){const t=vc(r),o=(await zf()).transaction(ls,"readwrite"),l=o.objectStore(ls),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&t0(r,e.fid),e}async function r0(r){const e=vc(r),s=(await zf()).transaction(ls,"readwrite");await s.objectStore(ls).delete(e),await s.done}async function wc(r,e){const t=vc(r),o=(await zf()).transaction(ls,"readwrite"),l=o.objectStore(ls),h=await l.get(t),f=e(h);return f===void 0?await l.delete(t):await l.put(f,t),await o.done,f&&(!h||h.fid!==f.fid)&&t0(r,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(r){let e;const t=await wc(r.appConfig,s=>{const o=LC(s),l=OC(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Ud?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function LC(r){const e=r||{fid:xC(),registrationStatus:0};return i0(e)}function OC(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(as.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=MC(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FC(r)}:{installationEntry:e}}async function MC(r,e){try{const t=await RC(r,e);return Yu(r.appConfig,t)}catch(t){throw Gv(t)&&t.customData.serverCode===409?await r0(r.appConfig):await Yu(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function FC(r){let e=await wy(r.appConfig);for(;e.registrationStatus===1;)await Zv(100),e=await wy(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await $f(r);return s||t}return e}function wy(r){return wc(r,e=>{if(!e)throw as.create("installation-not-found");return i0(e)})}function i0(r){return jC(r)?{fid:r.fid,registrationStatus:0}:r}function jC(r){return r.registrationStatus===1&&r.registrationTime+qv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC({appConfig:r,heartbeatServiceProvider:e},t){const s=BC(r,t),o=TC(r,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={installation:{sdkVersion:Hv,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(h)},p=await Jv(()=>fetch(s,f));if(p.ok){const y=await p.json();return Qv(y)}else throw await Xv("Generate Auth Token",p)}function BC(r,{fid:e}){return`${Kv(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(r,e=!1){let t;const s=await wc(r.appConfig,l=>{if(!s0(l))throw as.create("not-registered");const h=l.authToken;if(!e&&qC(h))return l;if(h.requestStatus===1)return t=zC(r,e),l;{if(!navigator.onLine)throw as.create("app-offline");const f=WC(l);return t=$C(r,f),f}});return t?await t:s.authToken}async function zC(r,e){let t=await Ey(r.appConfig);for(;t.authToken.requestStatus===1;)await Zv(100),t=await Ey(r.appConfig);const s=t.authToken;return s.requestStatus===0?qf(r,e):s}function Ey(r){return wc(r,e=>{if(!s0(e))throw as.create("not-registered");const t=e.authToken;return GC(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function $C(r,e){try{const t=await UC(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Yu(r.appConfig,s),t}catch(t){if(Gv(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await r0(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Yu(r.appConfig,s)}throw t}}function s0(r){return r!==void 0&&r.registrationStatus===2}function qC(r){return r.requestStatus===2&&!HC(r)}function HC(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+_C}function WC(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function GC(r){return r.requestStatus===1&&r.requestTime+qv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(r){const e=r,{installationEntry:t,registrationPromise:s}=await $f(e);return s?s.catch(console.error):qf(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(r,e=!1){const t=r;return await XC(t),(await qf(t,e)).token}async function XC(r){const{registrationPromise:e}=await $f(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){if(!r||!r.options)throw fd("App Configuration");if(!r.name)throw fd("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw fd(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function fd(r){return as.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="installations",JC="installations-internal",ZC=r=>{const e=r.getProvider("app").getImmediate(),t=YC(e),s=wo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},ex=r=>{const e=r.getProvider("app").getImmediate(),t=wo(e,o0).getImmediate();return{getId:()=>KC(t),getToken:o=>QC(t,o)}};function tx(){Dr(new or(o0,ZC,"PUBLIC")),Dr(new or(JC,ex,"PRIVATE"))}tx();Cn($v,Bf);Cn($v,Bf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="analytics",nx="firebase_id",rx="origin",ix=60*1e3,sx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new Qd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new tc("analytics","Analytics",ox);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(r){if(!r.startsWith(Hf)){const e=mn.create("invalid-gtag-resource",{gtagURL:r});return rn.warn(e.message),""}return r}function a0(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function lx(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function ux(r,e){const t=lx("firebase-js-sdk-policy",{createScriptURL:ax}),s=document.createElement("script"),o=`${Hf}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function cx(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function hx(r,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await a0(t)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(f){rn.error(f)}r("config",o,l)}async function dx(r,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const f=await a0(t);for(const p of h){const y=f.find(T=>T.measurementId===p),w=y&&e[y.appId];if(w)l.push(w);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,o||{})}catch(l){rn.error(l)}}function fx(r,e,t,s){async function o(l,...h){try{if(l==="event"){const[f,p]=h;await dx(r,e,t,f,p)}else if(l==="config"){const[f,p]=h;await hx(r,e,t,s,f,p)}else if(l==="consent"){const[f,p]=h;r("consent",f,p)}else if(l==="get"){const[f,p,y]=h;r("get",f,p,y)}else if(l==="set"){const[f]=h;r("set",f)}else r(l,...h)}catch(f){rn.error(f)}}return o}function px(r,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=fx(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function mx(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Hf)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=30,yx=1e3;class _x{constructor(e={},t=yx){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const l0=new _x;function vx(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function wx(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:vx(s)},l=sx.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let f="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(f=p.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function Ex(r,e=l0,t){const{appId:s,apiKey:o,measurementId:l}=r.options;if(!s)throw mn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw mn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Sx;return setTimeout(async()=>{f.abort()},ix),u0({appId:s,apiKey:o,measurementId:l},h,f,e)}async function u0(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=l0){var l;const{appId:h,measurementId:f}=r;try{await Tx(s,e)}catch(p){if(f)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:f};throw p}try{const p=await wx(r);return o.deleteThrottleMetadata(h),p}catch(p){const y=p;if(!Ix(y)){if(o.deleteThrottleMetadata(h),f)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:h,measurementId:f};throw p}const w=Number((l=y==null?void 0:y.customData)===null||l===void 0?void 0:l.httpStatus)===503?gg(t,o.intervalMillis,gx):gg(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return o.setThrottleMetadata(h,T),rn.debug(`Calling attemptFetch again in ${w} millis`),u0(r,T,s,o)}}function Tx(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),s(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ix(r){if(!(r instanceof Lr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class Sx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Rx(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(){if(Qy())try{await Xy()}catch(r){return rn.warn(mn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return rn.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Cx(r,e,t,s,o,l,h){var f;const p=Ex(r);p.then(k=>{t[k.measurementId]=k.appId,r.options.measurementId&&k.measurementId!==r.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>rn.error(k)),e.push(p);const y=Ax().then(k=>{if(k)return s.getId()}),[w,T]=await Promise.all([p,y]);mx(l)||ux(l,w.measurementId),o("js",new Date);const S=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return S[rx]="firebase",S.update=!0,T!=null&&(S[nx]=T),o("config",w.measurementId,S),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.app=e}_delete(){return delete La[this.app.options.appId],Promise.resolve()}}let La={},Ty=[];const Iy={};let pd="dataLayer",kx="gtag",Sy,c0,Ry=!1;function Px(){const r=[];if(iT()&&r.push("This is a browser extension environment."),oT()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=mn.create("invalid-analytics-context",{errorInfo:e});rn.warn(t.message)}}function Nx(r,e,t){Px();const s=r.options.appId;if(!s)throw mn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(La[s]!=null)throw mn.create("already-exists",{id:s});if(!Ry){cx(pd);const{wrappedGtag:l,gtagCore:h}=px(La,Ty,Iy,pd,kx);c0=l,Sy=h,Ry=!0}return La[s]=Cx(r,Ty,Iy,e,Sy,pd,t),new xx(r)}function Dx(r=Yd()){r=St(r);const e=wo(r,Ju);return e.isInitialized()?e.getImmediate():bx(r)}function bx(r,e={}){const t=wo(r,Ju);if(t.isInitialized()){const o=t.getImmediate();if(Fu(e,t.getOptions()))return o;throw mn.create("already-initialized")}return t.initialize({options:e})}function Vx(r,e,t,s){r=St(r),Rx(c0,La[r.app.options.appId],e,t,s).catch(o=>rn.error(o))}const Ay="@firebase/analytics",Cy="0.10.10";function Lx(){Dr(new or(Ju,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Nx(s,o,t)},"PUBLIC")),Dr(new or("analytics-internal",r,"PRIVATE")),Cn(Ay,Cy),Cn(Ay,Cy,"esm2017");function r(e){try{const t=e.getProvider(Ju).getImmediate();return{logEvent:(s,o,l)=>Vx(t,s,o,l)}}catch(t){throw mn.create("interop-component-reg-failed",{reason:t})}}}Lx();const Ox={apiKey:"AIzaSyA5mVo7FKNQ8oErs10IAJfZRAluryL5034",authDomain:"hughesharmonies.firebaseapp.com",projectId:"hughesharmonies",storageBucket:"hughesharmonies.firebasestorage.app",messagingSenderId:"80457043323",appId:"1:80457043323:web:09a77fc94630ef77b301de",measurementId:"G-9N84LX6KSC"},Wf=t_(Ox),Mx=oC(Wf),rs=pR(Wf);Dx(Wf);Ew.createRoot(document.getElementById("root")).render(E.jsx(H.StrictMode,{children:E.jsx(pC,{storage:Mx})}));
